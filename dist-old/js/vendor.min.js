!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){var n=(e=e||et).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,n){return dt.isFunction(e)?dt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?dt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?dt.grep(t,function(t){return at.call(e,t)>-1!==n}):It.test(e)?dt.filter(e,t,n):(e=dt.filter(e,t),dt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return dt.each(t.match(xt)||[],function(t,n){e[n]=!0}),e}function u(t){return t}function c(t){throw t}function l(t,e,n,r){var i;try{t&&dt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&dt.isFunction(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function h(){et.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),dt.ready()}function f(){this.expando=dt.expando+f.uid++}function d(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Lt.test(t)?JSON.parse(t):t)}function p(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Mt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=d(n)}catch(t){}Rt.set(t,e,n)}else n=void 0;return n}function m(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return dt.css(t,e,"")},u=s(),c=n&&n[3]||(dt.cssNumber[e]?"":"px"),l=(dt.cssNumber[e]||"px"!==c&&+u)&&Ut.exec(dt.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{l/=o=o||".5",dt.style(t,e,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function g(t){var e,n=t.ownerDocument,r=t.nodeName,i=Vt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=dt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Vt[r]=i,i)}function v(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Pt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Bt(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",Pt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function y(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&i(t,e)?dt.merge([t],n):n}function b(t,e){for(var n=0,r=t.length;n<r;n++)Pt.set(t[n],"globalEval",!e||Pt.get(e[n],"globalEval"))}function w(t,e,n,r,i){for(var o,a,s,u,c,l,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===dt.type(o))dt.merge(f,o.nodeType?[o]:o);else if(Qt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Wt.exec(o)||["",""])[1].toLowerCase(),u=Gt[s]||Gt._default,a.innerHTML=u[1]+dt.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;dt.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&dt.inArray(o,r)>-1)i&&i.push(o);else if(c=dt.contains(o.ownerDocument,o),a=y(h.appendChild(o),"script"),c&&b(a),n)for(l=0;o=a[l++];)Kt.test(o.type||"")&&n.push(o);return h}function T(){return!0}function E(){return!1}function I(){try{return et.activeElement}catch(t){}}function S(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)S(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=E;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return dt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,i,r,n)})}function C(t,e){return i(t,"table")&&i(11!==e.nodeType?e:e.firstChild,"tr")?dt(">tbody",t)[0]||t:t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(Pt.hasData(t)&&(o=Pt.access(t),a=Pt.set(e,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)dt.event.add(e,i,c[i][n])}Rt.hasData(t)&&(s=Rt.access(t),u=dt.extend({},s),Rt.set(e,u))}}function N(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ht.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function D(t,e,r,i){e=it.apply([],e);var o,a,s,u,c,l,h=0,f=t.length,d=f-1,p=e[0],m=dt.isFunction(p);if(m||f>1&&"string"==typeof p&&!ft.checkClone&&te.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),D(o,e,r,i)});if(f&&(o=w(e,t[0].ownerDocument,!1,t,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(u=(s=dt.map(y(o,"script"),A)).length;h<f;h++)c=o,h!==d&&(c=dt.clone(c,!0,!0),u&&dt.merge(s,y(c,"script"))),r.call(t[h],c,h);if(u)for(l=s[s.length-1].ownerDocument,dt.map(s,k),h=0;h<u;h++)c=s[h],Kt.test(c.type||"")&&!Pt.access(c,"globalEval")&&dt.contains(l,c)&&(c.src?dt._evalUrl&&dt._evalUrl(c.src):n(c.textContent.replace(ne,""),l))}return t}function _(t,e,n){for(var r,i=e?dt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||dt.cleanData(y(r)),r.parentNode&&(n&&dt.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return t}function O(t,e,n){var r,i,o,a,s=t.style;return(n=n||oe(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),!ft.pixelMarginRight()&&ie.test(a)&&re.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function P(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function R(t){if(t in he)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=le.length;n--;)if((t=le[n]+e)in he)return t}function L(t){var e=dt.cssProps[t];return e||(e=dt.cssProps[t]=R(t)||t),e}function M(t,e,n){var r=Ut.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function j(t,e,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+Ft[o],!0,i)),r?("content"===n&&(a-=dt.css(t,"padding"+Ft[o],!0,i)),"margin"!==n&&(a-=dt.css(t,"border"+Ft[o]+"Width",!0,i))):(a+=dt.css(t,"padding"+Ft[o],!0,i),"padding"!==n&&(a+=dt.css(t,"border"+Ft[o]+"Width",!0,i)));return a}function U(t,e,n){var r,i=oe(t),o=O(t,e,i),a="border-box"===dt.css(t,"boxSizing",!1,i);return ie.test(o)?o:(r=a&&(ft.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+j(t,e,n||(a?"border":"content"),r,i)+"px")}function F(t,e,n,r,i){return new F.prototype.init(t,e,n,r,i)}function B(){de&&(!1===et.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(B):t.setTimeout(B,dt.fx.interval),dt.fx.tick())}function q(){return t.setTimeout(function(){fe=void 0}),fe=dt.now()}function V(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Ft[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var r,i=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function W(t,e){var n,r,i,o,a;for(n in t)if(r=dt.camelCase(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=dt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function K(t,e,n){var r,i,o=0,a=K.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=fe||q(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(t,[c,r,n]),r<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},n),originalProperties:e,originalOptions:n,startTime:fe||q(),duration:n.duration,tweens:[],createTween:function(e,n){var r=dt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(W(l,c.opts.specialEasing);o<a;o++)if(r=K.prefilters[o].call(c,t,l,c.opts))return dt.isFunction(r.stop)&&(dt._queueHooks(c.elem,c.opts.queue).stop=dt.proxy(r.stop,r)),r;return dt.map(l,H,c),dt.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),dt.fx.timer(dt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}function G(t){return(t.match(xt)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function z(t,e,n,r){var i;if(Array.isArray(e))dt.each(e,function(e,i){n||Ce.test(t)?r(t,i):z(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==dt.type(e))r(t,e);else for(i in e)z(t+"["+i+"]",e[i],n,r)}function X(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(xt)||[];if(dt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function $(t,e,n,r){function i(s){var u;return o[s]=!0,dt.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=t===Me;return i(e.dataTypes[0])||!o["*"]&&i("*")}function Y(t,e){var n,r,i=dt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&dt.extend(!0,t,r),t}function J(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Z(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var tt=[],et=t.document,nt=Object.getPrototypeOf,rt=tt.slice,it=tt.concat,ot=tt.push,at=tt.indexOf,st={},ut=st.toString,ct=st.hasOwnProperty,lt=ct.toString,ht=lt.call(Object),ft={},dt=function(t,e){return new dt.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([a-z])/g,vt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:"3.2.1",constructor:dt,length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?rt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},dt.extend=dt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||dt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(c&&r&&(dt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&dt.isPlainObject(n)?n:{},a[e]=dt.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},dt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=nt(t))||"function"==typeof(n=ct.call(e,"constructor")&&e.constructor)&&lt.call(n)===ht)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var i,o,a=0,s=[];if(r(t))for(i=t.length;a<i;a++)null!=(o=e(t[a],a,n))&&s.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&s.push(o);return it.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),dt.isFunction(t))return r=rt.call(arguments,2),i=function(){return t.apply(e||this,r.concat(rt.call(arguments)))},i.guid=t.guid=t.guid||dt.guid++,i},now:Date.now,support:ft}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=tt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,n,r){var i,o,a,s,u,l,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:F)!==_&&D(e),e=e||_,P)){if(11!==p&&(u=mt.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&j(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return $.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return $.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&!W[t+" "]&&(!R||!R.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,wt):e.setAttribute("id",s=U),o=(l=S(t)).length;o--;)l[o]="#"+s+" "+h(l[o]);f=l.join(","),d=gt.test(t)&&c(e.parentNode)||e}if(f)try{return $.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{s===U&&e.removeAttribute("id")}}}return A(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[U]=!0,t}function i(t){var e=_.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Et(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=q++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var c,l,h,f=[B,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(h=e[U]||(e[U]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===B&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function p(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function g(t,e,n,i,o,a){return i&&!i[U]&&(i=g(i)),o&&!o[U]&&(o=g(o,a)),r(function(r,a,s,u){var c,l,h,f=[],d=[],g=a.length,v=r||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,f,t,s,u),b=n?o||(r?t:g||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(c=m(b,d),i(c,[],s,u),l=c.length;l--;)(h=c[l])&&(b[d[l]]=!(y[d[l]]=h));if(r){if(o||t){if(o){for(c=[],l=b.length;l--;)(h=b[l])&&c.push(y[l]=h);o(null,b=[],c,u)}for(l=b.length;l--;)(h=b[l])&&(c=o?J(r,h):f[l])>-1&&(r[c]=!(a[c]=h))}}else b=m(b===a?b.splice(g,b.length):b),o?o(null,a,b,u):$.apply(a,b)})}function v(t){for(var e,n,r,i=t.length,o=T.relative[t[0].type],a=o||T.relative[" "],s=o?1:0,u=f(function(t){return t===e},a,!0),c=f(function(t){return J(e,t)>-1},a,!0),l=[function(t,n,r){var i=!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];s<i;s++)if(n=T.relative[t[s].type])l=[f(d(l),n)];else{if((n=T.filter[t[s].type].apply(null,t[s].matches))[U]){for(r=++s;r<i&&!T.relative[t[r].type];r++);return g(s>1&&d(l),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<r&&v(t.slice(s,r)),r<i&&v(t=t.slice(r)),r<i&&h(t))}l.push(n)}return d(l)}function y(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,c){var l,h,f,d=0,p="0",g=r&&[],v=[],y=k,b=r||o&&T.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,E=b.length;for(c&&(k=a===_||a||c);p!==E&&null!=(l=b[p]);p++){if(o&&l){for(h=0,a||l.ownerDocument===_||(D(l),s=!P);f=t[h++];)if(f(l,a||_,s)){u.push(l);break}c&&(B=w)}i&&((l=!f&&l)&&d--,r&&g.push(l))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=z.call(u));v=m(v)}$.apply(u,v),c&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(B=w,k=y),g};return i?r(a):a}var b,w,T,E,I,S,C,A,k,x,N,D,_,O,P,R,L,M,j,U="sizzle"+1*new Date,F=t.document,B=0,q=0,V=n(),H=n(),W=n(),K=function(t,e){return t===e&&(N=!0),0},G={}.hasOwnProperty,Q=[],z=Q.pop,X=Q.push,$=Q.push,Y=Q.slice,J=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(rt),lt=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Tt=function(){D()},Et=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{$.apply(Q=Y.call(F.childNodes),F.childNodes),Q[F.childNodes.length].nodeType}catch(t){$={apply:Q.length?function(t,e){X.apply(t,Y.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},I=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:F;return r!==_&&9===r.nodeType&&r.documentElement?(_=r,O=_.documentElement,P=!I(_),F!==_&&(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(_.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(_.getElementsByClassName),w.getById=i(function(t){return O.appendChild(t).id=U,!_.getElementsByName||!_.getElementsByName(U).length}),w.getById?(T.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}}):(T.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&P){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),T.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&P)return e.getElementsByClassName(t)},L=[],R=[],(w.qsa=pt.test(_.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+U+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||R.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=_.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=pt.test(M=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){w.disconnectedMatch=M.call(t,"*"),M.call(t,"[s!='']:x"),L.push("!=",rt)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),e=pt.test(O.compareDocumentPosition),j=e||pt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===_||t.ownerDocument===F&&j(F,t)?-1:e===_||e.ownerDocument===F&&j(F,e)?1:x?J(x,t)-J(x,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===_?-1:e===_?1:i?-1:o?1:x?J(x,t)-J(x,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===F?-1:u[r]===F?1:0},_):_},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==_&&D(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&P&&!W[n+" "]&&(!L||!L.test(n))&&(!R||!R.test(n)))try{var r=M.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,_,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==_&&D(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==_&&D(t);var n=T.attrHandle[e.toLowerCase()],r=n&&G.call(T.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:w.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(N=!w.detectDuplicates,x=!w.sortStable&&t.slice(0),t.sort(K),N){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return x=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},(T=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(d=(c=(l=(h=(f=g)[U]||(f[U]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===B&&c[1])&&c[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){l[t]=[B,d,b];break}}else if(y&&(b=d=(c=(l=(h=(f=e)[U]||(f[U]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===B&&c[1]),!1===b)for(;(f=++d&&f&&f[m]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((l=(h=f[U]||(f[U]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[B,b]),f!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[U]?o(n):o.length>1?(i=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)t[r=J(t,i[a])]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=C(t.replace(ot,"$1"));return i[U]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return lt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var n;do{if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return l.prototype=T.filters=T.pseudos,T.setFilters=new l,S=e.tokenize=function(t,n){var r,i,o,a,s,u,c,l=H[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=T.preFilter;s;){r&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=st.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),s=s.slice(r.length));for(a in T.filter)!(i=ht[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):H(t,u).slice(0)},C=e.compile=function(t,e){var n,r=[],i=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=v(e[n]))[U]?r.push(o):i.push(o);(o=W(t,y(i,r))).selector=t}return o},A=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,f=!r&&S(t=l.selector||t);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&P&&T.relative[o[1].type]){if(!(e=(T.find.ID(a.matches[0].replace(vt,yt),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(vt,yt),gt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return $.apply(n,r),n;break}}return(l||C(t,f))(r,e,!P,n,!e||gt.test(t)&&c(e.parentNode)||e),n},w.sortStable=U.split("").sort(K).join("")===U,w.detectDuplicates=!!N,D(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(_.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);dt.find=yt,dt.expr=yt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=yt.uniqueSort,dt.text=yt.getText,dt.isXMLDoc=yt.isXML,dt.contains=yt.contains,dt.escapeSelector=yt.escape;var bt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&dt(t).is(n))break;r.push(t)}return r},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=dt.expr.match.needsContext,Et=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,It=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?dt.find.matchesSelector(r,t)?[r]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)dt.find(t,i[e],n);return r>1?dt.uniqueSort(n):n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&Tt.test(t)?dt(t):t||[],!1).length}});var St,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(dt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||St,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),Et.test(r[1])&&dt.isPlainObject(e))for(r in e)dt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=et.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==n.ready?n.ready(t):t(dt):dt.makeArray(t,this)}).prototype=dt.fn,St=dt(et);var At=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e=dt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(dt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&dt(t);if(!Tt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(dt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return i(t,"iframe")?t.contentDocument:(i(t,"template")&&(t=t.content||t),dt.merge([],t.childNodes))}},function(t,e){dt.fn[t]=function(n,r){var i=dt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=dt.filter(r,i)),this.length>1&&(kt[t]||dt.uniqueSort(i),At.test(t)&&i.reverse()),this.pushStack(i)}});var xt=/[^\x20\t\r\n\f]+/g;dt.Callbacks=function(t){t="string"==typeof t?s(t):dt.extend({},t);var e,n,r,i,o=[],a=[],u=-1,c=function(){for(i=i||t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(u=o.length-1,a.push(n)),function e(n){dt.each(n,function(n,r){dt.isFunction(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==dt.type(r)&&e(r)})}(arguments),n&&!e&&c()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;(n=dt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?dt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},dt.extend({Deferred:function(e){var n=[["notify","progress",dt.Callbacks("memory"),dt.Callbacks("memory"),2],["resolve","done",dt.Callbacks("once memory"),dt.Callbacks("once memory"),0,"resolved"],["reject","fail",dt.Callbacks("once memory"),dt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return dt.Deferred(function(e){dt.each(n,function(n,r){var i=dt.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var s=this,l=arguments,h=function(){var t,h;if(!(e<a)){if((t=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,dt.isFunction(h)?i?h.call(t,o(a,n,u,i),o(a,n,c,i)):(a++,h.call(t,o(a,n,u,i),o(a,n,c,i),o(a,n,u,n.notifyWith))):(r!==u&&(s=void 0,l=[t]),(i||n.resolveWith)(s,l))}},f=i?h:function(){try{h()}catch(t){dt.Deferred.exceptionHook&&dt.Deferred.exceptionHook(t,f.stackTrace),e+1>=a&&(r!==c&&(s=void 0,l=[t]),n.rejectWith(s,l))}};e?f():(dt.Deferred.getStackHook&&(f.stackTrace=dt.Deferred.getStackHook()),t.setTimeout(f))}}var a=0;return dt.Deferred(function(t){n[0][3].add(o(0,t,dt.isFunction(i)?i:u,t.notifyWith)),n[1][3].add(o(0,t,dt.isFunction(e)?e:u)),n[2][3].add(o(0,t,dt.isFunction(r)?r:c))}).promise()},promise:function(t){return null!=t?dt.extend(t,i):i}},o={};return dt.each(n,function(t,e){var a=e[2],s=e[5];i[e[1]]=a.add,s&&a.add(function(){r=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=rt.call(arguments),o=dt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?rt.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||dt.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Nt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},dt.readyException=function(e){t.setTimeout(function(){throw e})};var Dt=dt.Deferred();dt.fn.ready=function(t){return Dt.then(t).catch(function(t){dt.readyException(t)}),this},dt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0,!0!==t&&--dt.readyWait>0||Dt.resolveWith(et,[dt]))}}),dt.ready.then=Dt.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(dt.ready):(et.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var _t=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===dt.type(n)){i=!0;for(s in n)_t(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,dt.isFunction(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},Ot=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};f.uid=1,f.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ot(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[dt.camelCase(e)]=n;else for(r in e)i[dt.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][dt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(dt.camelCase):(e=dt.camelCase(e))in r?[e]:e.match(xt)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||dt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!dt.isEmptyObject(e)}};var Pt=new f,Rt=new f,Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/[A-Z]/g;dt.extend({hasData:function(t){return Rt.hasData(t)||Pt.hasData(t)},data:function(t,e,n){return Rt.access(t,e,n)},removeData:function(t,e){Rt.remove(t,e)},_data:function(t,e,n){return Pt.access(t,e,n)},_removeData:function(t,e){Pt.remove(t,e)}}),dt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Rt.get(o),1===o.nodeType&&!Pt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=dt.camelCase(r.slice(5)),p(o,r,i[r]));Pt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Rt.set(this,t)}):_t(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Rt.get(o,t)))return n;if(void 0!==(n=p(o,t)))return n}else this.each(function(){Rt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Rt.remove(this,t)})}}),dt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Pt.get(t,e),n&&(!r||Array.isArray(n)?r=Pt.access(t,e,dt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),r=n.length,i=n.shift(),o=dt._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){dt.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Pt.get(t,n)||Pt.access(t,n,{empty:dt.Callbacks("once memory").add(function(){Pt.remove(t,[e+"queue",n])})})}}),dt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?dt.queue(this[0],t):void 0===e?this:this.each(function(){var n=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=dt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Pt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),Ft=["Top","Right","Bottom","Left"],Bt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&dt.contains(t.ownerDocument,t)&&"none"===dt.css(t,"display")},qt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Vt={};dt.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Bt(this)?dt(this).show():dt(this).hide()})}});var Ht=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|\/(?:java|ecma)script/i,Gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Qt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment().appendChild(et.createElement("div")),e=et.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),ft.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var zt=et.documentElement,Xt=/^key/,$t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yt=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,h,f,d,p,m,g=Pt.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&dt.find.matchesSelector(zt,i),n.guid||(n.guid=dt.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==dt&&dt.event.triggered!==e.type?dt.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(xt)||[""]).length;c--;)d=m=(s=Yt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=dt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=dt.event.special[d]||{},l=dt.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&dt.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),dt.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,h,f,d,p,m,g=Pt.hasData(t)&&Pt.get(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(xt)||[""]).length;c--;)if(s=Yt.exec(e[c])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(h=dt.event.special[d]||{},f=u[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||dt.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)dt.event.remove(t,d+e[c],n,r,!0);dt.isEmptyObject(u)&&Pt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=dt.event.fix(t),u=new Array(arguments.length),c=(Pt.get(this,"events")||{})[s.type]||[],l=dt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=dt.event.handlers.call(this,s,c),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((dt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?dt(i,this).index(c)>-1:dt.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(dt.Event.prototype,t,{enumerable:!0,configurable:!0,get:dt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[dt.expando]?t:new dt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==I()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===I()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(t){return i(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},dt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?T:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&$t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},dt.event.addProp),dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||dt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),dt.fn.extend({on:function(t,e,n,r){return S(this,t,e,n,r)},one:function(t,e,n,r){return S(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,dt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=E),this.each(function(){dt.event.remove(this,t,n,e)})}});var Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Zt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;dt.extend({htmlPrefilter:function(t){return t.replace(Jt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=dt.contains(t.ownerDocument,t);if(!(ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(a=y(s),r=0,i=(o=y(t)).length;r<i;r++)N(o[r],a[r]);if(e)if(n)for(o=o||y(t),a=a||y(s),r=0,i=o.length;r<i;r++)x(o[r],a[r]);else x(t,s);return(a=y(s,"script")).length>0&&b(a,!u&&y(t,"script")),s},cleanData:function(t){for(var e,n,r,i=dt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ot(n)){if(e=n[Pt.expando]){if(e.events)for(r in e.events)i[r]?dt.event.remove(n,r):dt.removeEvent(n,r,e.handle);n[Pt.expando]=void 0}n[Rt.expando]&&(n[Rt.expando]=void 0)}}}),dt.fn.extend({detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return _t(this,function(t){return void 0===t?dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return D(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)})},prepend:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(dt.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Zt.test(t)&&!Gt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(dt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return D(this,arguments,function(e){var n=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var n,r=[],i=dt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),dt(i[a])[e](n),ot.apply(r,n.get());return this.pushStack(r)}});var re=/^margin/,ie=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),oe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",zt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,zt.removeChild(a),s=null}}var n,r,i,o,a=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),dt.extend(ft,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var ae=/^(none|table(?!-c[ea]).+)/,se=/^--/,ue={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},le=["Webkit","Moz","ms"],he=et.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=O(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=dt.camelCase(e),u=se.test(e),c=t.style;if(u||(e=L(s)),a=dt.cssHooks[e]||dt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=Ut.exec(n))&&i[1]&&(n=m(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(dt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=dt.camelCase(e);return se.test(e)||(e=L(s)),(a=dt.cssHooks[e]||dt.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=O(t,e,r)),"normal"===i&&e in ce&&(i=ce[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,n,r){if(n)return!ae.test(dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?U(t,e,r):qt(t,ue,function(){return U(t,e,r)})},set:function(t,n,r){var i,o=r&&oe(t),a=r&&j(t,e,r,"border-box"===dt.css(t,"boxSizing",!1,o),o);return a&&(i=Ut.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=dt.css(t,e)),M(0,n,a)}}}),dt.cssHooks.marginLeft=P(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(O(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ft[r]+e]=o[r]||o[r-2]||o[0];return i}},re.test(t)||(dt.cssHooks[t+e].set=M)}),dt.fn.extend({css:function(t,e){return _t(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=oe(t),i=e.length;a<i;a++)o[e[a]]=dt.css(t,e[a],!1,r);return o}return void 0!==n?dt.style(t,e,n):dt.css(t,e)},t,e,arguments.length>1)}}),dt.Tween=F,F.prototype={constructor:F,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=F.prototype.init,dt.fx.step={};var fe,de,pe=/^(?:toggle|show|hide)$/,me=/queueHooks$/;dt.Animation=dt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return m(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(xt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,c,l,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&Bt(t),g=Pt.get(t,"fxshow");n.queue||(null==(a=dt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,dt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],pe.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||dt.style(t,r)}if((u=!dt.isEmptyObject(e))||!dt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Pt.get(t,"display")),"none"===(l=dt.css(t,"display"))&&(c?l=c:(v([t],!0),c=t.style.display||c,l=dt.css(t,"display"),v([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===dt.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(g?"hidden"in g&&(m=g.hidden):g=Pt.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&v([t],!0),f.done(function(){m||v([t]),Pt.remove(t,"fxshow");for(r in d)dt.style(t,r,d[r])})),u=H(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}}],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),dt.speed=function(t,e,n){var r=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return dt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in dt.fx.speeds?r.duration=dt.fx.speeds[r.duration]:r.duration=dt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){dt.isFunction(r.old)&&r.old.call(this),r.queue&&dt.dequeue(this,r.queue)},r},dt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=dt.isEmptyObject(t),o=dt.speed(e,n,r),a=function(){var e=K(this,dt.extend({},t),o);(i||Pt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=dt.timers,a=Pt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&me.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||dt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Pt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=dt.timers,a=r?r.length:0;for(n.finish=!0,dt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var n=dt.fn[e];dt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(V(e,!0),t,r,i)}}),dt.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),dt.timers=[],dt.fx.tick=function(){var t,e=0,n=dt.timers;for(fe=dt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||dt.fx.stop(),fe=void 0},dt.fx.timer=function(t){dt.timers.push(t),dt.fx.start()},dt.fx.interval=13,dt.fx.start=function(){de||(de=!0,B())},dt.fx.stop=function(){de=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,n){return e=dt.fx?dt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=et.createElement("input"),e=et.createElement("select").appendChild(et.createElement("option"));t.type="checkbox",ft.checkOn=""!==t.value,ft.optSelected=e.selected,(t=et.createElement("input")).value="t",t.type="radio",ft.radioValue="t"===t.value}();var ge,ve=dt.expr.attrHandle;dt.fn.extend({attr:function(t,e){return _t(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(i=dt.attrHooks[e.toLowerCase()]||(dt.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void dt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=dt.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&i(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(xt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?dt.removeAttr(t,n):t.setAttribute(n,n),n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||dt.find.attr;ve[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=ve[a],ve[a]=i,i=null!=n(t,e,r)?a:null,ve[a]=o),i}});var ye=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return _t(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[dt.propFix[t]||t]})}}),dt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,i=dt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ft.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,Q(this)))});if("string"==typeof t&&t)for(e=t.match(xt)||[];n=this[u++];)if(i=Q(n),r=1===n.nodeType&&" "+G(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=G(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xt)||[];n=this[u++];)if(i=Q(n),r=1===n.nodeType&&" "+G(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=G(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(n){dt(this).toggleClass(t.call(this,n,Q(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=dt(this),o=t.match(xt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=Q(this))&&Pt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Pt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+G(Q(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;dt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=dt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,dt(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=dt.map(i,function(t){return null==t?"":t+""})),(e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=dt.valHooks[i.type]||dt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(we,""):null==n?"":n}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:G(dt.text(t))}},select:{get:function(t){var e,n,r,o=t.options,a=t.selectedIndex,s="select-one"===t.type,u=s?null:[],c=s?a+1:o.length;for(r=a<0?c:s?a:0;r<c;r++)if(((n=o[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(e=dt(n).val(),s)return e;u.push(e)}return u},set:function(t,e){for(var n,r,i=t.options,o=dt.makeArray(e),a=i.length;a--;)((r=i[a]).selected=dt.inArray(dt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},ft.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;dt.extend(dt.event,{trigger:function(e,n,r,i){var o,a,s,u,c,l,h,f=[r||et],d=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||et,3!==r.nodeType&&8!==r.nodeType&&!Te.test(d+dt.event.triggered)&&(d.indexOf(".")>-1&&(d=(p=d.split(".")).shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[dt.expando]?e:new dt.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:dt.makeArray(n,[e]),h=dt.event.special[d]||{},i||!h.trigger||!1!==h.trigger.apply(r,n))){if(!i&&!h.noBubble&&!dt.isWindow(r)){for(u=h.delegateType||d,Te.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||et)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,(l=(Pt.get(a,"events")||{})[e.type]&&Pt.get(a,"handle"))&&l.apply(a,n),(l=c&&a[c])&&l.apply&&Ot(a)&&(e.result=l.apply(a,n),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!Ot(r)||c&&dt.isFunction(r[d])&&!dt.isWindow(r)&&((s=r[c])&&(r[c]=null),dt.event.triggered=d,r[d](),dt.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(t,e,n){var r=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(r,null,e)}}),dt.fn.extend({trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}}),dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ft.focusin="onfocusin"in t,ft.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Pt.access(r,e);i||r.addEventListener(t,n,!0),Pt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Pt.access(r,e)-1;i?Pt.access(r,e,i):(r.removeEventListener(t,n,!0),Pt.remove(r,e))}}});var Ee=t.location,Ie=dt.now(),Se=/\?/;dt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),n};var Ce=/\[\]$/,Ae=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,xe=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,r=[],i=function(t,e){var n=dt.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){i(this.name,this.value)});else for(n in t)z(n,t[n],e,i);return r.join("&")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&xe.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:Array.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ne=/%20/g,De=/#.*$/,_e=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Re=/^\/\//,Le={},Me={},je="*/".concat("*"),Ue=et.createElement("a");Ue.href=Ee.href,dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,dt.ajaxSettings),e):Y(dt.ajaxSettings,t)},ajaxPrefilter:X(Le),ajaxTransport:X(Me),ajax:function(e,n){function r(e,n,r,s){var c,f,d,w,T,E=n;l||(l=!0,u&&t.clearTimeout(u),i=void 0,a=s||"",I.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=J(p,I,r)),w=Z(p,w,I,c),c?(p.ifModified&&((T=I.getResponseHeader("Last-Modified"))&&(dt.lastModified[o]=T),(T=I.getResponseHeader("etag"))&&(dt.etag[o]=T)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=w.state,f=w.data,c=!(d=w.error))):(d=E,!e&&E||(E="error",e<0&&(e=0))),I.status=e,I.statusText=(n||E)+"",c?v.resolveWith(m,[f,E,I]):v.rejectWith(m,[I,E,d]),I.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[I,p,c?f:d]),y.fireWith(m,[I,E]),h&&(g.trigger("ajaxComplete",[I,p]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,c,l,h,f,d,p=dt.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?dt(m):dt.event,v=dt.Deferred(),y=dt.Callbacks("once memory"),b=p.statusCode||{},w={},T={},E="canceled",I={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Oe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(t,e){return null==l&&(t=T[t.toLowerCase()]=T[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)I.always(t[I.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||E;return i&&i.abort(e),r(0,e),this}};if(v.promise(I),p.url=((e||p.url||Ee.href)+"").replace(Re,Ee.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(xt)||[""],null==p.crossDomain){c=et.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=dt.param(p.data,p.traditional)),$(Le,p,n,I),l)return I;(h=dt.event&&p.global)&&0==dt.active++&&dt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),o=p.url.replace(De,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ne,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Se.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(_e,"$1"),d=(Se.test(o)?"&":"?")+"_="+Ie+++d),p.url=o+d),p.ifModified&&(dt.lastModified[o]&&I.setRequestHeader("If-Modified-Since",dt.lastModified[o]),dt.etag[o]&&I.setRequestHeader("If-None-Match",dt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&I.setRequestHeader("Content-Type",p.contentType),I.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)I.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,I,p)||l))return I.abort();if(E="abort",y.add(p.complete),I.done(p.success),I.fail(p.error),i=$(Me,p,n,I)){if(I.readyState=1,h&&g.trigger("ajaxSend",[I,p]),l)return I;p.async&&p.timeout>0&&(u=t.setTimeout(function(){I.abort("timeout")},p.timeout));try{l=!1,i.send(w,r)}catch(t){if(l)throw t;r(-1,t)}}else r(-1,"No Transport");return I},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,n,r,i){return dt.isFunction(n)&&(i=i||r,r=n,n=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:i,data:n,success:r},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(dt.isFunction(t)&&(t=t.call(this[0])),e=dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(n){dt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){dt(this).replaceWith(this.childNodes)}),this}}),dt.expr.pseudos.hidden=function(t){return!dt.expr.pseudos.visible(t)},dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},dt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Fe={0:200,1223:204},Be=dt.ajaxSettings.xhr();ft.cors=!!Be&&"withCredentials"in Be,ft.ajax=Be=!!Be,dt.ajaxTransport(function(e){var n,r;if(ft.cors||Be&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Fe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=dt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var qe=[],Ve=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||dt.expando+"_"+Ie++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(Ve.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ve.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ve,"$1"+i):!1!==e.jsonp&&(e.url+=(Se.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||dt.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?dt(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,qe.push(i)),a&&dt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ft.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),dt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(ft.createHTMLDocument?((r=(e=et.implementation.createHTMLDocument("")).createElement("base")).href=et.location.href,e.head.appendChild(r)):e=et),i=Et.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=w([t],e,o),o&&o.length&&dt(o).remove(),dt.merge([],i.childNodes))},dt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=G(t.slice(s)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&dt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?dt("<div>").append(dt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.pseudos.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c=dt.css(t,"position"),l=dt(t),h={};"static"===c&&(t.style.position="relative"),s=l.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):l.css(h)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===dt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),i(t[0],"html")||(r=t.offset()),r={top:r.top+dt.css(t[0],"borderTopWidth",!0),left:r.left+dt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-dt.css(n,"marginTop",!0),left:e.left-r.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||zt})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;dt.fn[t]=function(r){return _t(this,function(t,r,i){var o;if(dt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=P(ft.pixelPosition,function(t,n){if(n)return n=O(t,e),ie.test(n)?dt(t).position()[e]+"px":n})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){dt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return _t(this,function(e,n,i){var o;return dt.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?dt.css(e,n,s):dt.style(e,n,i,s)},e,a?i:void 0,a)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.holdReady=function(t){t?dt.readyWait++:dt.ready(!0)},dt.isArray=Array.isArray,dt.parseJSON=JSON.parse,dt.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var He=t.jQuery,We=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=We),e&&t.jQuery===dt&&(t.jQuery=He),dt},e||(t.jQuery=t.$=dt),dt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],window,t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(t,e){"use strict";function n(n){var r=e.console;o[n]||(o[n]=!0,t.migrateWarnings.push(n),r&&r.warn&&!t.migrateMute&&(r.warn("JQMIGRATE: "+n),t.migrateTrace&&r.trace&&r.trace()))}function r(t,e,r,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n(i),r},set:function(t){n(i),r=t}})}function i(t,e,r,i){t[e]=function(){return n(i),r.apply(this,arguments)}}t.migrateVersion="3.0.1",e.console&&e.console.log&&(t&&!/^[12]\./.test(t.fn.jquery)||e.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),t.migrateWarnings&&e.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),e.console.log("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion));var o={};t.migrateWarnings=[],void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){o={},t.migrateWarnings.length=0},"BackCompat"===e.document.compatMode&&n("jQuery is not compatible with Quirks Mode");var a=t.fn.init,s=t.isNumeric,u=t.find,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;t.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(n("jQuery( '#' ) is not a valid selector"),e[0]=[]),a.apply(this,e)},t.fn.init.prototype=t.fn,t.find=function(t){var r=Array.prototype.slice.call(arguments);if("string"==typeof t&&c.test(t))try{e.document.querySelector(t)}catch(i){t=t.replace(l,function(t,e,n,r){return"["+e+n+'"'+r+'"]'});try{e.document.querySelector(t),n("Attribute selector with '#' must be quoted: "+r[0]),r[0]=t}catch(t){n("Attribute selector with '#' was not fixed: "+r[0])}}return u.apply(this,r)};var h;for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t.find[h]=u[h]);t.fn.size=function(){return n("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},t.parseJSON=function(){return n("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},t.isNumeric=function(e){var r=s(e),i=function(e){var n=e&&e.toString();return!t.isArray(e)&&n-parseFloat(n)+1>=0}(e);return r!==i&&n("jQuery.isNumeric() should not be called on constructed objects"),i},i(t,"holdReady",t.holdReady,"jQuery.holdReady is deprecated"),i(t,"unique",t.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),r(t.expr,"filters",t.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),r(t.expr,":",t.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos");var f=t.ajax;t.ajax=function(){var t=f.apply(this,arguments);return t.promise&&(i(t,"success",t.done,"jQXHR.success is deprecated and removed"),i(t,"error",t.fail,"jQXHR.error is deprecated and removed"),i(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var d=t.fn.removeAttr,p=t.fn.toggleClass,m=/\S+/g;t.fn.removeAttr=function(e){var r=this;return t.each(e.match(m),function(e,i){t.expr.match.bool.test(i)&&(n("jQuery.fn.removeAttr no longer sets boolean properties: "+i),r.prop(i,!1))}),d.apply(this,arguments)},t.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?p.apply(this,arguments):(n("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var n=this.getAttribute&&this.getAttribute("class")||"";n&&t.data(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":t.data(this,"__className__")||"")}))};var g=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,n){var r=t.cssHooks[n]&&t.cssHooks[n].get;r&&(t.cssHooks[n].get=function(){var t;return g=!0,t=r.apply(this,arguments),g=!1,t})}),t.swap=function(t,e,r,i){var o,a,s={};g||n("jQuery.swap() is undocumented and deprecated");for(a in e)s[a]=t.style[a],t.style[a]=e[a];o=r.apply(t,i||[]);for(a in e)t.style[a]=s[a];return o};var v=t.data;t.data=function(e,r,i){var o;if(r&&"object"==typeof r&&2===arguments.length){o=t.hasData(e)&&v.call(this,e);var a={};for(var s in r)s!==t.camelCase(s)?(n("jQuery.data() always sets/gets camelCased names: "+s),o[s]=r[s]):a[s]=r[s];return v.call(this,e,a),r}return r&&"string"==typeof r&&r!==t.camelCase(r)&&(o=t.hasData(e)&&v.call(this,e))&&r in o?(n("jQuery.data() always sets/gets camelCased names: "+r),arguments.length>2&&(o[r]=i),o[r]):v.apply(this,arguments)};var y=t.Tween.prototype.run,b=function(t){return t};t.Tween.prototype.run=function(){t.easing[this.easing].length>1&&(n("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),t.easing[this.easing]=b),y.apply(this,arguments)},t.fx.interval=t.fx.interval||13,e.requestAnimationFrame&&r(t.fx,"interval",t.fx.interval,"jQuery.fx.interval is deprecated");var w=t.fn.load,T=t.event.add,E=t.event.fix;t.event.props=[],t.event.fixHooks={},r(t.event.props,"concat",t.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),t.event.fix=function(e){var r,i=e.type,o=this.fixHooks[i],a=t.event.props;if(a.length)for(n("jQuery.event.props are deprecated and removed: "+a.join());a.length;)t.event.addProp(a.pop());if(o&&!o._migrated_&&(o._migrated_=!0,n("jQuery.event.fixHooks are deprecated and removed: "+i),(a=o.props)&&a.length))for(;a.length;)t.event.addProp(a.pop());return r=E.call(this,e),o&&o.filter?o.filter(r,e):r},t.event.add=function(t,r){return t===e&&"load"===r&&"complete"===e.document.readyState&&n("jQuery(window).on('load'...) called after load event occurred"),T.apply(this,arguments)},t.each(["load","unload","error"],function(e,r){t.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===r&&"string"==typeof t[0]?w.apply(this,t):(n("jQuery.fn."+r+"() is deprecated"),t.splice(0,0,r),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){t.fn[r]=function(t,e){return n("jQuery.fn."+r+"() event shorthand is deprecated"),arguments.length>0?this.on(r,null,t,e):this.trigger(r)}}),t(function(){t(e.document).triggerHandler("ready")}),t.event.special.ready={setup:function(){this===e.document&&n("'ready' event is deprecated")}},t.fn.extend({bind:function(t,e,r){return n("jQuery.fn.bind() is deprecated"),this.on(t,null,e,r)},unbind:function(t,e){return n("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,r,i){return n("jQuery.fn.delegate() is deprecated"),this.on(e,t,r,i)},undelegate:function(t,e,r){return n("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return n("jQuery.fn.hover() is deprecated"),this.on("mouseenter",t).on("mouseleave",e||t)}});var I=t.fn.offset;t.fn.offset=function(){var r,i=this[0],o={top:0,left:0};return i&&i.nodeType?(r=(i.ownerDocument||e.document).documentElement,t.contains(r,i)?I.apply(this,arguments):(n("jQuery.fn.offset() requires an element connected to a document"),o)):(n("jQuery.fn.offset() requires a valid DOM element"),o)};var S=t.param;t.param=function(e,r){var i=t.ajaxSettings&&t.ajaxSettings.traditional;return void 0===r&&i&&(n("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),r=i),S.call(this,e,r)};var C=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return n("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),C.apply(this,arguments)};var A=t.Deferred,k=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];return t.Deferred=function(e){var r=A(),i=r.promise();return r.pipe=i.pipe=function(){var e=arguments;return n("deferred.pipe() is deprecated"),t.Deferred(function(n){t.each(k,function(o,a){var s=t.isFunction(e[o])&&e[o];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},e&&e.call(r,r),r},t.Deferred.exceptionHook=A.exceptionHook,t}),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],function(r){return n(r,t,e),r.mobile}):n(t.jQuery,t,e)}(this,document,function(t,e,n,r){(function(t,e,r){"$:nomunge";function i(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var o,a="hashchange",s=n,u=t.event.special,c=s.documentMode,l="on"+a in e&&(c===r||c>7);t.fn[a]=function(t){return t?this.bind(a,t):this.trigger(a)},t.fn[a].delay=50,u[a]=t.extend(u[a],{setup:function(){if(l)return!1;t(o.start)},teardown:function(){if(l)return!1;t(o.stop)}}),o=function(){function n(){var r=i(),s=d(c);r!==c?(f(c=r,s),t(e).trigger(a)):s!==c&&(location.href=location.href.replace(/#.*/,"")+s),o=setTimeout(n,t.fn[a].delay)}var o,u={},c=i(),h=function(t){return t},f=h,d=h;return u.start=function(){o||n()},u.stop=function(){o&&clearTimeout(o),o=r},e.attachEvent&&!e.addEventListener&&!l&&function(){var e,r;u.start=function(){e||(r=t.fn[a].src,r=r&&r+i(),e=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||f(i()),n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(e.document.title=s.title)}catch(t){}})},u.stop=h,d=function(){return i(e.location.href)},f=function(n,r){var i=e.document,o=t.fn[a].domain;n!==r&&(i.title=s.title,i.open(),o&&i.write('<script>document.domain="'+o+'"<\/script>'),i.close(),e.location.hash=n)}}(),u}()})(t,this),function(t){t.mobile={}}(t),function(t,e,n){t.extend(t.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:t(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(t),function(t,e,n){var r={},i=t.find,o=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,a=/:jqmData\(([^)]*)\)/g;t.extend(t.mobile,{ns:"",getAttribute:function(e,n){var r;(e=e.jquery?e[0]:e)&&e.getAttribute&&(r=e.getAttribute("data-"+t.mobile.ns+n));try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:o.test(r)?JSON.parse(r):r)}catch(t){}return r},nsNormalizeDict:r,nsNormalize:function(e){return r[e]||(r[e]=t.camelCase(t.mobile.ns+e))},closestPageData:function(t){return t.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),t.fn.jqmData=function(e,n){var r;return void 0!==e&&(e&&(e=t.mobile.nsNormalize(e)),r=arguments.length<2||void 0===n?this.data(e):this.data(e,n)),r},t.jqmData=function(e,n,r){var i;return void 0!==n&&(i=t.data(e,n?t.mobile.nsNormalize(n):n,r)),i},t.fn.jqmRemoveData=function(e){return this.removeData(t.mobile.nsNormalize(e))},t.jqmRemoveData=function(e,n){return t.removeData(e,t.mobile.nsNormalize(n))},t.find=function(e,n,r,o){return e.indexOf(":jqmData")>-1&&(e=e.replace(a,"[data-"+(t.mobile.ns||"")+"$1]")),i.call(this,e,n,r,o)},t.extend(t.find,i)}(t),function(t,e){function r(e,n){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(a=t("img[usemap=#"+o+"]")[0])&&i(a))):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,r){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),r&&r.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(this[0].ownerDocument||n):e},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,r){return!!t.data(e,r[3])},focusable:function(e){return r(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),i=isNaN(n);return(i||n>=0)&&r(e,!i)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,r){function i(e,n,r,i){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),i&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],a=r.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+r]=function(n){return n===e?s["inner"+r].call(this):this.each(function(){t(this).css(a,i(this,n)+"px")})},t.fn["outer"+r]=function(e,n){return"number"!=typeof e?s["outer"+r].call(this,e):this.each(function(){t(this).css(a,i(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in n.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(r){if(r!==e)return this.css("zIndex",r);if(this.length)for(var i,o,a=t(this[0]);a.length&&a[0]!==n;){if(("absolute"===(i=a.css("position"))||"relative"===i||"fixed"===i)&&(o=parseInt(a.css("zIndex"),10),!isNaN(o)&&0!==o))return o;a=a.parent()}return 0}}),t.ui.plugin={add:function(e,n,r){var i,o=t.ui[e].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(t,e,n,r){var i,o=t.plugins[e];if(o&&(r||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)t.options[o[i][0]]&&o[i][1].apply(t.element,n)}}}(t),function(t,e,r){var i=function(e,n){var r=e.parent(),i=[],o=function(){var e=t(this),n=t.mobile.toolbar&&e.data("mobile-toolbar")?e.toolbar("option"):{position:e.attr("data-"+t.mobile.ns+"position"),updatePagePadding:!1!==e.attr("data-"+t.mobile.ns+"update-page-padding")};return"fixed"!==n.position||!0!==n.updatePagePadding},a=r.children(":jqmData(role='header')").filter(o),s=e.children(":jqmData(role='header')"),u=r.children(":jqmData(role='footer')").filter(o),c=e.children(":jqmData(role='footer')");return 0===s.length&&a.length>0&&(i=i.concat(a.toArray())),0===c.length&&u.length>0&&(i=i.concat(u.toArray())),t.each(i,function(e,r){n-=t(r).outerHeight()}),Math.max(0,n)};t.extend(t.mobile,{window:t(e),document:t(n),keyCode:t.ui.keyCode,behaviors:{},silentScroll:function(n){"number"!==t.type(n)&&(n=t.mobile.defaultHomeScroll),t.event.special.scrollstart.enabled=!1,setTimeout(function(){e.scrollTo(0,n),t.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){t.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(e){var n=t(e).closest(".ui-page").jqmData("url"),r=t.mobile.path.documentBase.hrefNoHash;return t.mobile.dynamicBaseEnabled&&n&&t.mobile.path.isPath(n)||(n=r),t.mobile.path.makeUrlAbsolute(n,r)},removeActiveLinkClass:function(e){!!t.mobile.activeClickedLink&&(!t.mobile.activeClickedLink.closest("."+t.mobile.activePageClass).length||e)&&t.mobile.activeClickedLink.removeClass(t.mobile.activeBtnClass),t.mobile.activeClickedLink=null},getInheritedTheme:function(t,e){for(var n,r,i=t[0],o="",a=/ui-(bar|body|overlay)-([a-z])\b/;i&&!((n=i.className||"")&&(r=a.exec(n))&&(o=r[2]));)i=i.parentNode;return o||e||"a"},enhanceable:function(t){return this.haveParents(t,"enhance")},hijackable:function(t){return this.haveParents(t,"ajax")},haveParents:function(e,n){if(!t.mobile.ignoreContentEnabled)return e;var r,i,o,a,s=e.length,u=t();for(a=0;a<s;a++){for(i=e.eq(a),o=!1,r=e[a];r;){if("false"===(r.getAttribute?r.getAttribute("data-"+t.mobile.ns+n):"")){o=!0;break}r=r.parentNode}o||(u=u.add(i))}return u},getScreenHeight:function(){return e.innerHeight||t.mobile.window.height()},resetActivePageHeight:function(e){var n=t("."+t.mobile.activePageClass),r=n.height(),o=n.outerHeight(!0);e=i(n,"number"==typeof e?e:t.mobile.getScreenHeight()),n.css("min-height",""),n.height()<e&&n.css("min-height",e-(o-r))},loading:function(){var e=this.loading._widget||t(t.mobile.loader.prototype.defaultHtml).loader(),n=e.loader.apply(e,arguments);return this.loading._widget=e,n}}),t.addDependents=function(e,n){var r=t(e),i=r.jqmData("dependents")||t();r.jqmData("dependents",t(i).add(n))},t.fn.extend({removeWithDependents:function(){t.removeWithDependents(this)},enhanceWithin:function(){var e,n={},r=t.mobile.page.prototype.keepNativeSelector(),i=this;t.mobile.nojs&&t.mobile.nojs(this),t.mobile.links&&t.mobile.links(this),t.mobile.degradeInputsWithin&&t.mobile.degradeInputsWithin(this),t.fn.buttonMarkup&&this.find(t.fn.buttonMarkup.initSelector).not(r).jqmEnhanceable().buttonMarkup(),t.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(r).jqmEnhanceable().fieldcontain(),t.each(t.mobile.widgets,function(e,o){if(o.initSelector){var a=t.mobile.enhanceable(i.find(o.initSelector));a.length>0&&(a=a.not(r)),a.length>0&&(n[o.prototype.widgetName]=a)}});for(e in n)n[e][e]();return this},addDependents:function(e){t.addDependents(this,e)},getEncodedText:function(){return t("<a>").text(this.text()).html()},jqmEnhanceable:function(){return t.mobile.enhanceable(this)},jqmHijackable:function(){return t.mobile.hijackable(this)}}),t.removeWithDependents=function(e){var n=t(e);(n.jqmData("dependents")||t()).remove(),n.remove()},t.addDependents=function(e,n){var r=t(e),i=r.jqmData("dependents")||t();r.jqmData("dependents",t(i).add(n))},t.find.matches=function(e,n){return t.find(e,null,null,n)},t.find.matchesSelector=function(e,n){return t.find(n,null,null,[e]).length>0}}(t,this),function(t,r){e.matchMedia=e.matchMedia||function(t,e){var n,r=t.documentElement,i=r.firstElementChild||r.firstChild,o=t.createElement("body"),a=t.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(o,i),n=42===a.offsetWidth,r.removeChild(o),{matches:n,media:t}}}(n),t.mobile.media=function(t){return e.matchMedia(t).matches}}(t),function(t,e){var r={touch:"ontouchend"in n};t.mobile.support=t.mobile.support||{},t.extend(t.support,r),t.extend(t.mobile.support,r)}(t),function(t,n){t.extend(t.support,{orientation:"orientation"in e&&"onorientationchange"in e})}(t),function(t,r){function i(t){var e,n=t.charAt(0).toUpperCase()+t.substr(1),i=(t+" "+u.join(n+" ")+n).split(" ");for(e in i)if(s[i[e]]!==r)return!0}var o,a=t("<body>").prependTo("html"),s=a[0].style,u=["Webkit","Moz","O"],c="palmGetResource"in e,l=e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini),h=e.blackberry&&!i("-webkit-transform");t.extend(t.mobile,{browser:{}}),t.mobile.browser.oldIE=function(){var t=3,e=n.createElement("div"),r=e.all||[];do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><br><![endif]--\x3e"}while(r[0]);return t>4?t:!t}(),t.extend(t.support,{pushState:"pushState"in history&&"replaceState"in history&&!(e.navigator.userAgent.indexOf("Firefox")>=0&&e.top!==e)&&-1===e.navigator.userAgent.search(/CriOS/),mediaquery:t.mobile.media("only all"),cssPseudoElement:!!i("content"),touchOverflow:!!i("overflowScrolling"),cssTransform3d:function(){var i,o,s,c="transform-3d",l=t.mobile.media("(-"+u.join("-"+c+"),(-")+"-"+c+"),("+c+")");if(l)return!!l;i=n.createElement("div"),o={MozTransform:"-moz-transform",transform:"transform"},a.append(i);for(s in o)i.style[s]!==r&&(i.style[s]="translate3d( 100px, 1px, 1px )",l=e.getComputedStyle(i).getPropertyValue(o[s]));return!!l&&"none"!==l}(),boxShadow:!!i("boxShadow")&&!h,fixedPosition:function(){var t=e,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),o=!!i&&i[1],a=n.match(/Fennec\/([0-9]+)/),s=!!a&&a[1],u=n.match(/Opera Mobi\/([0-9]+)/),c=!!u&&u[1];return!((r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&o&&o<534||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&c<7458||n.indexOf("Android")>-1&&o&&o<533||s&&s<6||"palmGetResource"in e&&o&&o<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1)}(),scrollTop:("pageXOffset"in e||"scrollTop"in n.documentElement||"scrollTop"in a[0])&&!c&&!l,dynamicBaseTag:function(){var e,n,r=location.protocol+"//"+location.host+location.pathname+"ui-dir/",i=t("head base"),o=null,s="";return i.length?s=i.attr("href"):i=o=t("<base>",{href:r}).appendTo("head"),e=t("<a href='testurl' />").prependTo(a),n=e[0].href,i[0].href=s||location.pathname,o&&o.remove(),0===n.indexOf(r)}(),cssPointerEvents:function(){var t,r=n.createElement("x"),i=n.documentElement,o=e.getComputedStyle;return"pointerEvents"in r.style&&(r.style.pointerEvents="auto",r.style.pointerEvents="x",i.appendChild(r),t=o&&"auto"===o(r,"").pointerEvents,i.removeChild(r),!!t)}(),boundingRect:void 0!==n.createElement("div").getBoundingClientRect,inlineSVG:function(){var n=e,r=!(!n.document.createElementNS||!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||n.opera&&-1===navigator.userAgent.indexOf("Chrome")),i=function(e){(!e||!r)&&t("html").addClass("ui-nosvg")},o=new n.Image;o.onerror=function(){i(!1)},o.onload=function(){i(1===o.width&&1===o.height)},o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}),a.remove(),o=function(){var t=e.navigator.userAgent;return t.indexOf("Nokia")>-1&&(t.indexOf("Symbian/3")>-1||t.indexOf("Series60/5")>-1)&&t.indexOf("AppleWebKit")>-1&&t.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),t.mobile.gradeA=function(){return(t.support.mediaquery&&t.support.cssPseudoElement||t.mobile.browser.oldIE&&t.mobile.browser.oldIE>=8)&&(t.support.boundingRect||null!==t.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},t.mobile.ajaxBlacklist=e.blackberry&&!e.WebKitPoint||l||o,o&&t(function(){t("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),t.support.boxShadow||t("html").addClass("ui-noboxshadow")}(t),function(t,e){var n,r=t.mobile.window,i=function(){};t.event.special.beforenavigate={setup:function(){r.on("navigate",i)},teardown:function(){r.off("navigate",i)}},t.event.special.navigate=n={bound:!1,pushStateEnabled:!0,originalEventName:void 0,isPushStateEnabled:function(){return t.support.pushState&&!0===t.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===t.mobile.hashListeningEnabled},popstate:function(e){var n=new t.Event("navigate"),i=new t.Event("beforenavigate"),o=e.originalEvent.state||{};i.originalEvent=e,r.trigger(i),i.isDefaultPrevented()||(e.historyState&&t.extend(o,e.historyState),n.originalEvent=e,setTimeout(function(){r.trigger(n,{state:o})},0))},hashchange:function(e){var n=new t.Event("navigate"),i=new t.Event("beforenavigate");i.originalEvent=e,r.trigger(i),i.isDefaultPrevented()||(n.originalEvent=e,r.trigger(n,{state:e.hashchangeState||{}}))},setup:function(){n.bound||(n.bound=!0,n.isPushStateEnabled()?(n.originalEventName="popstate",r.bind("popstate.navigate",n.popstate)):n.isHashChangeEnabled()&&(n.originalEventName="hashchange",r.bind("hashchange.navigate",n.hashchange)))}}}(t),function(t){t.event.special.throttledresize={setup:function(){t(this).bind("resize",i)},teardown:function(){t(this).unbind("resize",i)}};var e,n,r,i=function(){n=(new Date).getTime(),(r=n-o)>=250?(o=n,t(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(i,250-r))},o=0}(t),function(t,e){function r(){var t=i();t!==o&&(o=t,h.trigger(f))}var i,o,a,s,u,c,l,h=t(e),f="orientationchange",d={0:!0,180:!0};t.support.orientation&&(l=50,a=(u=e.innerWidth||h.width())>(c=e.innerHeight||h.height())&&u-c>l,s=d[e.orientation],(a&&s||!a&&!s)&&(d={"-90":!0,90:!0})),t.event.special.orientationchange=t.extend({},t.event.special.orientationchange,{setup:function(){if(t.support.orientation&&!t.event.special.orientationchange.disabled)return!1;o=i(),h.bind("throttledresize",r)},teardown:function(){if(t.support.orientation&&!t.event.special.orientationchange.disabled)return!1;h.unbind("throttledresize",r)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=i(),e.apply(this,arguments)}}}),t.event.special.orientationchange.orientation=i=function(){var r=n.documentElement;return(t.support.orientation?d[e.orientation]:r&&r.clientWidth/r.clientHeight<1.1)?"portrait":"landscape"},t.fn[f]=function(t){return t?this.bind(f,t):this.trigger(f)},t.attrFn&&(t.attrFn[f]=!0)}(t,this),function(t,e,n,r){function i(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function o(e,n){var o,a,s,u,c,l,h,f,d,p=e.type;if(e=t.Event(e),e.type=n,o=e.originalEvent,a=t.event.props,p.search(/^(mouse|click)/)>-1&&(a=N),o)for(h=a.length,u;h;)u=a[--h],e[u]=o[u];if(p.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==p.search(/^touch/)&&(s=i(o),p=s.touches,c=s.changedTouches,l=p&&p.length?p[0]:c&&c.length?c[0]:r))for(f=0,d=k.length;f<d;f++)u=k[f],e[u]=l[u];return e}function a(e){for(var n,r,i={};e;){n=t.data(e,S);for(r in n)n[r]&&(i[r]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function s(e,n){for(var r;e;){if((r=t.data(e,S))&&(!n||r[n]))return e;e=e.parentNode}return null}function u(){j=!1}function c(){j=!0}function l(){q=0,L.length=0,M=!1,c()}function h(){u()}function f(){d(),_=setTimeout(function(){_=0,l()},t.vmouse.resetTimerDuration)}function d(){_&&(clearTimeout(_),_=0)}function p(e,n,r){var i;return(r&&r[e]||!r&&s(n.target,e))&&(i=o(n,e),t(n.target).trigger(i)),i}function m(e){var n,r=t.data(e.target,C);!M&&(!q||q!==r)&&(n=p("v"+e.type,e))&&(n.isDefaultPrevented()&&e.preventDefault(),n.isPropagationStopped()&&e.stopPropagation(),n.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function g(e){var n,r,o,s=i(e).touches;s&&1===s.length&&(n=e.target,(r=a(n)).hasVirtualBinding&&(q=B++,t.data(n,C,q),d(),h(),R=!1,o=i(e).touches[0],O=o.pageX,P=o.pageY,p("vmouseover",e,r),p("vmousedown",e,r)))}function v(t){j||(R||p("vmousecancel",t,a(t.target)),R=!0,f())}function y(e){if(!j){var n=i(e).touches[0],r=R,o=t.vmouse.moveDistanceThreshold,s=a(e.target);(R=R||Math.abs(n.pageX-O)>o||Math.abs(n.pageY-P)>o)&&!r&&p("vmousecancel",e,s),p("vmousemove",e,s),f()}}function b(t){if(!j){c();var e,n,r=a(t.target);p("vmouseup",t,r),R||(e=p("vclick",t,r))&&e.isDefaultPrevented()&&(n=i(t).changedTouches[0],L.push({touchID:q,x:n.clientX,y:n.clientY}),M=!0),p("vmouseout",t,r),R=!1,f()}}function w(e){var n,r=t.data(e,S);if(r)for(n in r)if(r[n])return!0;return!1}function T(){}var E,I,S="virtualMouseBindings",C="virtualTouchID",A="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),x=t.event.mouseHooks?t.event.mouseHooks.props:[],N=t.event.props.concat(x),D={},_=0,O=0,P=0,R=!1,L=[],M=!1,j=!1,U="addEventListener"in n,F=t(n),B=1,q=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},I=0;I<A.length;I++)t.event.special[A[I]]=function(e){var n=e.substr(1);return{setup:function(){w(this)||t.data(this,S,{}),t.data(this,S)[e]=!0,D[e]=(D[e]||0)+1,1===D[e]&&F.bind(n,m),t(this).bind(n,T),U&&(D.touchstart=(D.touchstart||0)+1,1===D.touchstart&&F.bind("touchstart",g).bind("touchend",b).bind("touchmove",y).bind("scroll",v))},teardown:function(){--D[e],D[e]||F.unbind(n,m),U&&(--D.touchstart,D.touchstart||F.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",v));var r=t(this),i=t.data(this,S);i&&(i[e]=!1),r.unbind(n,T),w(this)||r.removeData(S)}}}(A[I]);U&&n.addEventListener("click",function(e){var n,r,i,o,a,s=L.length,u=e.target;if(s)for(n=e.clientX,r=e.clientY,E=t.vmouse.clickDistanceThreshold,i=u;i;){for(o=0;o<s;o++)if(a=L[o],0,i===u&&Math.abs(a.x-n)<E&&Math.abs(a.y-r)<E||t.data(i,C)===a.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(t,0,n),function(t,e,r){function i(e,n,i,o){var a=i.type;i.type=n,o?t.event.trigger(i,r,e):t.event.dispatch.call(e,i),i.type=a}var o=t(n),a=t.mobile.support.touch,s="touchmove scroll",u=a?"touchstart":"mousedown",c=a?"touchend":"mouseup",l=a?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,n){t.fn[n]=function(t){return t?this.bind(n,t):this.trigger(n)},t.attrFn&&(t.attrFn[n]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){i(o,(n=e)?"scrollstart":"scrollstop",t)}var n,r,o=this;t(o).bind(s,function(i){t.event.special.scrollstart.enabled&&(n||e(i,!0),clearTimeout(r),r=setTimeout(function(){e(i,!1)},50))})},teardown:function(){t(this).unbind(s)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,n=t(e),r=!1;n.bind("vmousedown",function(a){function s(){clearTimeout(l)}function u(){s(),n.unbind("vclick",c).unbind("vmouseup",s),o.unbind("vmousecancel",u)}function c(t){u(),r||h!==t.target?r&&t.preventDefault():i(e,"tap",t)}if(r=!1,a.which&&1!==a.which)return!1;var l,h=a.target;n.bind("vmouseup",s).bind("vclick",c),o.bind("vmousecancel",u),l=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(r=!0),i(e,"taphold",t.Event("taphold",{target:h}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var n=e.pageXOffset,r=e.pageYOffset,i=t.clientX,o=t.clientY;return 0===t.pageY&&Math.floor(o)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(i)>Math.floor(t.pageX)?(i-=n,o-=r):(o<t.pageY-r||i<t.pageX-n)&&(i=t.pageX-n,o=t.pageY-r),{x:i,y:o}},start:function(e){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e,r=t.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:t(e.target)}},stop:function(e){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e,r=t.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(e,n,r,o){if(n.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-n.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-n.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var a=e.coords[0]>n.coords[0]?"swipeleft":"swiperight";return i(r,"swipe",t.Event("swipe",{target:o,swipestart:e,swipestop:n}),!0),i(r,a,t.Event(a,{target:o,swipestart:e,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,n=this,r=t(n),i={};(e=t.data(this,"mobile-events"))||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=i,i.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var r,a=t.event.special.swipe.start(e),s=e.target,u=!1;i.move=function(e){a&&!e.isDefaultPrevented()&&(r=t.event.special.swipe.stop(e),u||(u=t.event.special.swipe.handleSwipe(a,r,n,s))&&(t.event.special.swipe.eventInProgress=!1),Math.abs(a.coords[0]-r.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},i.stop=function(){u=!0,t.event.special.swipe.eventInProgress=!1,o.off(l,i.move),i.move=null},o.on(l,i.move).one(c,i.stop)}},r.on(u,i.start)},teardown:function(){var e,n;(e=t.data(this,"mobile-events"))&&(n=e.swipe,delete e.swipe,e.length--,0===e.length&&t.removeData(this,"mobile-events")),n&&(n.start&&t(this).off(u,n.start),n.move&&o.off(l,n.move),n.stop&&o.off(c,n.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)},teardown:function(){t(this).unbind(n)}}})}(t,this),function(t,e){var r={animation:{},transition:{}},i=n.createElement("a"),o=["","webkit-","moz-","o-"];t.each(["animation","transition"],function(n,a){var s=0===n?a+"-name":a;t.each(o,function(n,o){if(i.style[t.camelCase(o+s)]!==e)return r[a].prefix=o,!1}),r[a].duration=t.camelCase(r[a].prefix+a+"-duration"),r[a].event=t.camelCase(r[a].prefix+a+"-end"),""===r[a].prefix&&(r[a].event=r[a].event.toLowerCase())}),t.support.cssTransitions=r.transition.prefix!==e,t.support.cssAnimations=r.animation.prefix!==e,t(i).remove(),t.fn.animationComplete=function(i,o,a){var s,u,c=this,l=function(){clearTimeout(s),i.apply(this,arguments)},h=o&&"animation"!==o?"transition":"animation";return t.support.cssTransitions&&"transition"===h||t.support.cssAnimations&&"animation"===h?(a===e&&(t(this).context!==n&&(u=3e3*parseFloat(t(this).css(r[h].duration))),(0===u||u===e||isNaN(u))&&(u=t.fn.animationComplete.defaultDuration)),s=setTimeout(function(){t(c).off(r[h].event,l),i.apply(c)},u),t(this).one(r[h].event,l)):(setTimeout(t.proxy(i,this),0),t(this))},t.fn.animationComplete.defaultDuration=1e3}(t),function(t,e){var n=0,r=Array.prototype.slice,i=t.cleanData;t.cleanData=function(e){for(var n,r=0;null!=(n=e[r]);r++)try{t(n).triggerHandler("remove")}catch(t){}i(e)},t.widget=function(e,n,r){var i,o,a,s,u={},c=e.split(".")[0];return e=e.split(".")[1],i=c+"-"+e,r||(r=n,n=t.Widget),t.expr[":"][i.toLowerCase()]=function(e){return!!t.data(e,i)},t[c]=t[c]||{},o=t[c][e],a=t[c][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,o,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(r,function(e,r){t.isFunction(r)?u[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},i=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=i,e=r.apply(this,arguments),this._super=n,this._superApply=o,e}}():u[e]=r}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},u,{constructor:a,namespace:c,widgetName:e,widgetFullName:i}),o?(t.each(o._childConstructors,function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(n){for(var i,o,a=r.call(arguments,1),s=0,u=a.length;s<u;s++)for(i in a[s])o=a[s][i],a[s].hasOwnProperty(i)&&o!==e&&(t.isPlainObject(o)?n[i]=t.isPlainObject(n[i])?t.widget.extend({},n[i],o):t.widget.extend({},o):n[i]=o);return n},t.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;t.fn[n]=function(a){var s="string"==typeof a,u=r.call(arguments,1),c=this;return a=!s&&u.length?t.widget.extend.apply(null,[a].concat(u)):a,s?this.each(function(){var r,i=t.data(this,o);return"instance"===a?(c=i,!1):i?t.isFunction(i[a])&&"_"!==a.charAt(0)?(r=i[a].apply(i,u))!==i&&r!==e?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):void 0:t.error("no such method '"+a+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new i(a,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,r){var i,o,a,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},i=n.split("."),n=i.shift(),i.length){for(o=s[n]=t.widget.extend({},this.options[n]),a=0;a<i.length-1;a++)o[i[a]]=o[i[a]]||{},o=o[i[a]];if(n=i.pop(),r===e)return o[n]===e?null:o[n];o[n]=r}else{if(r===e)return this.options[n]===e?null:this.options[n];s[n]=r}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,r){var i,o=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,function(r,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=r.match(/^(\w+)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.delegate(l,c,s):n.bind(c,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,r){var i,o,a=this.options[e];if(r=r||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:e;"number"==typeof(i=i||{})&&(i={duration:i}),a=!t.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&t.effects&&t.effects.effect[s]?r[e](i):s!==e&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){t(this)[e](),o&&o.call(r[0]),n()})}})}(t),function(t,e){var n=/[A-Z]/g,r=function(t){return"-"+t.toLowerCase()};t.extend(t.Widget.prototype,{_getCreateOptions:function(){var e,i,o=this.element[0],a={};if(!t.mobile.getAttribute(o,"defaults"))for(e in this.options)null!=(i=t.mobile.getAttribute(o,e.replace(n,r)))&&(a[e]=i);return a}}),t.mobile.widget=t.Widget}(t),function(t,e){t.mobile.widgets={};var n=t.widget,r=t.mobile.keepNative;t.widget=function(n){return function(){var r=n.apply(this,arguments),i=r.prototype.widgetName;return r.initSelector=r.prototype.initSelector!==e?r.prototype.initSelector:":jqmData(role='"+i+"')",t.mobile.widgets[i]=r,r}}(t.widget),t.extend(t.widget,n),t.mobile.document.on("create",function(e){t(e.target).enhanceWithin()}),t.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:t.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){t.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),"dialog"===t.mobile.getAttribute(this.element[0],"role")&&t.mobile.dialog&&this.element.dialog()},_enhance:function(){var n="data-"+t.mobile.ns,r=this;this.options.role&&this.element.attr("data-"+t.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+n+"role='content']").each(function(){var i=t(this),o=this.getAttribute(n+"theme")||e;r.options.contentTheme=o||r.options.contentTheme||r.options.dialog&&r.options.theme||"dialog"===r.element.jqmData("role")&&r.options.theme,i.addClass("ui-content"),r.options.contentTheme&&i.addClass("ui-body-"+r.options.contentTheme),i.attr("role","main").addClass("ui-content")})},bindRemove:function(e){var n=this.element;!n.data("mobile-page").options.domCache&&n.is(":jqmData(external-page='true')")&&n.bind("pagehide.remove",e||function(e,n){if(!n.samePage){var r=t(this),i=new t.Event("pageremove");r.trigger(i),i.isDefaultPrevented()||r.removeWithDependents()}})},_setOptions:function(n){n.theme!==e&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+n.theme),n.contentTheme!==e&&this.element.find("[data-"+t.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+n.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(t){this.element.parent().pagecontainer({theme:t||this.options.theme})},keepNativeSelector:function(){var e=this.options,n=t.trim(e.keepNative||""),i=t.trim(t.mobile.keepNative),o=t.trim(e.keepNativeDefault),a=r===i?"":i,s=""===a?o:"";return(n?[n]:[]).concat(a?[a]:[]).concat(s?[s]:[]).join(", ")}})}(t),function(t,e){t.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},t.mobile.page.prototype.options.degradeInputs=t.mobile.degradeInputs,t.mobile.degradeInputsWithin=function(e){(e=t(e)).find("input").not(t.mobile.page.prototype.keepNativeSelector()).each(function(){var e,n,r,i,o=t(this),a=this.getAttribute("type"),s=t.mobile.degradeInputs[a]||"text";t.mobile.degradeInputs[a]&&(e=t("<div>").html(o.clone()).html(),n=e.indexOf(" type=")>-1,r=n?/\s+type=["']?\w+['"]?/:/\/?>/,i=' type="'+s+'" data-'+t.mobile.ns+'type="'+a+'"'+(n?"":">"),o.replaceWith(e.replace(r,i)))})}}(t),function(t,n){var r,i,o="&ui-state=dialog";t.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(t){var e=this.parseUrl(t||location.href),n=t?e:location,r=e.hash;return r="#"===r?"":r,n.protocol+e.doubleSlash+n.host+(""!==n.protocol&&"/"!==n.pathname.substring(0,1)?"/":"")+n.pathname+n.search+r},getDocumentUrl:function(e){return e?t.extend({},r.documentUrl):r.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(e){if("object"===t.type(e))return e;var n=r.urlParseRE.exec(e||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(t,e){var n,r,i,o;if(t&&"/"===t.charAt(0))return t;for(t=t||"",n=(e=e?e.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?e.split("/"):[],r=t.split("/"),i=0;i<r.length;i++)switch(o=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(o)}return"/"+n.join("/")},isSameDomain:function(t,e){return r.parseUrl(t).domain.toLowerCase()===r.parseUrl(e).domain.toLowerCase()},isRelativeUrl:function(t){return""===r.parseUrl(t).protocol},isAbsoluteUrl:function(t){return""!==r.parseUrl(t).protocol},makeUrlAbsolute:function(t,e){if(!r.isRelativeUrl(t))return t;e===n&&(e=this.documentBase);var i=r.parseUrl(t),o=r.parseUrl(e),a=i.protocol||o.protocol,s=i.protocol?i.doubleSlash:i.doubleSlash||o.doubleSlash,u=i.authority||o.authority,c=""!==i.pathname;return a+s+u+r.makePathAbsolute(i.pathname||o.filename,o.pathname)+(i.search||!c&&o.search||"")+i.hash},addSearchParams:function(e,n){var i=r.parseUrl(e),o="object"==typeof n?t.param(n):n,a=i.search||"?";return i.hrefNoSearch+a+("?"!==a.charAt(a.length-1)?"&":"")+o+(i.hash||"")},convertUrlToDataUrl:function(t){var n=t,i=r.parseUrl(t);return r.isEmbeddedPage(i)?n=i.hash.split(o)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)&&(n=i.hrefNoHash.replace(this.documentBase.domain,"").split(o)[0]),e.decodeURIComponent(n)},get:function(t){return t===n&&(t=r.parseLocation().hash),r.stripHash(t).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(t){location.hash=t},isPath:function(t){return/\//.test(t)},clean:function(t){return t.replace(this.documentBase.domain,"")},stripHash:function(t){return t.replace(/^#/,"")},stripQueryParams:function(t){return t.replace(/\?.*$/,"")},cleanHash:function(t){return r.stripHash(t.replace(/\?.*$/,"").replace(o,""))},isHashValid:function(t){return/^#[^#]+$/.test(t)},isExternal:function(t){var e=r.parseUrl(t);return!!e.protocol&&e.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase()},hasProtocol:function(t){return/^(:?\w+:)/.test(t)},isEmbeddedPage:function(t){var e=r.parseUrl(t);return""!==e.protocol?!this.isPath(e.hash)&&e.hash&&(e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(e.href)},squash:function(t,e){var n,i,o,a,s,u=this.isPath(t),c=this.parseUrl(t),l=c.hash,h="";return e||(u?e=r.getLocation():(s=r.getDocumentUrl(!0),e=r.isPath(s.hash)?r.squash(s.href):s.href)),i=u?r.stripHash(t):t,i=r.isPath(c.hash)?r.stripHash(c.hash):i,(a=i.indexOf(this.uiStateKey))>-1&&(h=i.slice(a),i=i.slice(0,a)),n=r.makeUrlAbsolute(i,e),o=this.parseUrl(n).search,u?((r.isPath(l)||0===l.replace("#","").indexOf(this.uiStateKey))&&(l=""),h&&-1===l.indexOf(this.uiStateKey)&&(l+=h),-1===l.indexOf("#")&&""!==l&&(l="#"+l),n=(n=r.parseUrl(n)).protocol+n.doubleSlash+n.host+n.pathname+o+l):n+=n.indexOf("#")>-1?h:"#"+h,n},isPreservableHash:function(t){return 0===t.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(t){var e="#"===t.substring(0,1);return e&&(t=t.substring(1)),(e?"#":"")+t.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(t){return t&&t.split(o)[0]},isFirstPageUrl:function(e){var i=r.parseUrl(r.makeUrlAbsolute(e,this.documentBase)),o=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,a=t.mobile.firstPage,s=a&&a[0]?a[0].id:n;return o&&(!i.hash||"#"===i.hash||s&&i.hash.replace(/^#/,"")===s)},isPermittedCrossDomainRequest:function(e,n){return t.mobile.allowCrossDomainPages&&("file:"===e.protocol||"content:"===e.protocol)&&-1!==n.search(/^https?:/)}},r.documentUrl=r.parseLocation(),i=t("head").find("base"),r.documentBase=i.length?r.parseUrl(r.makeUrlAbsolute(i.attr("href"),r.documentUrl.href)):r.documentUrl,r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash,r.getDocumentBase=function(e){return e?t.extend({},r.documentBase):r.documentBase.href},t.extend(t.mobile,{getDocumentUrl:r.getDocumentUrl,getDocumentBase:r.getDocumentBase})}(t),function(t,e){t.mobile.History=function(t,e){this.stack=t||[],this.activeIndex=e||0},t.extend(t.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(t,e){e=e||{},this.getNext()&&this.clearForward(),e.hash&&-1===e.hash.indexOf("#")&&(e.hash="#"+e.hash),e.url=t,this.stack.push(e),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(t,e,n){var r,i,o,a=(e=e||this.stack).length;for(i=0;i<a;i++)if(r=e[i],(decodeURIComponent(t)===decodeURIComponent(r.url)||decodeURIComponent(t)===decodeURIComponent(r.hash))&&(o=i,n))return o;return o},closest:function(t){var n,r=this.activeIndex;return(n=this.find(t,this.stack.slice(0,r)))===e&&(n=this.find(t,this.stack.slice(r),!0),n=n===e?n:n+r),n},direct:function(n){var r=this.closest(n.url),i=this.activeIndex;r!==e&&(this.activeIndex=r,this.previousIndex=i),r<i?(n.present||n.back||t.noop)(this.getActive(),"back"):r>i?(n.present||n.forward||t.noop)(this.getActive(),"forward"):r===e&&n.missing&&n.missing(this.getActive())}})}(t),function(t,r){var i=t.mobile.path,o=location.href;t.mobile.Navigator=function(e){this.history=e,this.ignoreInitialHashChange=!0,t.mobile.window.bind({"popstate.history":t.proxy(this.popstate,this),"hashchange.history":t.proxy(this.hashchange,this)})},t.extend(t.mobile.Navigator.prototype,{squash:function(r,o){var a,s,u=i.isPath(r)?i.stripHash(r):r;return s=i.squash(r),a=t.extend({hash:u,url:s},o),e.history.replaceState(a,a.title||n.title,s),a},hash:function(t,e){var n,r,o,a;return n=i.parseUrl(t),(r=i.parseLocation()).pathname+r.search===n.pathname+n.search?o=n.hash?n.hash:n.pathname+n.search:i.isPath(t)?(a=i.parseUrl(e),o=a.pathname+a.search+(i.isPreservableHash(a.hash)?a.hash.replace("#",""):"")):o=t,o},go:function(r,o,a){var s,u,c,l,h=t.event.special.navigate.isPushStateEnabled();u=i.squash(r),c=this.hash(r,u),a&&c!==i.stripHash(i.parseLocation().hash)&&(this.preventNextHashChange=a),this.preventHashAssignPopState=!0,e.location.hash=c,this.preventHashAssignPopState=!1,s=t.extend({url:u,hash:c,title:n.title},o),h&&(l=new t.Event("popstate"),l.originalEvent={type:"popstate",state:null},this.squash(r,s),a||(this.ignorePopState=!0,t.mobile.window.trigger(l))),this.history.add(s.url,s)},popstate:function(e){var n,r;if(t.event.special.navigate.isPushStateEnabled()){if(this.preventHashAssignPopState)return this.preventHashAssignPopState=!1,void e.stopImmediatePropagation();if(this.ignorePopState)this.ignorePopState=!1;else if(e.originalEvent.state||1!==this.history.stack.length||!this.ignoreInitialHashChange||(this.ignoreInitialHashChange=!1,location.href!==o)){if(n=i.parseLocation().hash,!e.originalEvent.state&&n)return r=this.squash(n),this.history.add(r.url,r),void(e.historyState=r);this.history.direct({url:(e.originalEvent.state||{}).url||n,present:function(n,r){e.historyState=t.extend({},n),e.historyState.direction=r}})}else e.preventDefault()}},hashchange:function(e){var r,o;if(t.event.special.navigate.isHashChangeEnabled()&&!t.event.special.navigate.isPushStateEnabled())return this.preventNextHashChange?(this.preventNextHashChange=!1,void e.stopImmediatePropagation()):(r=this.history,o=i.parseLocation().hash,void this.history.direct({url:o,present:function(n,r){e.hashchangeState=t.extend({},n),e.hashchangeState.direction=r},missing:function(){r.add(o,{hash:o,title:n.title})}}))}})}(t),function(t,e){t.mobile.navigate=function(e,n,r){t.mobile.navigate.navigator.go(e,n,r)},t.mobile.navigate.history=new t.mobile.History,t.mobile.navigate.navigator=new t.mobile.Navigator(t.mobile.navigate.history);var n=t.mobile.path.parseLocation();t.mobile.navigate.history.add(n.href,{hash:n.hash})}(t),function(t,e){var n=t("head").children("base"),r={element:n.length?n:t("<base>",{href:t.mobile.path.documentBase.hrefNoHash}).prependTo(t("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(e){t.mobile.dynamicBaseEnabled&&t.support.dynamicBaseTag&&r.element.attr("href",t.mobile.path.makeUrlAbsolute(e,t.mobile.path.documentBase))},rewrite:function(e,n){var i=t.mobile.path.get(e);n.find(r.linkSelector).each(function(e,n){var r=t(n).is("[href]")?"href":t(n).is("[src]")?"src":"action",o=t.mobile.path.parseLocation(),a=t(n).attr(r);a=a.replace(o.protocol+o.doubleSlash+o.host+o.pathname,""),/^(\w+:|#|\/)/.test(a)||t(n).attr(r,i+a)})},reset:function(){r.element.attr("href",t.mobile.path.documentBase.hrefNoSearch)}};t.mobile.base=r}(t),function(t,e,n){t.mobile.Transition=function(){this.init.apply(this,arguments)},t.extend(t.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(e,n,r,i){t.extend(this,{name:e,reverse:n,$to:r,$from:i,deferred:new t.Deferred})},cleanFrom:function(){this.$from.removeClass(t.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),t.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(t.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(t,e,n,r){this.beforeDoneOut(),this.startIn(t,e,n,r)},hideIn:function(t){this.$to.css("z-index",-10),t.call(this),this.$to.css("z-index","")},scrollPage:function(){t.event.special.scrollstart.enabled=!1,(t.mobile.hideUrlBar||this.toScroll!==t.mobile.defaultHomeScroll)&&e.scrollTo(0,this.toScroll),setTimeout(function(){t.event.special.scrollstart.enabled=!0},150)},startIn:function(e,n,r,i){this.hideIn(function(){this.$to.addClass(t.mobile.activePageClass+this.toPreClass),i||t.mobile.focusPage(this.$to),this.$to.height(e+this.toScroll),r||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+n),r?this.doneIn():this.$to.animationComplete(t.proxy(function(){this.doneIn()},this))},startOut:function(e,n,r){this.beforeStartOut(e,n,r),this.$from.height(e+t.mobile.window.scrollTop()).addClass(this.name+" out"+n)},toggleViewportClass:function(){t.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var e,n=this.reverse?" reverse":"",r=t.mobile.getScreenHeight(),i=!1!==t.mobile.maxTransitionWidth&&t.mobile.window.width()>t.mobile.maxTransitionWidth;return this.toScroll=t.mobile.navigate.history.getActive().lastScroll||t.mobile.defaultHomeScroll,e=!t.support.cssTransitions||!t.support.cssAnimations||i||!this.name||"none"===this.name||Math.max(t.mobile.window.scrollTop(),this.toScroll)>t.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!e?this.startOut(r,n,e):this.doneOut(r,n,e,!0),this.deferred.promise()}})}(t,this),function(t){t.mobile.SerialTransition=function(){this.init.apply(this,arguments)},t.extend(t.mobile.SerialTransition.prototype,t.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,n,r){this.$from.animationComplete(t.proxy(function(){this.doneOut(e,n,r)},this))}})}(t),function(t){t.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},t.extend(t.mobile.ConcurrentTransition.prototype,t.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,e,n){this.doneOut(t,e,n)}})}(t),function(t){t.mobile.transitionHandlers={sequential:t.mobile.SerialTransition,simultaneous:t.mobile.ConcurrentTransition},t.mobile.defaultTransitionHandler=t.mobile.transitionHandlers.sequential,t.mobile.transitionFallbacks={},t.mobile._maybeDegradeTransition=function(e){return e&&!t.support.cssTransform3d&&t.mobile.transitionFallbacks[e]&&(e=t.mobile.transitionFallbacks[e]),e},t.mobile.getMaxScrollForTransition=t.mobile.getMaxScrollForTransition||function(){return 3*t.mobile.getScreenHeight()}}(t),function(t,r){t.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",t.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(t){t.theme!==r&&"none"!==t.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+t.theme):t.theme!==r&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(t)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var t,e,n,r=this._getActiveHistory();r&&(t=this._getScroll(),e=this._getMinScroll(),n=this._getDefaultScroll(),r.lastScroll=t<e?n:t)}},_delayedRecordScroll:function(){setTimeout(t.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return t.mobile.minScrollBack},_getDefaultScroll:function(){return t.mobile.defaultHomeScroll},_filterNavigateEvents:function(e,n){var r;e.originalEvent&&e.originalEvent.isDefaultPrevented()||((r=e.originalEvent.type.indexOf("hashchange")>-1?n.state.hash:n.state.url)||(r=this._getHash()),r&&"#"!==r&&0!==r.indexOf("#"+t.mobile.path.uiStateKey)||(r=location.href),this._handleNavigate(r,n.state))},_getHash:function(){return t.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return t.mobile.firstPage},_getHistory:function(){return t.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return t.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(n){if(t.mobile.hashListeningEnabled)e.history.go(n);else{var r=t.mobile.navigate.history.activeIndex,i=r+parseInt(n,10),o=t.mobile.navigate.history.stack[i].url,a=n>=1?"forward":"back";t.mobile.navigate.history.activeIndex=i,t.mobile.navigate.history.previousIndex=r,this.change(o,{direction:a,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(e){return"string"===t.type(e)&&(e=t.mobile.path.stripHash(e)),e&&(this._getHistory(),e=t.mobile.path.isPath(e)?e:t.mobile.path.makeUrlAbsolute("#"+e,this._getDocumentBase())),e||this._getInitialContent()},_transitionFromHistory:function(t,e){var n=this._getHistory(),r="back"===t?n.getLast():n.getActive();return r&&r.transition||e},_handleDialog:function(e,n){var r,i,o=this.getActivePage();return o&&!o.data("mobile-dialog")?("back"===n.direction?this.back():this.forward(),!1):(r=n.pageUrl,i=this._getActiveHistory(),t.extend(e,{role:i.role,transition:this._transitionFromHistory(n.direction,e.transition),reverse:"back"===n.direction}),r)},_handleNavigate:function(e,n){var r=t.mobile.path.stripHash(e),i=this._getHistory(),o=0===i.stack.length?"none":this._transitionFromHistory(n.direction),a={changeHash:!1,fromHashChange:!0,reverse:"back"===n.direction};t.extend(a,n,{transition:o}),i.activeIndex>0&&r.indexOf(t.mobile.dialogHashKey)>-1&&!1===(r=this._handleDialog(a,n))||this._changeContent(this._handleDestination(r),a)},_changeContent:function(e,n){t.mobile.changePage(e,n)},_getBase:function(){return t.mobile.base},_getNs:function(){return t.mobile.ns},_enhance:function(t,e){return t.page({role:e})},_include:function(t,e){t.appendTo(this.element),this._enhance(t,e.role),t.page("bindRemove")},_find:function(e){var n,r=this._createFileUrl(e),i=this._createDataUrl(e),o=this._getInitialContent();return 0===(n=this.element.children("[data-"+this._getNs()+"url='"+t.mobile.path.hashToSelector(i)+"']")).length&&i&&!t.mobile.path.isPath(i)&&(n=this.element.children(t.mobile.path.hashToSelector("#"+i)).attr("data-"+this._getNs()+"url",i).jqmData("url",i)),0===n.length&&t.mobile.path.isFirstPageUrl(r)&&o&&o.parent().length&&(n=t(o)),n},_getLoader:function(){return t.mobile.loading()},_showLoading:function(e,n,r,i){this._loadMsg||(this._loadMsg=setTimeout(t.proxy(function(){this._getLoader().loader("show",n,r,i),this._loadMsg=0},this),e))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,t.mobile.pageLoadErrorMessageTheme,t.mobile.pageLoadErrorMessage,!0),setTimeout(t.proxy(this,"_hideLoading"),1500)},_parse:function(e,n){var r,i=t("<div></div>");return i.get(0).innerHTML=e,(r=i.find(":jqmData(role='page'), :jqmData(role='dialog')").first()).length||(r=t("<div data-"+this._getNs()+"role='page'>"+(e.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),r.attr("data-"+this._getNs()+"url",this._createDataUrl(n)).attr("data-"+this._getNs()+"external-page",!0),r},_setLoadedTitle:function(e,n){var r=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;r&&!e.jqmData("title")&&(r=t("<div>"+r+"</div>").text(),e.jqmData("title",r))},_isRewritableBaseTag:function(){return t.mobile.dynamicBaseEnabled&&!t.support.dynamicBaseTag},_createDataUrl:function(e){return t.mobile.path.convertUrlToDataUrl(e)},_createFileUrl:function(e){return t.mobile.path.getFilePath(e)},_triggerWithDeprecated:function(e,n,r){var i=t.Event("page"+e),o=t.Event(this.widgetName+e);return(r||this.element).trigger(i,n),this._trigger(e,o,n),{deprecatedEvent:i,event:o}},_loadSuccess:function(e,n,i,o){var a=this._createFileUrl(e);return t.proxy(function(s,u,c){var l,h=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),f=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");h.test(s)&&RegExp.$1&&f.test(RegExp.$1)&&RegExp.$1&&(a=t.mobile.path.getFilePath(t("<div>"+RegExp.$1+"</div>").text()),a=this.window[0].encodeURIComponent(a)),i.prefetch===r&&this._getBase().set(a),l=this._parse(s,a),this._setLoadedTitle(l,s),n.xhr=c,n.textStatus=u,n.page=l,n.content=l,n.toPage=l,this._triggerWithDeprecated("load",n).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&l&&this._getBase().rewrite(a,l),this._include(l,i),i.showLoadMsg&&this._hideLoading(),o.resolve(e,i,l))},this)},_loadDefaults:{type:"get",data:r,reloadPage:!1,reload:!1,role:r,showLoadMsg:!1,loadMsgDelay:50},load:function(e,n){var i,o,a,s,u=n&&n.deferred||t.Deferred(),c=n&&n.reload===r&&n.reloadPage!==r?{reload:n.reloadPage}:{},l=t.extend({},this._loadDefaults,n,c),h=null,f=t.mobile.path.makeUrlAbsolute(e,this._findBaseWithDefault());return l.data&&"get"===l.type&&(f=t.mobile.path.addSearchParams(f,l.data),l.data=r),l.data&&"post"===l.type&&(l.reload=!0),i=this._createFileUrl(f),o=this._createDataUrl(f),0===(h=this._find(f)).length&&t.mobile.path.isEmbeddedPage(i)&&!t.mobile.path.isFirstPageUrl(i)?(u.reject(f,l),u.promise()):(this._getBase().reset(),h.length&&!l.reload?(this._enhance(h,l.role),u.resolve(f,l,h),l.prefetch||this._getBase().set(e),u.promise()):(s={url:e,absUrl:f,toPage:e,prevPage:n?n.fromPage:r,dataUrl:o,deferred:u,options:l},(a=this._triggerWithDeprecated("beforeload",s)).deprecatedEvent.isDefaultPrevented()||a.event.isDefaultPrevented()?u.promise():(l.showLoadMsg&&this._showLoading(l.loadMsgDelay),l.prefetch===r&&this._getBase().reset(),t.mobile.allowCrossDomainPages||t.mobile.path.isSameDomain(t.mobile.path.documentUrl,f)?(t.ajax({url:i,type:l.type,data:l.data,contentType:l.contentType,dataType:"html",success:this._loadSuccess(f,s,l,u),error:this._loadError(f,s,l,u)}),u.promise()):(u.reject(f,l),u.promise()))))},_loadError:function(e,n,r,i){return t.proxy(function(o,a,s){this._getBase().set(t.mobile.path.get()),n.xhr=o,n.textStatus=a,n.errorThrown=s;var u=this._triggerWithDeprecated("loadfailed",n);u.deprecatedEvent.isDefaultPrevented()||u.event.isDefaultPrevented()||(r.showLoadMsg&&this._showError(),i.reject(e,r))},this)},_getTransitionHandler:function(e){return e=t.mobile._maybeDegradeTransition(e),t.mobile.transitionHandlers[e]||t.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(e,n,r){var i=!1;r=r||"",n&&(e[0]===n[0]&&(i=!0),this._triggerWithDeprecated(r+"hide",{nextPage:e,toPage:e,prevPage:n,samePage:i},n)),this._triggerWithDeprecated(r+"show",{prevPage:n||t(""),toPage:e},e)},_cssTransition:function(e,n,r){var i,o=r.transition,a=r.reverse,s=r.deferred;this._triggerCssTransitionEvents(e,n,"before"),this._hideLoading(),(i=new(this._getTransitionHandler(o))(o,a,e,n).transition()).done(t.proxy(function(){this._triggerCssTransitionEvents(e,n)},this)),i.done(function(){s.resolve.apply(s,arguments)})},_releaseTransitionLock:function(){o=!1,i.length>0&&t.mobile.changePage.apply(null,i.pop())},_removeActiveLinkClass:function(e){t.mobile.removeActiveLinkClass(e)},_loadUrl:function(e,n,r){r.target=e,r.deferred=t.Deferred(),this.load(e,r),r.deferred.done(t.proxy(function(t,e,r){o=!1,e.absUrl=n.absUrl,this.transition(r,n,e)},this)),r.deferred.fail(t.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",n)},this))},_triggerPageBeforeChange:function(e,n,r){var i;return n.prevPage=this.activePage,t.extend(n,{toPage:e,options:r}),"string"===t.type(e)?n.absUrl=t.mobile.path.makeUrlAbsolute(e,this._findBaseWithDefault()):n.absUrl=r.absUrl,!(i=this._triggerWithDeprecated("beforechange",n)).event.isDefaultPrevented()&&!i.deprecatedEvent.isDefaultPrevented()},change:function(e,n){if(o)i.unshift(arguments);else{var r=t.extend({},t.mobile.changePage.defaults,n),a={};r.fromPage=r.fromPage||this.activePage,this._triggerPageBeforeChange(e,a,r)&&(e=a.toPage,"string"===t.type(e)?(o=!0,this._loadUrl(e,a,r)):this.transition(e,a,r))}},transition:function(e,a,s){var u,c,l,h,f,d,p,m,g,v,y,b,w;if(o)i.unshift([e,s]);else if(this._triggerPageBeforeChange(e,a,s)&&(a.prevPage=s.fromPage,!(w=this._triggerWithDeprecated("beforetransition",a)).deprecatedEvent.isDefaultPrevented()&&!w.event.isDefaultPrevented())){if(o=!0,e[0]===t.mobile.firstPage[0]&&!s.dataUrl&&(s.dataUrl=t.mobile.path.documentUrl.hrefNoHash),u=s.fromPage,c=s.dataUrl&&t.mobile.path.convertUrlToDataUrl(s.dataUrl)||e.jqmData("url"),l=c,t.mobile.path.getFilePath(c),h=t.mobile.navigate.history.getActive(),f=0===t.mobile.navigate.history.activeIndex,d=0,p=n.title,m=("dialog"===s.role||"dialog"===e.jqmData("role"))&&!0!==e.jqmData("dialog"),u&&u[0]===e[0]&&!s.allowSamePageTransition)return o=!1,this._triggerWithDeprecated("transition",a),this._triggerWithDeprecated("change",a),void(s.fromHashChange&&t.mobile.navigate.history.direct({url:c}));e.page({role:s.role}),s.fromHashChange&&(d="back"===s.direction?-1:1);try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()?t(n.activeElement).blur():t("input:focus, textarea:focus, select:focus").blur()}catch(t){}g=!1,m&&h&&(h.url&&h.url.indexOf(t.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&t.mobile.navigate.history.activeIndex>0&&(s.changeHash=!1,g=!0),c=h.url||"",!g&&c.indexOf("#")>-1?c+=t.mobile.dialogHashKey:c+="#"+t.mobile.dialogHashKey),!!(v=h?e.jqmData("title")||e.children(":jqmData(role='header')").find(".ui-title").text():p)&&p===n.title&&(p=v),e.jqmData("title")||e.jqmData("title",p),s.transition=s.transition||(d&&!f?h.transition:r)||(m?t.mobile.defaultDialogTransition:t.mobile.defaultPageTransition),!d&&g&&(t.mobile.navigate.history.getActive().pageUrl=l),c&&!s.fromHashChange&&(!t.mobile.path.isPath(c)&&c.indexOf("#")<0&&(c="#"+c),y={transition:s.transition,title:p,pageUrl:l,role:s.role},!1!==s.changeHash&&t.mobile.hashListeningEnabled?t.mobile.navigate(this.window[0].encodeURI(c),y,!0):e[0]!==t.mobile.firstPage[0]&&t.mobile.navigate.history.add(c,y)),n.title=p,t.mobile.activePage=e,this.activePage=e,s.reverse=s.reverse||d<0,b=t.Deferred(),this._cssTransition(e,u,{transition:s.transition,reverse:s.reverse,deferred:b}),b.done(t.proxy(function(n,r,i,o,u){t.mobile.removeActiveLinkClass(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),u||t.mobile.focusPage(e),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",a),this._triggerWithDeprecated("change",a)},this))}},_findBaseWithDefault:function(){return this.activePage&&t.mobile.getClosestBaseUrl(this.activePage)||t.mobile.path.documentBase.hrefNoHash}}),t.mobile.navreadyDeferred=t.Deferred();var i=[],o=!1}(t),function(t,r){function i(t){for(;t&&("string"!=typeof t.nodeName||"a"!==t.nodeName.toLowerCase());)t=t.parentNode;return t}var o=t.Deferred(),a=t.Deferred(),s=function(){a.resolve(),a=null},u=t.mobile.path.documentUrl,c=null;t.mobile.loadPage=function(e,n){var r;return n=n||{},r=n.pageContainer||t.mobile.pageContainer,n.deferred=t.Deferred(),r.pagecontainer("load",e,n),n.deferred.promise()},t.mobile.back=function(){var n=e.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():t.mobile.pageContainer.pagecontainer("back")},t.mobile.focusPage=function(t){var e=t.find("[autofocus]"),n=t.find(".ui-title:eq(0)");e.length?e.focus():n.length?n.focus():t.focus()},t.mobile._maybeDegradeTransition=t.mobile._maybeDegradeTransition||function(t){return t},t.mobile.changePage=function(e,n){t.mobile.pageContainer.pagecontainer("change",e,n)},t.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},t.mobile._registerInternalEvents=function(){var n=function(e,n){var r,i,o,a,s=!0;return!(!t.mobile.ajaxEnabled||e.is(":jqmData(ajax='false')")||!e.jqmHijackable().length||e.attr("target"))&&(r=c&&c.attr("formaction")||e.attr("action"),a=(e.attr("method")||"get").toLowerCase(),r||(r=t.mobile.getClosestBaseUrl(e),"get"===a&&(r=t.mobile.path.parseUrl(r).hrefNoSearch),r===t.mobile.path.documentBase.hrefNoHash&&(r=u.hrefNoSearch)),r=t.mobile.path.makeUrlAbsolute(r,t.mobile.getClosestBaseUrl(e)),!(t.mobile.path.isExternal(r)&&!t.mobile.path.isPermittedCrossDomainRequest(u,r))&&(n||(i=e.serializeArray(),c&&c[0].form===e[0]&&(o=c.attr("name"))&&(t.each(i,function(t,e){if(e.name===o)return o="",!1}),o&&i.push({name:o,value:c.attr("value")})),s={url:r,options:{type:a,data:t.param(i),transition:e.jqmData("transition"),reverse:"reverse"===e.jqmData("direction"),reloadPage:!0}}),s))};t.mobile.document.delegate("form","submit",function(e){var r;e.isDefaultPrevented()||(r=n(t(this)))&&(t.mobile.changePage(r.url,r.options),e.preventDefault())}),t.mobile.document.bind("vclick",function(e){var r,o,a=e.target,s=!1;if(!(e.which>1)&&t.mobile.linkBindingEnabled){if(c=t(a),t.data(a,"mobile-button")){if(!n(t(a).closest("form"),!0))return;a.parentNode&&(a=a.parentNode)}else{if(!(a=i(a))||"#"===t.mobile.path.parseUrl(a.getAttribute("href")||"#").hash)return;if(!t(a).jqmHijackable().length)return}~a.className.indexOf("ui-link-inherit")?a.parentNode&&(o=t.data(a.parentNode,"buttonElements")):o=t.data(a,"buttonElements"),o?a=o.outer:s=!0,r=t(a),s&&(r=r.closest(".ui-btn")),r.length>0&&!r.hasClass("ui-state-disabled")&&(t.mobile.removeActiveLinkClass(!0),t.mobile.activeClickedLink=r,t.mobile.activeClickedLink.addClass(t.mobile.activeBtnClass))}}),t.mobile.document.bind("click",function(n){if(t.mobile.linkBindingEnabled&&!n.isDefaultPrevented()){var o,a,s,c,l,h=i(n.target),f=t(h),d=function(){e.setTimeout(function(){t.mobile.removeActiveLinkClass(!0)},200)};if(t.mobile.activeClickedLink&&t.mobile.activeClickedLink[0]===n.target.parentNode&&d(),h&&!(n.which>1)&&f.jqmHijackable().length){if(f.is(":jqmData(rel='back')"))return t.mobile.back(),!1;if(o=t.mobile.getClosestBaseUrl(f),a=t.mobile.path.makeUrlAbsolute(f.attr("href")||"#",o),t.mobile.ajaxEnabled||t.mobile.path.isEmbeddedPage(a)){if(!(-1===a.search("#")||t.mobile.path.isExternal(a)&&t.mobile.path.isAbsoluteUrl(a))){if(!(a=a.replace(/[^#]*#/,"")))return void n.preventDefault();a=t.mobile.path.isPath(a)?t.mobile.path.makeUrlAbsolute(a,o):t.mobile.path.makeUrlAbsolute("#"+a,u.hrefNoHash)}f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]")||t.mobile.path.isExternal(a)&&!t.mobile.path.isPermittedCrossDomainRequest(u,a)?d():(s=f.jqmData("transition"),c="reverse"===f.jqmData("direction")||f.jqmData("back"),l=f.attr("data-"+t.mobile.ns+"rel")||r,t.mobile.changePage(a,{transition:s,reverse:c,role:l,link:f}),n.preventDefault())}else d()}}}),t.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var e=[];t(this).find("a:jqmData(prefetch)").each(function(){var n=t(this),r=n.attr("href");r&&-1===t.inArray(r,e)&&(e.push(r),t.mobile.loadPage(r,{role:n.attr("data-"+t.mobile.ns+"rel"),prefetch:!0}))})}),t.mobile.pageContainer.pagecontainer(),t.mobile.document.bind("pageshow",function(){a?a.done(t.mobile.resetActivePageHeight):t.mobile.resetActivePageHeight()}),t.mobile.window.bind("throttledresize",t.mobile.resetActivePageHeight)},t(function(){o.resolve()}),"complete"===n.readyState?s():t.mobile.window.load(s),t.when(o,t.mobile.navreadyDeferred).done(function(){t.mobile._registerInternalEvents()})}(t),function(t){var e="ui-loader",n=t("html");t.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+e+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var e=t("."+t.mobile.activeBtnClass).first();this.element.css({top:t.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||e.length&&e.offset().top||100})},checkLoaderPosition:function(){var e=this.element.offset(),n=this.window.scrollTop(),r=t.mobile.getScreenHeight();(e.top<n||e.top-n>r)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",t.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(t(this.defaultHtml).html())},show:function(r,i,o){var a,s,u;this.resetHtml(),"object"===t.type(r)?(u=t.extend({},this.options,r),r=u.theme):(u=this.options,r=r||u.theme),s=i||(!1===u.text?"":u.text),n.addClass("ui-loading"),a=u.textVisible,this.element.attr("class",e+" ui-corner-all ui-body-"+r+" ui-loader-"+(a||i||r.text?"verbose":"default")+(u.textonly||o?" ui-loader-textonly":"")),u.html?this.element.html(u.html):this.element.find("h1").text(s),this.element.appendTo(t(t.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",t.proxy(this.checkLoaderPosition,this))},hide:function(){n.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(t),function(t,e,r){function i(){o.removeClass("ui-mobile-rendering")}var o=t("html"),a=t.mobile.window;t(e.document).trigger("mobileinit"),t.mobile.gradeA()&&(t.mobile.ajaxBlacklist&&(t.mobile.ajaxEnabled=!1),o.addClass("ui-mobile ui-mobile-rendering"),setTimeout(i,5e3),t.extend(t.mobile,{initializePage:function(){var e=t.mobile.path,r=t(":jqmData(role='page'), :jqmData(role='dialog')"),o=e.stripHash(e.stripQueryParams(e.parseLocation().hash)),s=t.mobile.path.parseLocation(),u=o?n.getElementById(o):void 0;r.length||(r=t("body").wrapInner("<div data-"+t.mobile.ns+"role='page'></div>").children(0)),r.each(function(){var n=t(this);n[0].getAttribute("data-"+t.mobile.ns+"url")||n.attr("data-"+t.mobile.ns+"url",n.attr("id")||e.convertUrlToDataUrl(s.pathname+s.search))}),t.mobile.firstPage=r.first(),t.mobile.pageContainer=t.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),t.mobile.navreadyDeferred.resolve(),a.trigger("pagecontainercreate"),t.mobile.loading("show"),i(),t.mobile.hashListeningEnabled&&t.mobile.path.isHashValid(location.hash)&&(t(u).is(":jqmData(role='page')")||t.mobile.path.isPath(o)||o===t.mobile.dialogHashKey)?t.event.special.navigate.isPushStateEnabled()?(t.mobile.navigate.history.stack=[],t.mobile.navigate(t.mobile.path.isPath(location.hash)?location.hash:location.href)):a.trigger("hashchange",[!0]):(t.event.special.navigate.isPushStateEnabled()&&t.mobile.navigate.navigator.squash(e.parseLocation().href),t.mobile.changePage(t.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),t(function(){t.support.inlineSVG(),t.mobile.hideUrlBar&&e.scrollTo(0,1),t.mobile.defaultHomeScroll=t.support.scrollTop&&1!==t.mobile.window.scrollTop()?1:0,t.mobile.autoInitializePage&&t.mobile.initializePage(),t.mobile.hideUrlBar&&a.load(t.mobile.silentScroll),t.support.cssPointerEvents||t.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(t){t.preventDefault(),t.stopImmediatePropagation()})}))}(t,this),function(t,e){t.mobile.links=function(e){t(e).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var t=this,e=t.getAttribute("href").substring(1);e&&(t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-owns",e),t.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(t),function(t){var e=t("meta[name=viewport]"),n=e.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);t.mobile.zoom=t.extend({},{enabled:!o,locked:!1,disable:function(n){!o&&!t.mobile.zoom.locked&&(e.attr("content",r),t.mobile.zoom.enabled=!1,t.mobile.zoom.locked=n||!1)},enable:function(n){!o&&(!t.mobile.zoom.locked||!0===n)&&(e.attr("content",i),t.mobile.zoom.enabled=!0,t.mobile.zoom.locked=!1)},restore:function(){o||(e.attr("content",n),t.mobile.zoom.enabled=!0)}})}(t),function(t,e){function n(t){i=t.originalEvent,u=i.accelerationIncludingGravity,o=Math.abs(u.x),a=Math.abs(u.y),s=Math.abs(u.z),!e.orientation&&(o>7||(s>6&&a<8||s<8&&a>6)&&o>5)?r.enabled&&r.disable():r.enabled||r.enable()}t.mobile.iosorientationfixEnabled=!0;var r,i,o,a,s,u,c=navigator.userAgent;/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(c)&&c.indexOf("AppleWebKit")>-1?(r=t.mobile.zoom,t.mobile.document.on("mobileinit",function(){t.mobile.iosorientationfixEnabled&&t.mobile.window.bind("orientationchange.iosorientationfix",r.enable).bind("devicemotion.iosorientationfix",n)})):t.mobile.iosorientationfixEnabled=!1}(t,this),function(t,e,n){t.mobile.transitionFallbacks.flip="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.flow="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.pop="fade"}(t),function(t,e,n){t.mobile.transitionHandlers.slide=t.mobile.transitionHandlers.simultaneous,t.mobile.transitionFallbacks.slide="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.slidedown="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.slidefade="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.slideup="fade"}(t),function(t,e,n){t.mobile.transitionFallbacks.turn="fade"}(t),function(t,e,n){t.widget("mobile.page",t.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(t.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(t("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(e){var r,i,o=this.options;e.corners!==n&&this._inner.toggleClass("ui-corner-all",!!e.corners),e.overlayTheme!==n&&t.mobile.activePage[0]===this.element[0]&&(o.overlayTheme=e.overlayTheme,this._handlePageBeforeShow()),e.closeBtnText!==n&&(r=o.closeBtn,i=e.closeBtnText),e.closeBtn!==n&&(r=e.closeBtn),r&&this._setCloseBtn(r,i),this._super(e)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(e,n){var r,i=this._headerCloseButton;"none"==(e="left"===e?"left":"right"===e?"right":"none")?i&&(i.remove(),i=null):i?(i.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+e),n&&i.text(n)):(r=this._inner.find(":jqmData(role='header')").first(),i=t("<a></a>",{href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+e}).attr("data-"+t.mobile.ns+"rel","back").text(n||this.options.closeBtnText||"").prependTo(r)),this._headerCloseButton=i}})}(t),function(t,n){function r(t,e,n,r){return t<e?n+(t-e)/2:Math.min(Math.max(n,r-e/2),n+t-e)}function i(t){return{x:t.scrollLeft(),y:t.scrollTop(),cx:t[0].innerWidth||t.width(),cy:t[0].innerHeight||t.height()}}t.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!t.mobile.browser.oldIE},_handleDocumentVmousedown:function(e){this._isOpen&&t.contains(this._ui.container[0],e.target)&&this._ignoreResizeEvents()},_create:function(){var e=this.element,n=e.attr("id"),r=this.options;r.history=r.history&&t.mobile.ajaxEnabled&&t.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),t.extend(this,{_scrollTop:0,_page:e.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=t("body")),r.enhanced?this._ui={container:e.parent(),screen:e.parent().prev(),placeholder:t(this.document[0].getElementById(n+"-placeholder"))}:(this._ui=this._enhance(e,n),this._applyTransition(r.transition)),this._setTolerance(r.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:t.proxy(this,"_handleWindowOrientationchange"),resize:t.proxy(this,"_handleWindowResize"),keyup:t.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(e,n){var r=this.options,i=r.wrapperClass,o={screen:t("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",r.overlayTheme)+"'></div>"),placeholder:t("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:t("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(i?" "+i:"")+"'></div>")},a=this.document[0].createDocumentFragment();return a.appendChild(o.screen[0]),a.appendChild(o.container[0]),n&&(o.screen.attr("id",n+"-screen"),o.container.attr("id",n+"-popup"),o.placeholder.attr("id",n+"-placeholder").html("\x3c!-- placeholder for "+n+" --\x3e")),this._page[0].appendChild(a),o.placeholder.insertAfter(e),e.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",r.theme)+" "+(r.shadow?"ui-overlay-shadow ":"")+(r.corners?"ui-corner-all ":"")).appendTo(o.container),o},_eatEventAndClose:function(t){return t.preventDefault(),t.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var t=this._ui.screen,e=this._ui.container.outerHeight(!0),n=t.removeAttr("style").height(),r=this.document.height()-1;n<r?t.height(r):e>n&&t.height(e)},_handleWindowKeyUp:function(e){if(this._isOpen&&e.keyCode===t.mobile.keyCode.ESCAPE)return this._eatEventAndClose(e)},_expectResizeEvent:function(){var t=i(this.window);if(this._resizeData){if(t.x===this._resizeData.windowCoordinates.x&&t.y===this._resizeData.windowCoordinates.y&&t.cx===this._resizeData.windowCoordinates.cx&&t.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(e){var n,r=e.target,i=this._ui;if(this._isOpen){if(r!==i.container[0]){if(n=t(r),!t.contains(i.container[0],r))return t(this.document[0].activeElement).one("focus",t.proxy(function(){this._safelyBlur(r)},this)),i.focusElement.focus(),e.preventDefault(),e.stopImmediatePropagation(),!1;i.focusElement[0]===i.container[0]&&(i.focusElement=n)}this._ignoreResizeEvents()}},_themeClassFromOption:function(t,e){return e?"none"===e?"":t+e:t+"inherit"},_applyTransition:function(e){return e&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==e&&(this._fallbackTransition=t.mobile._maybeDegradeTransition(e),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(t){var e=this.options,r=this.element,i=this._ui.screen;return t.wrapperClass!==n&&this._ui.container.removeClass(e.wrapperClass).addClass(t.wrapperClass),t.theme!==n&&r.removeClass(this._themeClassFromOption("ui-body-",e.theme)).addClass(this._themeClassFromOption("ui-body-",t.theme)),t.overlayTheme!==n&&(i.removeClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)),this._isOpen&&i.addClass("in")),t.shadow!==n&&r.toggleClass("ui-overlay-shadow",t.shadow),t.corners!==n&&r.toggleClass("ui-corner-all",t.corners),t.transition!==n&&(this._currentTransition||this._applyTransition(t.transition)),t.tolerance!==n&&this._setTolerance(t.tolerance),t.disabled!==n&&t.disabled&&this.close(),this._super(t)},_setTolerance:function(e){var r,i={t:30,r:15,b:30,l:15};if(e!==n)switch(r=String(e).split(","),t.each(r,function(t,e){r[t]=parseInt(e,10)}),r.length){case 1:isNaN(r[0])||(i.t=i.r=i.b=i.l=r[0]);break;case 2:isNaN(r[0])||(i.t=i.b=r[0]),isNaN(r[1])||(i.l=i.r=r[1]);break;case 4:isNaN(r[0])||(i.t=r[0]),isNaN(r[1])||(i.r=r[1]),isNaN(r[2])||(i.b=r[2]),isNaN(r[3])||(i.l=r[3])}return this._tolerance=i,this},_clampPopupWidth:function(t){var e,n=i(this.window),r={x:this._tolerance.l,y:n.y+this._tolerance.t,cx:n.cx-this._tolerance.l-this._tolerance.r,cy:n.cy-this._tolerance.t-this._tolerance.b};return t||this._ui.container.css("max-width",r.cx),e={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:r,menuSize:e}},_calculateFinalLocation:function(t,e){var n,i=e.rc,o=e.menuSize;return n={left:r(i.cx,o.cx,i.x,t.x),top:r(i.cy,o.cy,i.y,t.y)},n.top=Math.max(0,n.top),n.top-=Math.min(n.top,Math.max(0,n.top+o.cy-this.document.height())),n},_placementCoords:function(t){return this._calculateFinalLocation(t,this._clampPopupWidth())},_createPrerequisites:function(e,n,r){var i,o=this;(i={screen:t.Deferred(),container:t.Deferred()}).screen.then(function(){i===o._prerequisites&&e()}),i.container.then(function(){i===o._prerequisites&&n()}),t.when(i.screen,i.container).done(function(){i===o._prerequisites&&(o._prerequisites=null,r())}),o._prerequisites=i},_animate:function(e){this._ui.screen.removeClass(e.classToRemove).addClass(e.screenClassToAdd),e.prerequisites.screen.resolve(),e.transition&&"none"!==e.transition&&(e.applyTransition&&this._applyTransition(e.transition),this._fallbackTransition)?this._ui.container.addClass(e.containerClassToAdd).removeClass(e.classToRemove).animationComplete(t.proxy(e.prerequisites.container,"resolve")):(this._ui.container.removeClass(e.classToRemove),e.prerequisites.container.resolve())},_desiredCoords:function(e){var n,r=null,o=i(this.window),a=e.x,s=e.y,u=e.positionTo;if(u&&"origin"!==u)if("window"===u)a=o.cx/2+o.x,s=o.cy/2+o.y;else{try{r=t(u)}catch(t){r=null}r&&(r.filter(":visible"),0===r.length&&(r=null))}return r&&(n=r.offset(),a=n.left+r.outerWidth()/2,s=n.top+r.outerHeight()/2),("number"!==t.type(a)||isNaN(a))&&(a=o.cx/2+o.x),("number"!==t.type(s)||isNaN(s))&&(s=o.cy/2+o.y),{x:a,y:s}},_reposition:function(t){t={x:t.x,y:t.y,positionTo:t.positionTo},this._trigger("beforeposition",n,t),this._ui.container.offset(this._placementCoords(this._desiredCoords(t)))},reposition:function(t){this._isOpen&&this._reposition(t)},_safelyBlur:function(e){e!==this.window[0]&&"body"!==e.nodeName.toLowerCase()&&t(e).blur()},_openPrerequisitesComplete:function(){var e=this.element.attr("id"),n=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),t.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),n.length>0&&(this._ui.focusElement=n),this._ignoreResizeEvents(),e&&this.document.find("[aria-haspopup='true'][aria-owns='"+e+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(e){var n=t.extend({},this.options,e),r=function(){var t=navigator.userAgent,e=t.match(/AppleWebKit\/([0-9\.]+)/),n=!!e&&e[1],r=t.match(/Android (\d+(?:\.\d+))/),i=!!r&&r[1],o=t.indexOf("Chrome")>-1;return!(!(null!==r&&"4.0"===i&&n&&n>534.13)||o)}();this._createPrerequisites(t.noop,t.noop,t.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=n.transition,this._applyTransition(n.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(n),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&r&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:n.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var e=this._ui.container,r=this.element.attr("id");t.mobile.popup.active=n,t(":focus",e[0]).add(e[0]).blur(),r&&this.document.find("[aria-haspopup='true'][aria-owns='"+r+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(e){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(t.proxy(this,"_closePrerequisiteScreen"),t.proxy(this,"_closePrerequisiteContainer"),t.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:e?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:t.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return t.mobile.popup.active===this?(this.element.one("popupafterclose",t.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(n,r){var i,o,a=this.options,s=!1;n&&n.isDefaultPrevented()||t.mobile.popup.active!==this||(e.scrollTo(0,this._scrollTop),n&&"pagebeforechange"===n.type&&r&&(i="string"==typeof r.toPage?r.toPage:r.toPage.jqmData("url"),i=t.mobile.path.parseUrl(i),o=i.pathname+i.search+i.hash,this._myUrl!==t.mobile.path.makeUrlAbsolute(o)?s=!0:n.preventDefault()),this.window.off(a.closeEvents),this.element.undelegate(a.closeLinkSelector,a.closeLinkEvents),this._close(s))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,t.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(e){var n,r,i,o,a,s=this,u=this.options;return t.mobile.popup.active||u.disabled?this:(t.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),u.history?(a=t.mobile.navigate.history,r=t.mobile.dialogHashKey,i=t.mobile.activePage,o=!!i&&i.hasClass("ui-dialog"),this._myUrl=n=a.getActive().url,n.indexOf(r)>-1&&!o&&a.activeIndex>0?(s._open(e),s._bindContainerClose(),this):(-1!==n.indexOf(r)||o?n=t.mobile.path.parseLocation().hash+r:n+=n.indexOf("#")>-1?r:"#"+r,this.window.one("beforenavigate",function(t){t.preventDefault(),s._open(e),s._bindContainerClose()}),this.urlAltered=!0,t.mobile.navigate(n,{role:"dialog"}),this)):(s._open(e),s._bindContainerClose(),s.element.delegate(u.closeLinkSelector,u.closeLinkEvents,function(t){s.close(),t.preventDefault()}),this))},close:function(){return t.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(t.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),t.mobile.popup.handleLink=function(e){var n,r=t.mobile.path,i=t(r.hashToSelector(r.parseUrl(e.attr("href")).hash)).first();i.length>0&&i.data("mobile-popup")&&(n=e.offset(),i.popup("open",{x:n.left+e.outerWidth()/2,y:n.top+e.outerHeight()/2,transition:e.jqmData("transition"),positionTo:e.jqmData("position-to")})),setTimeout(function(){e.removeClass(t.mobile.activeBtnClass)},300)},t.mobile.document.on("pagebeforechange",function(e,n){"popup"===n.options.role&&(t.mobile.popup.handleLink(n.options.link),e.preventDefault())})}(t),function(t,e){function n(){var t=i.clone(),e=t.eq(0),n=t.eq(1),r=n.children();return{arEls:n.add(e),gd:e,ct:n,ar:r}}var r=t.mobile.browser.oldIE&&t.mobile.browser.oldIE<=8,i=t("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(r?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");t.widget("mobile.popup",t.mobile.popup,{options:{arrow:""},_create:function(){var t=this._super();return this.options.arrow&&(this._ui.arrow=this._addArrow()),t},_addArrow:function(){var t,e=this.options,r=n();return t=this._themeClassFromOption("ui-body-",e.theme),r.ar.addClass(t+(e.shadow?" ui-overlay-shadow":"")),r.arEls.hide().appendTo(this.element),r},_unenhance:function(){var t=this._ui.arrow;return t&&t.arEls.remove(),this._super()},_tryAnArrow:function(t,e,n,r,i){var o,a,s,u={},c={};return r.arFull[t.dimKey]>r.guideDims[t.dimKey]?i:(u[t.fst]=n[t.fst]+(r.arHalf[t.oDimKey]+r.menuHalf[t.oDimKey])*t.offsetFactor-r.contentBox[t.fst]+(r.clampInfo.menuSize[t.oDimKey]-r.contentBox[t.oDimKey])*t.arrowOffsetFactor,u[t.snd]=n[t.snd],o=r.result||this._calculateFinalLocation(u,r.clampInfo),a={x:o.left,y:o.top},c[t.fst]=a[t.fst]+r.contentBox[t.fst]+t.tipOffset,c[t.snd]=Math.max(o[t.prop]+r.guideOffset[t.prop]+r.arHalf[t.dimKey],Math.min(o[t.prop]+r.guideOffset[t.prop]+r.guideDims[t.dimKey]-r.arHalf[t.dimKey],n[t.snd])),s=Math.abs(n.x-c.x)+Math.abs(n.y-c.y),(!i||s<i.diff)&&(c[t.snd]-=r.arHalf[t.dimKey]+o[t.prop]+r.contentBox[t.snd],i={dir:e,diff:s,result:o,posProp:t.prop,posVal:c[t.snd]}),i)},_getPlacementState:function(t){var e,n,r=this._ui.arrow,i={clampInfo:this._clampPopupWidth(!t),arFull:{cx:r.ct.width(),cy:r.ct.height()},guideDims:{cx:r.gd.width(),cy:r.gd.height()},guideOffset:r.gd.offset()};return e=this.element.offset(),r.gd.css({left:0,top:0,right:0,bottom:0}),n=r.gd.offset(),i.contentBox={x:n.left-e.left,y:n.top-e.top,cx:r.gd.width(),cy:r.gd.height()},r.gd.removeAttr("style"),i.guideOffset={left:i.guideOffset.left-e.left,top:i.guideOffset.top-e.top},i.arHalf={cx:i.arFull.cx/2,cy:i.arFull.cy/2},i.menuHalf={cx:i.clampInfo.menuSize.cx/2,cy:i.clampInfo.menuSize.cy/2},i},_placementCoords:function(e){var n,i,o,a,s,u=this.options.arrow,c=this._ui.arrow;return c?(c.arEls.show(),s={},n=this._getPlacementState(!0),o={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-n.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:n.arHalf.cx+n.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:n.arHalf.cy+n.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-n.arHalf.cy,arrowOffsetFactor:0}},t.each((!0===u?"l,t,r,b":u).split(","),t.proxy(function(t,r){i=this._tryAnArrow(o[r],r,e,n,i)},this)),i?(c.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+i.dir).removeAttr("style").css(i.posProp,i.posVal).show(),r||(a=this.element.offset(),s[o[i.dir].fst]=c.ct.offset(),s[o[i.dir].snd]={left:a.left+n.contentBox.x,top:a.top+n.contentBox.y}),i.result):(c.arEls.hide(),this._super(e))):this._super(e)},_setOptions:function(t){var n,r=this.options.theme,i=this._ui.arrow,o=this._super(t);if(t.arrow!==e){if(!i&&t.arrow)return void(this._ui.arrow=this._addArrow());i&&!t.arrow&&(i.arEls.remove(),this._ui.arrow=null)}return(i=this._ui.arrow)&&(t.theme!==e&&(r=this._themeClassFromOption("ui-body-",r),n=this._themeClassFromOption("ui-body-",t.theme),i.ar.removeClass(r).addClass(n)),t.shadow!==e&&i.ar.toggleClass("ui-overlay-shadow",t.shadow)),o},_destroy:function(){var t=this._ui.arrow;return t&&t.arEls.remove(),this._super()}})}(t)});var firebase=function(){var t=void 0===t?self:t;return function(e){function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var r=t.webpackJsonpFirebase;t.webpackJsonpFirebase=function(t,i,a){for(var s,u,c,l=0,h=[];l<t.length;l++)u=t[l],o[u]&&h.push(o[u][0]),o[u]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(r&&r(t,i,a);h.length;)h.shift()();if(a)for(l=0;l<a.length;l++)c=n(n.s=a[l]);return c};var i={},o={5:0};return n.e=function(t){function e(){s.onerror=s.onload=null,clearTimeout(u);var e=o[t];0!==e&&(e&&e[1](Error("Loading chunk "+t+" failed.")),o[t]=void 0)}var r=o[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var i=new Promise(function(e,n){r=o[t]=[e,n]});r[2]=i;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,n.nc&&s.setAttribute("nonce",n.nc),s.src=n.p+""+t+".js";var u=setTimeout(e,12e4);return s.onerror=s.onload=e,a.appendChild(s),i},n.m=e,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n.oe=function(t){throw console.error(t),t},n(n.s=57)}([function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(28)),r(n(29)),r(n(20)),r(n(65)),r(n(66)),r(n(67)),r(n(68)),r(n(30)),r(n(69)),r(n(31)),r(n(70)),r(n(71)),r(n(73)),r(n(74)),r(n(75))},,,,,,function(t,e,n){"use strict";function r(){function t(t){return t=t||s,a(l,t)||i("no-app",{name:t}),l[t]}function e(){return Object.keys(l).map(function(t){return l[t]})}function n(t,e){Object.keys(h).forEach(function(n){var r=u(t,n);null!==r&&f[r]&&f[r](e,t)})}function u(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}var l={},h={},f={},d={__esModule:!0,initializeApp:function(t,e){void 0===e?e=s:"string"==typeof e&&""!==e||i("bad-app-name",{name:e+""}),a(l,e)&&i("duplicate-app",{name:e});var r=new c(t,e,d);return l[e]=r,n(r,"create"),r},app:t,apps:null,Promise:Promise,SDK_VERSION:"4.6.1",INTERNAL:{registerService:function(n,r,a,s,u){h[n]&&i("duplicate-service",{name:n}),h[n]=r,s&&(f[n]=s,e().forEach(function(t){s("create",t)}));var l=function(e){return void 0===e&&(e=t()),"function"!=typeof e[n]&&i("invalid-app-argument",{name:n}),e[n]()};return void 0!==a&&Object(o.deepExtend)(l,a),d[n]=l,c.prototype[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.t.bind(this,n).apply(this,u?t:[])},l},createFirebaseNamespace:r,extendNamespace:function(t){Object(o.deepExtend)(d,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:function(t){n(l[t],"delete"),delete l[t]},factories:h,useAsService:u,Promise:Promise,deepExtend:o.deepExtend}};return Object(o.patchProperty)(d,"default",d),Object.defineProperty(d,"apps",{get:e}),Object(o.patchProperty)(t,"App",c),d}function i(t,e){throw l.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",u=[],c=function(){function t(t,e,n){this.r=n,this.a=!1,this.u={},this.f=e,this.h=Object(o.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.v(),this.f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.v(),this.h},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.v(),e()}).then(function(){t.r.INTERNAL.removeApp(t.f);var e=[];return Object.keys(t.u).forEach(function(n){Object.keys(t.u[n]).forEach(function(r){e.push(t.u[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.a=!0,t.u={}})},t.prototype.t=function(t,e){if(void 0===e&&(e=s),this.v(),this.u[t]||(this.u[t]={}),!this.u[t][e]){var n=e!==s?e:void 0,r=this.r.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.u[t][e]=r}return this.u[t][e]},t.prototype.extendApp=function(t){var e=this;Object(o.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.v=function(){this.a&&i("app-deleted",{name:this.f})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l=new o.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});n.d(e,"firebase",function(){return h});var h=r();e.default=h},,,,,,,,,,,,,function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof t&&(r=t)}e.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},,,,,,,function(t,e){function n(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,m=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],m=!1,g=-1;f.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){for(var i=t.charCodeAt(r);i>255;)e[n++]=255&i,i>>=8;e[n++]=i}return e},i=function(t){if(t.length<8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=t.slice(n,n+8192);e+=String.fromCharCode.apply(null,r)}return e};e.base64={y:null,b:null,_:null,g:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.O();for(var n=e?this._:this.y,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.O();for(var n=e?this.g:this.b,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},O:function(){if(!this.y){this.y={},this.b={},this._={},this.g={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.y[t]=this.ENCODED_VALS.charAt(t),this.b[this.y[t]]=t,this._[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.g[this._[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.b[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.g[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var i=e.findKey(t,n,r);return i&&t[i]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(58),t.exports=n(6).default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59),i=(n.n(r),n(63)),o=(n.n(i),n(64));n.n(o)},function(e,n,r){(function(e){var n=function(){if(void 0!==e)return e;if(void 0!==t)return t;if("undefined"!=typeof self)return self;throw Error("unable to locate global object")}();"undefined"==typeof Promise&&(n.Promise=Promise=r(60))}).call(n,r(19))},function(t,e,n){(function(e){!function(n){function r(){}function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this.T=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o.A(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t.T.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t.T.length&&o.A(function(){t._handled||o.j(t._value)});for(var e=0,n=t.T.length;e<n;e++)a(t,t.T[e]);t.T=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(o,t)},n)}e[o]=a,0==--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o.A="function"==typeof e&&function(t){e(t)}||function(t){f(t,0)},o.j=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o.w=function(t){o.A=t},o.S=function(t){o.j=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(61).setImmediate)},function(e,n,r){function i(t,e){this.P=t,this._clearFn=e}var o=Function.prototype.apply;n.setTimeout=function(){return new i(o.call(setTimeout,t,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,t,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(t,this.P)},n.enroll=function(t,e){clearTimeout(t.N),t.C=e},n.unenroll=function(t){clearTimeout(t.N),t.C=-1},n.k=n.active=function(t){clearTimeout(t.N);var e=t.C;e>=0&&(t.N=setTimeout(function(){t.M&&t.M()},e))},r(62),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete u[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function o(t){if(c)setTimeout(o,0,t);else{var e=u[t];if(e){c=!0;try{i(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var a,s=1,u={},c=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick(function(){o(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},a=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;a=function(e){var n=l.createElement("script");n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():a=function(t){setTimeout(o,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=Function(""+t));for(var e=Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[s]=r,a(s),s++},h.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(19),n(27))},function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}})},function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return i;i++}return-1}})},function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=r(t[i],e[i]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return r(void 0,t)},e.deepExtend=r,e.patchProperty=function(t,e,n){t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();e.Deferred=r},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(20);n.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},n.isMobileCordova=function(){return void 0!==t&&!!(t.cordova||t.phonegap||t.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n.getUA())},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isNodeSdk=function(){return!0===i.CONSTANTS.NODE_CLIENT||!0===i.CONSTANTS.NODE_ADMIN}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="FirebaseError",i=Error.captureStackTrace;e.patchCapture=function(t){var e=i;return i=t,e};var o=function(){return function(t,e){if(this.code=t,this.message=e,i)i(this,a.prototype.create);else{var n=Error.apply(this,arguments);this.name=r,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();e.FirebaseError=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name=r;var a=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?""+r:"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var a=new o(i,n);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=e[s]);return a},t}();e.ErrorFactory=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=n(30);e.decode=function(t){var e={},n={},o={},a="";try{var s=t.split(".");e=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:o,signature:a}},e.isValidTimestamp=function(t){var n,r,i=e.decode(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;e.D=[],e.I=[],e.x=[],e.F=[],e.L=0,e.R=0,e.blockSize=64,e.F[0]=128;for(var n=1;n<e.blockSize;++n)e.F[n]=0;return e.reset(),e}return r(e,t),e.prototype.reset=function(){this.D[0]=1732584193,this.D[1]=4023233417,this.D[2]=2562383102,this.D[3]=271733878,this.D[4]=3285377520,this.L=0,this.R=0},e.prototype.B=function(t,e){e||(e=0);var n=this.x;if("string"==typeof t)for(l=0;l<16;l++)n[l]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(l=0;l<16;l++)n[l]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(l=16;l<80;l++){h=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(h<<1|h>>>31)}for(var r,i,o=this.D[0],a=this.D[1],s=this.D[2],u=this.D[3],c=this.D[4],l=0;l<80;l++){l<40?l<20?(r=u^a&(s^u),i=1518500249):(r=a^s^u,i=1859775393):l<60?(r=a&s|u&(a|s),i=2400959708):(r=a^s^u,i=3395469782);var h=(o<<5|o>>>27)+r+c+i+n[l]&4294967295;c=u,u=s,s=4294967295&(a<<30|a>>>2),a=o,o=h}this.D[0]=this.D[0]+o&4294967295,this.D[1]=this.D[1]+a&4294967295,this.D[2]=this.D[2]+s&4294967295,this.D[3]=this.D[3]+u&4294967295,this.D[4]=this.D[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.I,o=this.L;r<e;){if(0==o)for(;r<=n;)this.B(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.B(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.B(i),o=0;break}}this.L=o,this.R+=e}},e.prototype.digest=function(){var t=[],e=8*this.R;this.L<56?this.update(this.F,56-this.L):this.update(this.F,this.blockSize-(this.L-56));for(r=this.blockSize-1;r>=56;r--)this.I[r]=255&e,e/=256;this.B(this.I);for(var n=0,r=0;r<5;r++)for(var i=24;i>=0;i-=8)t[n]=this.D[r]>>i&255,++n;return t},e}(n(72).Hash);e.Sha1=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(){this.blockSize=-1}}();e.Hash=r},function(t,e,n){"use strict";function r(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=function(t,e){var n=new o(t,e);return n.subscribe.bind(n)};var o=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var o,a=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");void 0===(o=r(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(o.next=i),void 0===o.error&&(o.error=i),void 0===o.complete&&(o.complete=i);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?o.error(a.finalError):o.complete()}catch(t){}}),this.observers.push(o),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}},function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw Error(o)}},e.errorPrefix=r,e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw Error(r(t,e,i)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw Error(r(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw Error(r(t,e,i)+"must be a valid context object.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r.assert(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}}])}().default;try{webpackJsonpFirebase([4],{76:function(t,e,n){n(77)},77:function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function r(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==i(t)}function s(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==i(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return(f=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?l:h).apply(null,arguments)}function d(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function p(t,e){function n(){}n.prototype=e.prototype,t.ib=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Nc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function m(t){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=t+"")}function g(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function v(t){return pu.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(uu,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(cu,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(lu,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(hu,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(fu,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(du,"&#0;")),t):t}function y(t,e){return-1!=t.indexOf(e)}function b(t,e){return t<e?-1:t>e?1:0}function w(t,e){e.unshift(t),m.call(this,g.apply(null,e)),e.shift()}function T(t,e){throw new w("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function E(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}function I(e){t:{for(var n=En,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function S(t,e){return 0<=gu(t,e)}function C(t,e){var n;return(n=0<=(e=gu(t,e)))&&Array.prototype.splice.call(t,e,1),n}function A(t,e){var n=0;E(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function k(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return y(mu,t)}function D(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function _(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function O(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function P(t){for(var e in t)return!1;return!0}function R(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}function M(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Eu.length;o++)n=Eu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}function U(t,e){var n=Ru;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function F(){var t=ru.document;return t?t.documentMode:void 0}function B(t){return U(t,function(){for(var e=0,n=su(Iu+"").split("."),r=su(t+"").split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=b(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||b(0==a[2].length,0==s[2].length)||b(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function q(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function V(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function H(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function W(t,e){t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}function K(){var t=Bu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}function Q(t){ru.setTimeout(function(){throw t},0)}function z(){var t=ru.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!N("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=f(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!N("Trident")&&!N("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).pb;n.pb=null,t()}},function(t){r.next={pb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){ru.setTimeout(t,0)}}function X(t,e){Uu||$(),Fu||(Uu(),Fu=!0);var n=Bu,r=Mu.get();r.set(t,e),n.b?n.b.next=r:n.a=r,n.b=r}function $(){if(-1!=(ru.Promise+"").indexOf("[native code]")){var t=ru.Promise.resolve(void 0);Uu=function(){t.then(Y)}}else Uu=function(){var t=Y;!u(ru.setImmediate)||ru.Window&&ru.Window.prototype&&!N("Edge")&&ru.Window.prototype.setImmediate==ru.setImmediate?(ju||(ju=z()),ju(t)):ru.setImmediate(t)}}function Y(){for(var t;t=K();){try{t.a.call(t.b)}catch(t){Q(t)}W(Mu,t)}Fu=!1}function J(t,e){if(this.a=qu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){lt(n,Vu,t)},function(t){if(!(t instanceof yt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}lt(n,Hu,t)})}catch(t){lt(this,Hu,t)}}function Z(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function tt(t,e,n){var r=Wu.get();return r.g=t,r.b=e,r.f=n,r}function et(t){if(t instanceof J)return t;var e=new J(r);return lt(e,Vu,t),e}function nt(t){return new J(function(e,n){n(t)})}function rt(t,e,n){ht(t,e,n,null)||X(d(e,t))}function it(t){return new J(function(e,n){var r=t.length,i=[];if(r)for(var o,a=0;a<t.length;a++)o=t[a],rt(o,d(function(t,n){r--,i[t]=n,0==r&&e(i)},a),function(t){n(t)});else e(i)})}function ot(t){return new J(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],rt(i,d(o,a,!0),d(o,a,!1));else e(r)})}function at(t,e){return e=tt(e,e,void 0),e.c=!0,ut(t,e),t}function st(t,e){if(t.a==qu)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==qu&&1==r?st(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):pt(n),mt(n,i,Hu,e)))}t.c=null}else lt(t,Hu,e)}function ut(t,e){t.b||t.a!=Vu&&t.a!=Hu||dt(t),t.f?t.f.next=e:t.b=e,t.f=e}function ct(t,e,n,r){var i=tt(null,null,null);return i.a=new J(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof yt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,ut(t,i),i.a}function lt(t,e,n){t.a==qu&&(t===n&&(e=Hu,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ht(n,t.wc,t.xc,t)||(t.i=n,t.a=e,t.c=null,dt(t),e!=Hu||n instanceof yt||vt(t,n)))}function ht(t,e,n,i){if(t instanceof J)return ut(t,tt(e||r,n||null,i)),!0;if(V(t))return t.then(e,n,i),!0;if(c(t))try{var o=t.then;if(u(o))return ft(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function ft(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}function dt(t){t.h||(t.h=!0,X(t.Mb,t))}function pt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function mt(t,e,n,r){if(n==Hu&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,gt(e,n,r);else try{e.c?e.g.call(e.f):gt(e,n,r)}catch(t){Ku.call(null,t)}W(Wu,e)}function gt(t,e,n){e==Vu?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function vt(t,e){t.g=!0,X(function(){t.g&&Ku.call(null,e)})}function yt(t){m.call(this,t)}function bt(){this.a="",this.b=Qu}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Qu?t.a:(T("expected object of type Const, got '"+t+"'"),"type_error:Const")}function Tt(t){var e=new bt;return e.a=t,e}function Et(){this.a="",this.b=$u}function It(t){return t instanceof Et&&t.constructor===Et&&t.b===$u?t.a:(T("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function St(t,e){return t=Ct(t,e),e=new Et,e.a=t,e}function Ct(t,e){var n=wt(t);if(!Xu.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(zu,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(t+"")})}function At(){this.a="",this.b=Ju}function kt(t){return t instanceof At&&t.constructor===At&&t.b===Ju?t.a:(T("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}function xt(t){return t instanceof At?t:(t=t.la?t.ja():t+"",Yu.test(t)||(t="about:invalid#zClosurez"),Nt(t))}function Nt(t){var e=new At;return e.a=t,e}function Dt(){this.a="",this.b=Zu}function _t(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Zu?t.a:(T("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")}function Ot(t){var e=new Dt;return e.a=t,e}function Pt(e){var n=document;return t(e)?n.getElementById(e):e}function Rt(t,e){D(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:tc.hasOwnProperty(n)?t.setAttribute(tc[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Lt(e,n,r){var i=arguments,o=document,s=i[0]+"",u=i[1];if(!Gu&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',v(u.name),'"'),u.type){s.push(' type="',v(u.type),'"');var c={};M(c,u),delete c.type,u=c}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(t(u)?s.className=u:a(u)?s.className=u.join(" "):Rt(s,u)),2<i.length&&Mt(o,s,i),s}function Mt(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||c(a)&&0<a.nodeType?i(a):vu(jt(a)?x(a):a,i)}}function jt(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}function Ut(t){var e=[];return Bt(new Ft,t,e),e.join("")}function Ft(){}function Bt(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Bt(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),qt(r,n),n.push(":"),Bt(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":qt(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e+"":"null");break;case"boolean":n.push(e+"");break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function qt(t,e){e.push('"',t.replace(nc,function(t){var e=ec[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ec[t]=e),e}),'"')}function Vt(){0!=rc&&(ic[this[iu]||(this[iu]=++ou)]=this),this.oa=this.oa,this.Fa=this.Fa}function Ht(t){t.oa||(t.oa=!0,t.ta(),0!=rc&&(t=t[iu]||(t[iu]=++ou),delete ic[t]))}function Wt(t,e){this.type=t,this.b=this.target=e,this.Ab=!0}function Kt(e,n){if(Wt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(xu){t:{try{j(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:cc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function Gt(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++hc,this.ma=this.Ha=!1}function Qt(t){t.ma=!0,t.listener=null,t.a=null,t.src=null,t.La=null}function zt(t){this.src=t,this.a={},this.b=0}function Xt(t,e,n,r,i,o){var a=""+e;(e=t.a[a])||(e=t.a[a]=[],t.b++);var s=Yt(e,n,i,o);return-1<s?(t=e[s],r||(t.Ha=!1)):(t=new Gt(n,t.src,a,!!i,o),t.Ha=r,e.push(t)),t}function $t(t,e){var n=e.type;n in t.a&&C(t.a[n],e)&&(Qt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Yt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function Jt(t,e,n,r,i){if(r&&r.once)ee(t,e,n,r,i);else if(a(e))for(var o=0;o<e.length;o++)Jt(t,e[o],n,r,i);else n=ce(n),t&&t[lc]?fe(t,e,n,c(r)?!!r.capture:!!r,i):Zt(t,e,n,!1,r,i)}function Zt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,s=ue(t);if(s||(t[fc]=s=new zt(t)),!(n=Xt(s,e,n,r,a,o)).a){if(r=te(),n.a=r,r.src=t,r.listener=n,t.addEventListener)uc||(i=a),void 0===i&&(i=!1),t.addEventListener(""+e,r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ie(""+e),r)}pc++}}function te(){var t=se,e=ac?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ee(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)ee(t,e[o],n,r,i);else n=ce(n),t&&t[lc]?de(t,e,n,c(r)?!!r.capture:!!r,i):Zt(t,e,n,!0,r,i)}function ne(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)ne(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=ce(n),t&&t[lc]?(t=t.u,(e+="")in t.a&&(o=t.a[e],-1<(n=Yt(o,n,r,i))&&(Qt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=ue(t))&&(e=t.a[""+e],t=-1,e&&(t=Yt(e,n,r,i)),(n=-1<t?e[t]:null)&&re(n))}function re(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[lc])$t(e.u,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(ie(n),r),pc--,(n=ue(e))?($t(n,t),0==n.b&&(n.src=null,e[fc]=null)):Qt(t)}}}function ie(t){return t in dc?dc[t]:dc[t]="on"+t}function oe(t,e,n,r){var i=!0;if((t=ue(t))&&(e=t.a[""+e]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=ae(o,r),i=i&&!1!==o)}return i}function ae(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&re(t),n.call(r,e)}function se(t,e){if(t.ma)return!0;if(!ac){if(!e)t:{e=["window","event"];for(var n=ru,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new Kt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=oe(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=oe(r[i],t,!1,e),n=n&&o}return n}return ae(t,new Kt(e,this))}function ue(t){return(t=t[fc])instanceof zt?t:null}function ce(t){return u(t)?t:(t[mc]||(t[mc]=function(e){return t.handleEvent(e)}),t[mc])}function le(){Vt.call(this),this.u=new zt(this),this.Eb=this,this.Ra=null}function he(e,n){var r,i=e.Ra;if(i)for(r=[];i;i=i.Ra)r.push(i);if(e=e.Eb,i=n.type||n,t(n))n=new Wt(n,e);else if(n instanceof Wt)n.target=n.target||e;else{var o=n;M(n=new Wt(i,e),o)}if(o=!0,r)for(var a=r.length-1;0<=a;a--){var s=n.b=r[a];o=pe(s,i,!0,n)&&o}if(s=n.b=e,o=pe(s,i,!0,n)&&o,o=pe(s,i,!1,n)&&o,r)for(a=0;a<r.length;a++)s=n.b=r[a],o=pe(s,i,!1,n)&&o}function fe(t,e,n,r,i){Xt(t.u,e+"",n,!1,r,i)}function de(t,e,n,r,i){Xt(t.u,e+"",n,!0,r,i)}function pe(t,e,n,r){if(!(e=t.u.a[e+""]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&$t(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ab}function me(t,e,n){if(u(t))n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<+e?-1:ru.setTimeout(t,e||0)}function ge(t){var e=null;return new J(function(n,r){-1==(e=me(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw ru.clearTimeout(e),t})}function ve(t,e,n,r,i){this.reset(t,e,n,r,i)}function ye(t){this.f=t,this.b=this.c=this.a=null}function be(t,e){this.name=t,this.value=e}function we(t){return t.c?t.c:t.a?we(t.a):(T("Root logger has no level set."),null)}function Te(t){Tc||(Tc=new ye(""),wc[""]=Tc,Tc.c=yc);var e;if(!(e=wc[t])){e=new ye(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Te(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,wc[t]=e}return e}function Ee(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof Ee?(n=t.S(),r=t.P()):(n=O(t),r=_(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Se(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ce(t,e){t&&t.log(bc,e,void 0)}function Ae(t){return yu(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}function ke(t){var e="";return xe(t,function(t){e+=String.fromCharCode(t)}),e}function xe(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ic[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Ne();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Ne(){if(!Ec){Ec={},Ic={};for(var t=0;65>t;t++)Ec[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ic[Ec[t]]=t,62<=t&&(Ic["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function De(t,e){this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function _e(t,e,n){t.a=!0,t.c=n,t.f=!e,Me(t)}function Oe(t){if(t.a){if(!t.u)throw new je;t.u=!1}}function Pe(t,e){Re(t,null,e,void 0)}function Re(t,e,n,r){t.g.push([e,n,r]),t.a&&Me(t)}function Le(t){return bu(t.g,function(t){return u(t[1])})}function Me(t){if(t.h&&t.a&&Le(t)){var e=t.h,n=Cc[e];n&&(ru.clearTimeout(n.a),delete Cc[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(V(e)||"function"==typeof ru.Promise&&e instanceof ru.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Le(t)||(n=!0)}}t.c=e,r&&(s=f(t.m,t,!0),r=f(t.m,t,!1),e instanceof De?(Re(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new Fe(e),Cc[e.a]=e,t.h=e.a)}function je(){m.call(this)}function Ue(){m.call(this)}function Fe(t){this.a=ru.setTimeout(f(this.c,this),0),this.b=t}function Be(t,e){this.b=-1,this.b=Ac,this.f=ru.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=ru.Int32Array?new Int32Array(64):Array(64),Sc||(Sc=ru.Int32Array?new Int32Array(_c):_c),this.reset()}function qe(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Sc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ve(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if(t(n))for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(qe(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(qe(e),o=0)}}e.c=o,e.g+=r}function He(){Be.call(this,8,Oc)}function We(e){if(e.P&&"function"==typeof e.P)return e.P();if(t(e))return e.split("");if(s(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}return _(e)}function Ke(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(s(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}return O(e)}}function Ge(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))vu(e,n,void 0);else for(var r=Ke(e),i=We(e),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}function Qe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ze(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof ze){this.f=void 0!==e?e:t.f,Xe(this,t.c),this.l=t.l,this.b=t.b,$e(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Ee(e.a),n.b=e.b),Ye(this,n),this.h=t.h}else t&&(n=(t+"").match(Pc))?(this.f=!!e,Xe(this,n[1]||"",!0),this.l=nn(n[2]||""),this.b=nn(n[3]||"",!0),$e(this,n[4]),this.g=nn(n[5]||"",!0),Ye(this,n[6]||"",!0),this.h=nn(n[7]||"")):(this.f=!!e,this.a=new an(null,0,this.f))}function Xe(t,e,n){t.c=n?nn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function $e(t,e){if(e){if(e=+e,isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ye(t,e,n){e instanceof an?(t.a=e,pn(t.a,t.f)):(n||(e=rn(e,jc)),t.a=new an(e,0,t.f))}function Je(t,e,n){t.a.set(e,n)}function Ze(t,e){return t.a.get(e)}function tn(t){return t instanceof ze?new ze(t):new ze(t,void 0)}function en(t,e){var n=new ze(null,void 0);return Xe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rn(e,n,r){return t(e)?(e=encodeURI(e).replace(n,on),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function on(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}function an(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function sn(t){t.a||(t.a=new Ee,t.b=0,t.c&&Qe(t.c,function(e,n){cn(t,decodeURIComponent(e.replace(/\+/g," ")),n)}))}function un(t){var e=Ke(t);if(void 0===e)throw Error("Keys are undefined");var n=new an(null,0,void 0);t=We(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?fn(n,i,o):cn(n,i,o)}return n}function cn(t,e,n){sn(t),t.c=null,e=dn(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}function ln(t,e){sn(t),e=dn(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Se(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function hn(t,e){return sn(t),e=dn(t,e),Se(t.a.b,e)}function fn(t,e,n){ln(t,e),0<n.length&&(t.c=null,t.a.set(dn(t,e),x(n)),t.b+=n.length)}function dn(t,e){return e+="",t.f&&(e=e.toLowerCase()),e}function pn(t,e){e&&!t.f&&(sn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ln(this,e),fn(this,n,t))},t)),t.f=e}function mn(){}function gn(t){return t.c||(t.c=t.b())}function vn(){}function yn(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<4;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function bn(t){le.call(this),this.headers=new Ee,this.w=t||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.A=!1,this.f=0,this.m=null,this.l=Bc,this.o=this.N=!1}function wn(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.i+"; newUri="+e);n=n?n.toUpperCase():"GET",t.i=e,t.g="",t.I=n,t.A=!1,t.b=!0,t.a=t.w?t.w.a():Fc.a(),t.v=gn(t.w?t.w:Fc),t.a.onreadystatechange=f(t.zb,t);try{Ce(t.J,_n(t,"Opening Xhr")),t.G=!0,t.a.open(n,e+"",!0),t.G=!1}catch(e){return Ce(t.J,_n(t,"Error opening Xhr: "+e.message)),void In(t,e)}e=r||"";var o=new Ee(t.headers);i&&Ge(i,function(t,e){o.set(e,t)}),i=I(o.S()),r=ru.FormData&&e instanceof ru.FormData,!S(Wc,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.l&&(t.a.responseType=t.l),"withCredentials"in t.a&&t.a.withCredentials!==t.N&&(t.a.withCredentials=t.N);try{kn(t),0<t.f&&(t.o=Tn(t.a),Ce(t.J,_n(t,"Will abort after "+t.f+"ms if incomplete, xhr2 "+t.o)),t.o?(t.a.timeout=t.f,t.a.ontimeout=f(t.Ea,t)):t.m=me(t.Ea,t.f,t)),Ce(t.J,_n(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){Ce(t.J,_n(t,"Send error: "+e.message)),In(t,e)}}function Tn(t){return Cu&&B(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function En(t){return"content-type"==t.toLowerCase()}function In(t,e){t.b=!1,t.a&&(t.c=!0,t.a.abort(),t.c=!1),t.g=e,Sn(t),An(t)}function Sn(t){t.A||(t.A=!0,he(t,"complete"),he(t,"error"))}function Cn(t){if(t.b&&void 0!==nu)if(t.v[1]&&4==xn(t)&&2==Nn(t))Ce(t.J,_n(t,"Local request error detected and ignored"));else if(t.h&&4==xn(t))me(t.zb,0,t);else if(he(t,"readystatechange"),4==xn(t)){Ce(t.J,_n(t,"Request complete")),t.b=!1;try{var e=Nn(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=(t.i+"").match(Pc)[1]||null;if(!o&&ru.self&&ru.self.location){var a=ru.self.location.protocol;o=a.substr(0,a.length-1)}i=!Hc.test(o?o.toLowerCase():"")}r=i}if(r)he(t,"complete"),he(t,"success");else{try{var s=2<xn(t)?t.a.statusText:""}catch(e){Ce(t.J,"Can not get status: "+e.message),s=""}t.g=s+" ["+Nn(t)+"]",Sn(t)}}finally{An(t)}}}function An(t,e){if(t.a){kn(t);var n=t.a,i=t.v[0]?r:null;t.a=null,t.v=null,e||he(t,"ready");try{n.onreadystatechange=i}catch(e){(t=t.J)&&t.log(vc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function kn(t){t.a&&t.o&&(t.a.ontimeout=null),"number"==typeof t.m&&(ru.clearTimeout(t.m),t.m=null)}function xn(t){return t.a?t.a.readyState:0}function Nn(t){try{return 2<xn(t)?t.a.status:-1}catch(t){return-1}}function Dn(t){try{return t.a?t.a.responseText:""}catch(e){return Ce(t.J,"Can not get responseText: "+e.message),""}}function _n(t,e){return e+" ["+t.I+" "+t.i+" "+Nn(t)+"]"}function On(t){var e={},n=e.document||document,r=It(t),i=document.createElement("SCRIPT"),o={Bb:i,Ea:void 0},a=new De(Rn,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Ln(i,!0);var t=new Mn(Qc,"Timeout reached for loading script "+r);Oe(a),_e(a,!1,t)},u),o.Ea=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ln(i,e.Oc||!1,s),a.A(null))},i.onerror=function(){Ln(i,!0,s);var t=new Mn(Gc,"Error while loading script "+r);Oe(a),_e(a,!1,t)},o=e.attributes||{},M(o,{type:"text/javascript",charset:"UTF-8"}),Rt(i,o),i.src=It(t),Pn(n).appendChild(i),a}function Pn(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Rn(){if(this&&this.Bb){var t=this.Bb;t&&"SCRIPT"==t.tagName&&Ln(t,!0,this.Ea)}}function Ln(t,e,n){null!=n&&ru.clearTimeout(n),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function Mn(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),m.call(this,n),this.code=t}function jn(){}function Un(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.a.onload=f(this.Sb,this),this.a.onerror=f(this.wb,this),this.a.onprogress=f(this.Tb,this),this.a.ontimeout=f(this.Ub,this)}function Fn(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bn(){var t=rr();return Cu&&!!Pu&&11==Pu||/Edge\/\d+/.test(t)}function qn(){return ru.window&&ru.window.location.href||""}function Vn(t,e){e=e||ru.window;var n="about:blank";t&&(n=kt(xt(t))),e.location.href=n}function Hn(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):a(t[n])?R(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Hn(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Wn(){var t=rr();return!((t=er(t)!=$c?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Cu&&Pu&&!(9<Pu))}function Kn(t){return!!((t=(t||rr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Gn(t){t=t||ru.window;try{t.close()}catch(t){}}function Qn(t,e,n){var r=""+Math.floor(1e9*Math.random());e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=rr().toLowerCase(),r&&(e.target=r,y(n,"crios/")&&(e.target="_blank")),er(rr())==Xc&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(r=e)||(r={}),t=window,e=n instanceof At?n:xt(void 0!==n.href?n.href:n+""),n=r.target||n.target,i=[];for(a in r)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:i.push(a+"="+(r[a]?1:0))}var a=i.join(",");if((N("iPhone")&&!N("iPod")&&!N("iPad")||N("iPad")||N("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(a=t.document.createElement("A"),e instanceof At||e instanceof At||(e=e.la?e.ja():e+"",Yu.test(e)||(e="about:invalid#zClosurez"),e=Nt(e)),a.href=kt(e),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=t.open("",n,a),t=kt(e),a&&(ku&&y(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,Tt("b/12014412, meta tag with sanitized URL"),t='<META HTTP-EQUIV="refresh" content="0; url='+v(t)+'">',t=Ot(t),a.document.write(_t(t)),a.document.close())):a=t.open(kt(e),n,a),a)try{a.focus()}catch(t){}return a}function zn(t){return new J(function(e){function n(){ge(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function Xn(){var t=null;return new J(function(e){"complete"==ru.document.readyState?e():(t=function(){e()},ee(window,"load",t))}).s(function(e){throw ne(window,"load",t),e})}function $n(){return Yn(void 0)?Xn().then(function(){return new J(function(t,e){var n=ru.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):nt(Error("Cordova must run in an Android or iOS file scheme."))}function Yn(t){return t=t||rr(),!("file:"!==ur()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jn(){var t=ru.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Zn(){return eu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":eu.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function tr(){var t=Zn();return"ReactNative"===t||"Node"===t}function er(t){var e=t.toLowerCase();return y(e,"opera/")||y(e,"opr/")||y(e,"opios/")?"Opera":y(e,"iemobile")?"IEMobile":y(e,"msie")||y(e,"trident/")?"IE":y(e,"edge/")?"Edge":y(e,"firefox/")?Xc:y(e,"silk/")?"Silk":y(e,"blackberry")?"Blackberry":y(e,"webos")?"Webos":!y(e,"safari/")||y(e,"chrome/")||y(e,"crios/")||y(e,"android")?!y(e,"chrome/")&&!y(e,"crios/")||y(e,"edge/")?y(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":$c:"Safari"}function nr(t,e){e=e||[];var n,r=[],i={};for(n in Yc)i[Yc[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),r=Zn(),i="",(i="Browser"===r?er(rr()):r)+"/JsCore/"+t+"/"+e.join(",")}function rr(){return ru.navigator&&ru.navigator.userAgent||""}function ir(t,e){t=t.split("."),e=e||ru;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function or(){try{var t=ru.localStorage,e=dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Bn()||!!ru.indexedDB}catch(t){}return!1}function ar(){return(sr()||"chrome-extension:"===ur()||Yn())&&!tr()&&or()}function sr(){return"http:"===ur()||"https:"===ur()}function ur(){return ru.location&&ru.location.protocol||null}function cr(t){return t=t||rr(),!Kn(t)&&er(t)!=Xc}function lr(t){return void 0===t?null:Ut(t)}function hr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function fr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||""+Math.floor(1e9*Math.random())}function pr(t){return t=t||rr(),"Safari"!=er(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mr(){var t=ru.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function gr(){var t=ru.navigator;return!t||"boolean"!=typeof t.onLine||!sr()&&"chrome-extension:"!==ur()&&void 0===t.connection||t.onLine}function vr(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=n||rr(),r=r||Zn(),this.a=Kn(t)||"ReactNative"===r}function yr(){var t=ru.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function br(){var t=ru.document,e=null;return yr()||!t?et():new J(function(n){e=function(){yr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Tr(t,e,n){Jc?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Er(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function Ir(t){var e={};return Er(e,t),e}function Sr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Cr(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ar(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Tr(e,n,Ar(t[n]))}return e}function kr(t){var e={},n=t[el],r=t[nl];if(t=t[rl],!n||!t)throw Error("Invalid provider user info!");e[ol]=r||null,e[il]=n,Tr(this,sl,t),Tr(this,al,Ar(e))}function xr(t,e){this.code=ul+t,this.message=e||cl[t]||""}function Nr(t){var e=t&&t.code;return e?new xr(e.substring(ul.length),t.message):null}function Dr(t){var e=t[dl];if(void 0===e)throw new xr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new xr("invalid-continue-uri");this.h=e,this.c=this.a=null,this.g=!1;var n=t[ll];if(n&&"object"==typeof n){e=n[gl];var r=n[pl];if(n=n[ml],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new xr("argument-error",pl+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new xr("argument-error",ml+" property must be a non empty string when specified.");this.c=n||null}else{if(void 0!==e)throw new xr("argument-error",gl+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new xr("missing-android-pkg-name")}}else if(void 0!==n)throw new xr("argument-error",ll+" property must be a non null object when specified.");if(this.b=null,(e=t[fl])&&"object"==typeof e){if("string"==typeof(e=e[vl])&&e.length)this.b=e;else if(void 0!==e)throw new xr("argument-error",vl+" property must be a non empty string when specified.")}else if(void 0!==e)throw new xr("argument-error",fl+" property must be a non null object when specified.");if(void 0!==(t=t[hl])&&"boolean"!=typeof t)throw new xr("argument-error",hl+" property must be a boolean when specified.");if((this.f=!!t)&&!this.b&&!this.a)throw new xr("argument-error",hl+" property can't be true when no mobile application is provided.")}function _r(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.f,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.c,e.androidInstallApp=t.g),e.iOSBundleId=t.b;for(var n in e)null===e[n]&&delete e[n];return e}function Or(t){this.b=t.sub,au(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null}function Pr(t){if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=JSON.parse(ke(t));if(r.sub&&r.iss&&r.aud&&r.exp)return new Or(r)}catch(t){}return null}function Rr(t){for(var e in wl)if(wl[e].Na==t)return wl[e];return null}function Lr(t){var e={};e["facebook.com"]=Ur,e["google.com"]=Br,e["github.com"]=Fr,e["twitter.com"]=qr;var n=t&&t[El];try{if(n)return e[n]?new e[n](t):new jr(t);if(void 0!==t[Tl])return new Mr(t)}catch(t){}return null}function Mr(t){var e=t[El];if(!e&&t[Tl]){var n=Pr(t[Tl]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");t=!!t.isNewUser,Tr(this,"providerId",e),Tr(this,"isNewUser",t)}function jr(t){Mr.call(this,t),Tr(this,"profile",Ar((t=fr(t.rawUserInfo||"{}"))||{}))}function Ur(t){if(jr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fr(t){if(jr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",this.profile&&this.profile.login||null)}function Br(t){if(jr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qr(t){if(jr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",t.screenName||null)}function Vr(t,e){return t.then(function(t){if(t[Sl]){var n=Pr(t[Sl]);if(!n||e!=n.b)throw new xr("user-mismatch");return t}throw new xr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==ul+"user-not-found"?new xr("user-mismatch"):t})}function Hr(t,e){if(e.idToken||e.accessToken)e.idToken&&Tr(this,"idToken",e.idToken),e.accessToken&&Tr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new xr("internal-error","failed to construct a credential");Tr(this,"accessToken",e.oauthToken),Tr(this,"secret",e.oauthTokenSecret)}Tr(this,"providerId",t)}function Wr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:""+un(e),requestUri:"http://localhost"}}function Kr(t,e){this.nc=e||[],Er(this,{providerId:t,isOAuthProvider:!0}),this.qb={},this.Wa=(Rr(t)||{}).Ma||null,this.Ua=null}function Gr(t){Kr.call(this,t,bl),this.a=[]}function Qr(){Gr.call(this,"facebook.com")}function zr(t){if(!t)throw new xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new Qr).credential(null,e)}function Xr(){Gr.call(this,"github.com")}function $r(t){if(!t)throw new xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new Xr).credential(null,e)}function Yr(){Gr.call(this,"google.com"),this.sa("profile")}function Jr(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new Yr).credential(n,e)}function Zr(){Kr.call(this,"twitter.com",yl)}function ti(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Hr("twitter.com",n)}function ei(t,e){this.a=t,this.f=e,Tr(this,"providerId","password")}function ni(){Er(this,{providerId:"password",isOAuthProvider:!1})}function ri(t){if(!(t.Pa&&t.Oa||t.Da&&t.Y))throw new xr("internal-error");this.a=t,Tr(this,"providerId","phone")}function ii(t){return t.a.Da&&t.a.Y?{temporaryProof:t.a.Da,phoneNumber:t.a.Y}:{sessionInfo:t.a.Pa,code:t.a.Oa}}function oi(t){try{this.a=t||eu.auth()}catch(t){throw new xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Er(this,{providerId:"phone",isOAuthProvider:!1})}function ai(t,e){if(!t)throw new xr("missing-verification-id");if(!e)throw new xr("missing-verification-code");return new ri({Pa:t,Oa:e})}function si(t){if(t.temporaryProof&&t.phoneNumber)return new ri({Da:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Jr(t,n);case"facebook.com":return zr(n);case"github.com":return $r(n);case"twitter.com":return ti(n,r);default:return new Gr(e).credential(t,n)}}catch(t){return null}}function ui(t){if(!t.isOAuthProvider)throw new xr("invalid-oauth-provider")}function ci(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new xr("invalid-auth-event");if(this.f&&this.a)throw new xr("invalid-auth-event");if(this.f&&!this.g)throw new xr("invalid-auth-event")}function li(t){return(t=t||{}).type?new ci(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Nr(t.error)):null}function hi(t){var e="unauthorized-domain",n=void 0,r=tn(t);t=r.b,"chrome-extension"==(r=r.c)?n=g("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=g("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",xr.call(this,e,n)}function fi(t,e,n){xr.call(this,t,n),(t=e||{}).rb&&Tr(this,"email",t.rb),t.Y&&Tr(this,"phoneNumber",t.Y),t.credential&&Tr(this,"credential",t.credential)}function di(t){if(t.code){var e=t.code||"";0==e.indexOf(ul)&&(e=e.substring(ul.length));var n={credential:si(t)};if(t.email)n.rb=t.email;else{if(!t.phoneNumber)return new xr(e,t.message||void 0);n.Y=t.phoneNumber}return new fi(e,n,t.message)}return null}function pi(t){this.f=t}function mi(t,e,n){var r="Node"==Zn();if(!(r=ru.XMLHttpRequest||r&&eu.INTERNAL.node&&eu.INTERNAL.node.XMLHttpRequest))throw new xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Cl,this.c=L(t.secureTokenHeaders||Al),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||kl,this.a=L(t.firebaseHeaders||xl),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new jn,this.o=new pi(r)}function gi(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function vi(t,e){e?(t.a["X-Client-Version"]=e,t.c["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.c["X-Client-Version"])}function yi(t,e,n,r,i,o,a){gr()?(Wn()?t=f(t.m,t):(Il||(Il=new J(function(t,e){bi(t,e)})),t=f(t.u,t)),t(e,n,r,i,o,a)):n&&n(null)}function bi(t,e){((window.gapi||{}).client||{}).request?t():(ru[Dl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},Pe(On(St(Nl,{onload:Dl})),function(){e(Error("CORS_UNSUPPORTED"))}))}function wi(t,e){return new J(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?yi(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(ji(t)):t.access_token&&t.refresh_token?n(t):r(new xr("internal-error")):r(new xr("network-request-failed"))},"POST",""+un(e),t.c,t.l.get()):r(new xr("internal-error"))})}function Ti(t,e,n,r,i,o){var a=tn(t.g+e);Je(a,"key",t.b),o&&Je(a,"cb",""+au());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Je(a,u,r[u]);return new J(function(e,o){yi(t,""+a,function(t){t?t.error?o(ji(t,i||{})):e(t):o(new xr("network-request-failed"))},n,s?void 0:Ut(hr(r)),t.a,t.h.get())})}function Ei(t){if(!Kc.test(t.email))throw new xr("invalid-email")}function Ii(t){"email"in t&&Ei(t)}function Si(t,e){return Mi(t,Ml,{identifier:e,continueUri:sr()?qn():"http://localhost"}).then(function(t){return t.allProviders||[]})}function Ci(t){return Mi(t,Vl,{}).then(function(t){return t.authorizedDomains||[]})}function Ai(t){if(!t[Sl])throw new xr("internal-error")}function ki(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new xr("internal-error")}else{if(!t.sessionInfo)throw new xr("missing-verification-id");if(!t.code)throw new xr("missing-verification-code")}}function xi(t,e){return Mi(t,Kl,e)}function Ni(t,e,n){return Mi(t,Ul,{idToken:e,deleteProvider:n})}function Di(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new xr("internal-error")}function _i(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=di(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=di(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=di(t)),e)throw e;if(!t[Sl])throw new xr("internal-error")}function Oi(t,e){return e.returnIdpCredential=!0,Mi(t,Xl,e)}function Pi(t,e){return e.returnIdpCredential=!0,Mi(t,Yl,e)}function Ri(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Mi(t,$l,e)}function Li(t){if(!t.oobCode)throw new xr("invalid-action-code")}function Mi(t,e,n){if(!Cr(n,e.ea))return nt(new xr("internal-error"));var r,i=e.yb||"POST";return et(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),Ti(t,e.endpoint,i,n,e.Lb,e.nb||!1)}).then(function(t){return r=t}).then(e.O).then(function(){if(!e.ga)return r;if(!(e.ga in r))throw new xr("internal-error");return r[e.ga]})}function ji(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new xr(r[n]):null)return n;n=t.error&&t.error.message||"",M(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new xr(r[i],e);return!e&&t&&(e=lr(t)),new xr("internal-error",e)}function Ui(t){for(var e in rh)if(rh[e].id===t)return t=rh[e],{firebaseEndpoint:t.Va,secureTokenEndpoint:t.ab};return null}function Fi(t){this.b=t,this.a=null,this.Ya=Bi(this)}function Bi(t){return Hi().then(function(){return new J(function(e,n){ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ah.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function qi(t,e){return t.Ya.then(function(){return new J(function(n){t.a.send(e.type,e,n,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Vi(t,e){t.Ya.then(function(){t.a.register("authEvent",e,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Hi(){return sh||(sh=new J(function(t,e){if(gr()){var n=function(){mr(),ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){mr(),e(Error("Network Error"))},timeout:oh.get()})};if(ir("gapi.iframes.Iframe"))t();else if(ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random());ru[r]=function(){ir("gapi.load")?n():e(Error("Network Error"))},et(On(r=St(ih,{onload:r}))).s(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).s(function(t){throw sh=null,t}))}function Wi(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=en(this.i,"/__/auth/iframe"),Je(this.a,"apiKey",this.g),Je(this.a,"appName",this.h),this.b=null,this.c=[]}function Ki(t,e,n,r,i){this.m=t,this.u=e,this.c=n,this.l=r,this.i=this.g=this.h=null,this.a=i,this.f=null}function Gi(t){try{return eu.app(t).auth().Ka()}catch(t){return[]}}function Qi(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function zi(t){var e=qn();return Ci(t).then(function(t){t:{var n=tn(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=tn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:zc.test(o)?a=a==o:(o=o.split(".").join("\\."),a=RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new hi(qn())})}function Xi(t){return t.l?t.l:(t.l=Xn().then(function(){if(!t.o){var e=t.c,n=t.h,r=Gi(t.b),i=new Wi(t.u,t.f,t.b);i.f=e,i.b=n,i.c=x(r||[]),t.o=""+i}t.i=new Fi(t.o),Ji(t)}),t.l)}function $i(t){return t.m||(t.v=t.c?nr(t.c,Gi(t.b)):null,t.m=new mi(t.f,Ui(t.h),t.v)),t.m}function Yi(t,e,n,r,i,o,a,s,u,c){return t=new Ki(t,e,n,r,i),t.h=o,t.g=a,t.i=s,t.b=L(u||null),t.f=c,""+t}function Ji(t){if(!t.i)throw Error("IfcHandler must be initialized!");Vi(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=li(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",et(n)}return n.status="ERROR",et(n)})}function Zi(t){var e={type:"webStorageSupport"};return Xi(t).then(function(){return qi(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function to(t){if(this.a=t||eu.INTERNAL.reactNative&&eu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new xr("internal-error","The React Native compatibility library was not found.")}function eo(){this.a={}}function no(t,e,n,r,i,o){if(!window.indexedDB)throw new xr("web-storage-unsupported");this.u=t,this.h=e,this.g=n,this.l=r,this.m=i,this.f={},this.c=[],this.a=0,this.o=o||ru.indexedDB}function ro(t){return new J(function(e,n){var r=t.o.open(t.u,t.m);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.h,{keyPath:t.g})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})}function io(t){return t.i||(t.i=ro(t)),t.i}function oo(t,e){return e.objectStore(t.h)}function ao(t,e,n){return e.transaction([t.h],n?"readwrite":"readonly")}function so(t){return new J(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function uo(t){function e(){return t.b=ge(800).then(f(t.vc,t)).then(function(e){0<e.length&&vu(t.c,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}t.b&&t.b.cancel("STOP_EVENT"),e()}function co(){if(!lo()){if("Node"==Zn())throw new xr("internal-error","The LocalStorage compatibility library was not found.");throw new xr("web-storage-unsupported")}this.a=ru.localStorage||eu.INTERNAL.node.localStorage}function lo(){var t="Node"==Zn();if(!(t=ru.localStorage||t&&eu.INTERNAL.node&&eu.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function ho(){}function fo(){if(!po()){if("Node"==Zn())throw new xr("internal-error","The SessionStorage compatibility library was not found.");throw new xr("web-storage-unsupported")}this.a=ru.sessionStorage||eu.INTERNAL.node.sessionStorage}function po(){var t="Node"==Zn();if(!(t=ru.sessionStorage||t&&eu.INTERNAL.node&&eu.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function mo(){var t={};t.Browser=hh,t.Node=fh,t.ReactNative=dh,this.a=t[Zn()]}function go(t){var e=new xr("invalid-persistence-type"),n=new xr("unsupported-persistence-type");t:{for(r in ph)if(ph[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Zn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!or()&&"none"!==t)throw n}}function vo(t,e,n,r){this.i=t,this.g=e,this.w=n,this.u=r,this.a={},ch||(ch=new mo),t=ch;try{if(Bn()){uh||(uh=new no("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=uh}else i=new t.a.C;this.l=i}catch(t){this.l=new eo,this.u=!0}try{this.o=new t.a.jb}catch(t){this.o=new eo}this.v=new eo,this.h=f(this.m,this),this.b={}}function yo(){return lh||(lh=new vo("firebase",":",!(pr(rr())||!Jn()),cr())),lh}function bo(t,e){switch(e){case"session":return t.o;case"none":return t.v;default:return t.l}}function wo(t,e,n){return t.i+t.g+e.name+(n?t.g+n:"")}function To(t,e,n){return n=wo(t,e,n),"local"==e.C&&(t.b[n]=null),bo(t,e.C).X(n)}function Eo(t,e,n,r){e=wo(t,e,n),void 0!==ru.localStorage&&"function"==typeof ru.localStorage.getItem&&(t.b[e]=ru.localStorage.getItem(e)),P(t.a)&&(bo(t,"local").ia(t.h),t.u||Bn()||So(t)),t.a[e]||(t.a[e]=[]),t.a[e].push(r)}function Io(t,e,n){e=wo(t,os("local"),e),t.a[e]&&(A(t.a[e],function(t){return t==n}),0==t.a[e].length&&delete t.a[e]),P(t.a)&&Ao(t)}function So(t){Co(t),t.f=setInterval(function(){for(var e in t.a){var n=ru.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Kt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.m(n))}},1e3)}function Co(t){t.f&&(clearInterval(t.f),t.f=null)}function Ao(t){bo(t,"local").da(t.h),Co(t)}function ko(t){this.a=t,this.b=yo()}function xo(t){return t.b.get(mh,t.a).then(function(t){return li(t)})}function No(){this.a=yo()}function Do(t,e,n,r,i,o,a){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=a||null,this.h=e+":"+n,this.A=new No,this.g=new ko(this.h),this.f=null,this.b=[],this.v=i||500,this.w=o||2e3,this.a=this.c=null}function _o(t){return new xr("invalid-cordova-configuration",t)}function Oo(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Po(t){var e=new He;Ve(e,t),t=[];var n=8*e.g;56>e.c?Ve(e,Dc,56-e.c):Ve(e,Dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(qe(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Ae(t)}function Ro(t,e,n,r){var i=Oo(),o=new ci(e,r,null,i,new xr("no-auth-event")),a=ir("BuildInfo.packageName",ru);if("string"!=typeof a)throw new xr("invalid-cordova-configuration");var s=ir("BuildInfo.displayName",ru),u={};if(rr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!rr().toLowerCase().match(/android/))return nt(new xr("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=Po(i),u.sessionId=i;var c=Yi(t.u,t.i,t.l,e,n,null,r,t.m,u,t.o);return t.ba().then(function(){var e=t.h;return t.A.a.set(mh,o.B(),e)}).then(function(){var e=ir("cordova.plugins.browsertab.isAvailable",ru);if("function"!=typeof e)throw new xr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=ir("cordova.plugins.browsertab.openUrl",ru)))throw new xr("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=ir("cordova.InAppBrowser.open",ru)))throw new xr("invalid-cordova-configuration");e=!(!(e=rr()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function Lo(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Mo(t){return t.f||(t.f=t.ba().then(function(){return new J(function(e){function n(r){return e(r),t.Ja(n),!1}t.ua(n),Uo(t)})})),t.f}function jo(t){var e=null;return xo(t.g).then(function(n){return e=n,n=t.g,To(n.b,mh,n.a)}).then(function(){return e})}function Uo(t){function e(e){i=!0,o&&o.cancel(),jo(t).then(function(n){var i=r;if(n&&e&&e.url){i=null;var o=e.url,a=tn(o),s=Ze(a,"link"),u=Ze(tn(s),"link");-1!=(o=Ze(tn(a=Ze(a,"deep_link_id")),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=tn(o),i=fr(Ze(i,"firebaseError")||null),i=(i="object"==typeof i?Nr(i):null)?new ci(n.b,n.c,null,null,i):new ci(n.b,n.c,o,n.g)),i=i||r}Lo(t,i)})}var n=ir("universalLinks.subscribe",ru);if("function"!=typeof n)throw new xr("invalid-cordova-configuration");var r=new ci("unknown",null,null,null,new xr("no-auth-event")),i=!1,o=ge(t.v).then(function(){return jo(t).then(function(){i||Lo(t,r)})}),a=ru.handleOpenURL;ru.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ir("BuildInfo.packageName",ru).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},n(null,e)}function Fo(t){this.a=t,this.b=yo()}function Bo(t){return t.b.set(gh,"pending",t.a)}function qo(t){return To(t.b,gh,t.a)}function Vo(t){return t.b.get(gh,t.a).then(function(t){return"pending"==t})}function Ho(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=f(this.m,this),this.c=new $o,this.o=new ra,this.g=new Fo(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.o,this.b.linkViaPopup=this.o,this.b.reauthViaPopup=this.o,this.a=Wo(this.v,this.l,this.u,Ol)}function Wo(t,e,n,r){var i=eu.SDK_VERSION||null;return Yn()?new Do(t,e,n,i,void 0,void 0,r):new Qi(t,e,n,i,r)}function Ko(t){t.f||(t.f=!0,t.a.ua(t.i));var e=t.a;return t.a.ba().s(function(n){throw t.a==e&&t.reset(),n})}function Go(t){t.a.Cb()&&Ko(t).s(function(e){var n=new ci("unknown",null,null,null,new xr("operation-not-supported-in-this-environment"));zo(e)&&t.m(n)}),t.a.xb()||Yo(t.c)}function Qo(t,e,n,r,i,o){return t.a.ub(e,n,r,function(){t.f||(t.f=!0,t.a.ua(t.i))},function(){t.reset()},i,o)}function zo(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Xo(t,e,n){var r=e+":"+n;return bh[r]||(bh[r]=new Ho(t,e,n)),bh[r]}function $o(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Yo(t){t.g||(t.g=!0,ea(t,!1,null,null))}function Jo(t,e,n){n=n.va(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);return n(r,i).then(function(e){ea(t,o,e,null)}).s(function(e){ea(t,o,null,e)})}function Zo(t,e){if(t.b=function(){return nt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function ta(t,e){if(t.b=function(){return et(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ea(t,e,n,r){e?r?Zo(t,r):ta(t,n):ta(t,{user:null}),t.f=[],t.c=[]}function na(t){var e=new xr("timeout");t.a&&t.a.cancel(),t.a=ge(yh.get()).then(function(){t.b||ea(t,!0,null,e)})}function ra(){}function ia(t,e){var n=t.c,r=t.b;return e.va(r,n)(t.f,t.g).then(function(t){e.fa(r,t,null,n)}).s(function(t){e.fa(r,null,t,n)})}function oa(t,e){this.a=e,Tr(this,"verificationId",t)}function aa(t,e,n,r){return new oi(t).Qa(e,n).then(function(t){return new oa(t,r)})}function sa(t,e,n,r,i,o){if(this.h=t,this.i=e,this.g=n,this.c=r,this.f=i,this.l=!!o,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ua(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ca(t,e){la(t),t.b=ge(ua(t,e)).then(function(){return t.l?et():br()}).then(function(){return t.h()}).then(function(){ca(t,!0)}).s(function(e){t.i(e)&&ca(t,!1)})}function la(t){t.b&&(t.b.cancel(),t.b=null)}function ha(t){this.f=t,this.b=this.a=null,this.c=0}function fa(t,e){var n=e[Sl],r=e.refreshToken;e=da(e.expiresIn),t.b=n,t.c=e,t.a=r}function da(t){return au()+1e3*parseInt(t,10)}function pa(t,e){return wi(t.f,e).then(function(e){return t.b=e.access_token,t.c=da(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function ma(t,e){this.a=t||null,this.b=e||null,Er(this,{lastSignInTime:wr(e||null),creationTime:wr(t||null)})}function ga(t){return new ma(t.a,t.b)}function va(t,e,n,r,i,o){Er(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ya(t,e){Wt.call(this,t);for(var n in e)this[n]=e[n]}function ba(t,e,n){this.A=[],this.G=t.apiKey,this.o=t.appName,this.w=t.authDomain||null,t=eu.SDK_VERSION?nr(eu.SDK_VERSION):null,this.c=new mi(this.G,Ui(Ol),t),this.h=new ha(this.c),ka(this,e[Sl]),fa(this.h,e),Tr(this,"refreshToken",this.h.a),_a(this,n||{}),le.call(this),this.I=!1,this.w&&ar()&&(this.a=Xo(this.w,this.G,this.o)),this.N=[],this.i=null,this.l=Sa(this),this.U=f(this.Ga,this);var r=this;this.ha=null,this.ra=function(t){r.na(t.h)},this.W=null,this.R=[],this.qa=function(t){Ta(r,t.f)},this.V=null}function wa(t,e){t.W&&ne(t.W,"languageCodeChanged",t.ra),(t.W=e)&&Jt(e,"languageCodeChanged",t.ra)}function Ta(t,e){t.R=e,vi(t.c,eu.SDK_VERSION?nr(eu.SDK_VERSION,t.R):null)}function Ea(t,e){t.V&&ne(t.V,"frameworkChanged",t.qa),(t.V=e)&&Jt(e,"frameworkChanged",t.qa)}function Ia(t){try{return eu.app(t.o).auth()}catch(e){throw new xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Sa(t){return new sa(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-au()-3e5;return 0<e?e:0},3e4,96e4,!1)}function Ca(t){t.m||t.l.b||(t.l.start(),ne(t,"tokenChanged",t.U),Jt(t,"tokenChanged",t.U))}function Aa(t){ne(t,"tokenChanged",t.U),la(t.l)}function ka(t,e){t.pa=e,Tr(t,"_lat",e)}function xa(t,e){A(t.N,function(t){return t==e})}function Na(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return ot(e).then(function(){return t})}function Da(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function _a(t,e){Er(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new ma(e.createdAt,e.lastLoginAt),providerData:[]})}function Oa(){}function Pa(t){return et().then(function(){if(t.m)throw new xr("app-deleted")})}function Ra(t){return yu(t.providerData,function(t){return t.providerId})}function La(t,e){e&&(Ma(t,e.providerId),t.providerData.push(e))}function Ma(t,e){A(t.providerData,function(t){return t.providerId==e})}function ja(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function Ua(t,e){t!=e&&(Er(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Tr(t,"metadata",ga(e.metadata)):Tr(t,"metadata",new ma),vu(e.providerData,function(e){La(t,e)}),t.h=e.h,Tr(t,"refreshToken",t.h.a))}function Fa(t){return t.F().then(function(e){var n=t.isAnonymous;return qa(t,e).then(function(){return n||ja(t,"isAnonymous",!1),e})})}function Ba(t,e){e[Sl]&&t.pa!=e[Sl]&&(fa(t.h,e),he(t,new ya("tokenChanged")),ka(t,e[Sl]),ja(t,"refreshToken",t.h.a))}function qa(t,e){return Mi(t.c,Fl,{idToken:e}).then(f(t.gc,t))}function Va(t){return(t=t.providerUserInfo)&&t.length?yu(t,function(t){return new va(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Ha(t,e){return Fa(t).then(function(){if(S(Ra(t),e))return Na(t).then(function(){throw new xr("provider-already-linked")})})}function Wa(t,e,n){var r=si(e);return e=Lr(e),Ir({user:t,credential:r,additionalUserInfo:e,operationType:n})}function Ka(t,e){return Ba(t,e),t.reload().then(function(){return t})}function Ga(t,e,n,r,i){if(!ar())return nt(new xr("operation-not-supported-in-this-environment"));if(t.i&&!i)return nt(t.i);var o=Rr(n.providerId),a=dr(t.uid+":::"),s=null;(!cr()||Jn())&&t.w&&n.isOAuthProvider&&(s=Yi(t.w,t.G,t.o,e,n,null,a,eu.SDK_VERSION||null));var u=Qn(s,o&&o.za,o&&o.ya);return r=r().then(function(){if(za(t),!i)return t.F().then(function(){})}).then(function(){return Qo(t.a,u,e,n,a,!!s)}).then(function(){return new J(function(n,r){t.fa(e,null,new xr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.b=t.a.Ca(t,e,u,a)})}).then(function(t){return u&&Gn(u),t?Ir(t):null}).s(function(t){throw u&&Gn(u),t}),Xa(t,r,i)}function Qa(t,e,n,r,i){if(!ar())return nt(new xr("operation-not-supported-in-this-environment"));if(t.i&&!i)return nt(t.i);var o=null,a=dr(t.uid+":::");return r=r().then(function(){if(za(t),!i)return t.F().then(function(){})}).then(function(){return t.Z=a,Na(t)}).then(function(e){return t.ca&&(e=t.ca,e=e.b.set(wh,t.B(),e.a)),e}).then(function(){return t.a.Aa(e,n,a)}).s(function(e){if(o=e,t.ca)return ts(t.ca);throw o}).then(function(){if(o)throw o}),Xa(t,r,i)}function za(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new xr("internal-error");throw new xr("auth-domain-config-required")}}function Xa(t,e,n){var r=$a(t,e,n);return t.A.push(r),at(r,function(){C(t.A,r)}),r}function $a(t,e,n){return t.i&&!n?(e.cancel(),nt(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||he(t,new ya("userInvalidated")),t.i=e),e})}function Ya(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Sl]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-au())/1e3;var r=new ba(e,n,t);return t.providerData&&vu(t.providerData,function(t){t&&La(r,Ir(t))}),t.redirectEventId&&(r.Z=t.redirectEventId),r}function Ja(t,e,n,r){var i=new ba(t,e);return n&&(i.ca=n),r&&Ta(i,r),i.reload().then(function(){return i})}function Za(t){this.a=t,this.b=yo()}function ts(t){return To(t.b,wh,t.a)}function es(t,e){return t.b.get(wh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ya(t||{})})}function ns(t,e){this.a=t,this.b=e||yo(),this.c=null,this.f=is(this),Eo(this.b,os("local"),this.a,f(this.g,this))}function rs(t,e){var n,r=[];for(n in ph)ph[n]!==e&&r.push(To(t.b,os(ph[n]),t.a));return r.push(To(t.b,Th,t.a)),it(r)}function is(t){var e=os("local"),n=os("session"),r=os("none");return t.b.get(n,t.a).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Th,t.a).then(function(t){return t?os(t):e})})})}).then(function(e){return t.c=e,rs(t,e.C)}).s(function(){t.c||(t.c=e)})}function os(t){return{name:"authUser",C:t}}function as(t){return ls(t,function(){return t.b.set(Th,t.c.C,t.a)})}function ss(t,e){return ls(t,function(){return t.b.set(t.c,e.B(),t.a)})}function us(t){return ls(t,function(){return To(t.b,t.c,t.a)})}function cs(t,e){return ls(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ya(t||{})})})}function ls(t,e){return t.f=t.f.then(e,e),t.f}function hs(t){if(this.l=!1,Tr(this,"app",t),!Is(this).options||!Is(this).options.apiKey)throw new xr("invalid-api-key");t=eu.SDK_VERSION?nr(eu.SDK_VERSION):null,this.c=new mi(Is(this).options&&Is(this).options.apiKey,Ui(Ol),t),this.N=[],this.m=[],this.I=[],this.Gb=eu.INTERNAL.createSubscribe(f(this.Xb,this)),this.R=void 0,this.Hb=eu.INTERNAL.createSubscribe(f(this.Yb,this)),ys(this,null),this.h=new ns(Is(this).options.apiKey+":"+Is(this).name),this.G=new Za(Is(this).options.apiKey+":"+Is(this).name),this.U=xs(this,ws(this)),this.i=xs(this,Ts(this)),this.W=!1,this.ha=f(this.uc,this),this.Ga=f(this.ka,this),this.pa=f(this.Pb,this),this.qa=f(this.Vb,this),this.ra=f(this.Wb,this),gs(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.cc,this),this.o=0,le.call(this),ps(this),this.A=[]}function fs(t){Wt.call(this,"languageCodeChanged"),this.h=t}function ds(t){Wt.call(this,"frameworkChanged"),this.f=t}function ps(t){Object.defineProperty(t,"lc",{get:function(){return this.$()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}function ms(t){return t.Fb||nt(new xr("auth-domain-config-required"))}function gs(t){var e=Is(t).options.authDomain,n=Is(t).options.apiKey;e&&ar()&&(t.Fb=t.U.then(function(){if(!t.l){if(t.a=Xo(e,n,Is(t).name),t.a.subscribe(t),Ss(t)&&Da(Ss(t)),t.w){Da(t.w);var r=t.w;r.na(t.$()),wa(r,t),Ta(r=t.w,t.A),Ea(r,t),t.w=null}return t.a}}))}function vs(t,e){var n={};return n.apiKey=Is(t).options.apiKey,n.authDomain=Is(t).options.authDomain,n.appName=Is(t).name,t.U.then(function(){return Ja(n,e,t.G,t.Ka())}).then(function(e){return Ss(t)&&e.uid==Ss(t).uid?(Ua(Ss(t),e),t.ka(e)):(ys(t,e),Da(e),t.ka(e))}).then(function(){As(t)})}function ys(t,e){Ss(t)&&(xa(Ss(t),t.Ga),ne(Ss(t),"tokenChanged",t.pa),ne(Ss(t),"userDeleted",t.qa),ne(Ss(t),"userInvalidated",t.ra),Aa(Ss(t))),e&&(e.N.push(t.Ga),Jt(e,"tokenChanged",t.pa),Jt(e,"userDeleted",t.qa),Jt(e,"userInvalidated",t.ra),0<t.o&&Ca(e)),Tr(t,"currentUser",e),e&&(e.na(t.$()),wa(e,t),Ta(e,t.A),Ea(e,t))}function bs(t){var e=es(t.G,Is(t).options.authDomain).then(function(e){return(t.w=e)&&(e.ca=t.G),ts(t.G)});return xs(t,e)}function ws(t){var e=Is(t).options.authDomain,n=bs(t).then(function(){return cs(t.h,e)}).then(function(e){return e?(e.ca=t.G,t.w&&(t.w.Z||null)==(e.Z||null)?e:e.reload().then(function(){return ss(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:us(t.h)})):null}).then(function(e){ys(t,e||null)});return xs(t,n)}function Ts(t){return t.U.then(function(){return t.aa()}).s(function(){}).then(function(){if(!t.l)return t.ha()}).s(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;Eo(e.b,os("local"),e.a,t.ha)}})}function Es(t,e){var n=null,r=null;return xs(t,e.then(function(e){return n=si(e),r=Lr(e),vs(t,e)}).then(function(){return Ir({user:Ss(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Is(t){return t.app}function Ss(t){return t.currentUser}function Cs(t){return Ss(t)&&Ss(t)._lat||null}function As(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Cs(t));if(t.R!==t.getUid()&&t.I.length)for(t.R=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Cs(t))}}function ks(t,e){t.I.push(e),xs(t,t.i.then(function(){!t.l&&S(t.I,e)&&t.R!==t.getUid()&&(t.R=t.getUid(),e(Cs(t)))}))}function xs(t,e){return t.N.push(e),at(e,function(){C(t.N,e)}),e}function Ns(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Eh.length)throw new xr("internal-error","Argument validator received an unsupported number of arguments.");n=Eh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new xr("argument-error",t+" failed: "+r)}function Ds(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function _s(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function Os(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function Ps(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function Rs(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function Ls(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Ms(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof hs)}}}function js(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof eu.app.App)}}}function Us(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.wa||!n)}}}function Fs(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function Bs(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qs(t,e,n,r,i,o){if(Tr(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Ch])throw new xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Ah],!Pt(e)||!this.h&&Pt(e).hasChildNodes())throw new xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new mi(t,o||null,i||null),this.o=r||function(){return null};var a=this;this.i=[];var s=this.a[Ih];this.a[Ih]=function(t){if(Vs(a,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=ir(s,ru);"function"==typeof e&&e(t)}};var u=this.a[Sh];this.a[Sh]=function(){if(Vs(a,null),"function"==typeof u)u();else if("string"==typeof u){var t=ir(u,ru);"function"==typeof t&&t()}}}function Vs(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function Hs(t,e){A(t.i,function(t){return t==e})}function Ws(t,e){return t.g.push(e),at(e,function(){C(t.g,e)}),e}function Ks(t){if(t.m)throw new xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gs(){this.b=ru.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random())}function Qs(t,e){return new J(function(n,r){gr()?!ru.grecaptcha||e!==t.c&&!t.b?(ru[t.a]=function(){if(ru.grecaptcha){t.c=e;var i=ru.grecaptcha.render;ru.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},n()}else r(new xr("internal-error"));delete ru[t.a]},et(On(St(kh,{onload:t.a,hl:e||""}))).s(function(){r(new xr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):n():r(new xr("network-request-failed"))})}function zs(){return xh||(xh=new Gs),xh}function Xs(t,e,n){try{this.f=n||eu.app()}catch(t){throw new xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new xr("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(t){}i=eu.SDK_VERSION?nr(eu.SDK_VERSION,i):null,qs.call(this,n,t,e,function(){try{var t=r.f.auth().$()}catch(e){t=null}return t},i,Ui(Ol))}function $s(t,e){for(var n in e){var r=e[n].name;t[r]=Js(r,t[n],e[n].j)}}function Ys(t,e,n,r){t[e]=Js(e,n,r)}function Js(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ns(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Zs(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Zs(t){return(t=t.split("."))[t.length-1]}var tu,eu=n(6).default,nu=nu||{},ru=this,iu="closure_uid_"+(1e9*Math.random()>>>0),ou=0,au=Date.now||function(){return+new Date};p(m,Error),m.prototype.name="CustomError";var su=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},uu=/&/g,cu=/</g,lu=/>/g,hu=/"/g,fu=/'/g,du=/\x00/g,pu=/[\x00&<>"']/;p(w,m),w.prototype.name="AssertionError";var mu,gu=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(e,n,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,t(e))return t(n)&&1==n.length?e.indexOf(n,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},vu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},yu=Array.prototype.map?function(t,e,n){return Array.prototype.map.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=Array(i),a=t(e)?e.split(""):e,s=0;s<i;s++)s in a&&(o[s]=n.call(r,a[s],s,e));return o},bu=Array.prototype.some?function(t,e,n){return Array.prototype.some.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)if(a in o&&n.call(r,o[a],a,e))return!0;return!1};t:{var wu=ru.navigator;if(wu){var Tu=wu.userAgent;if(Tu){mu=Tu;break t}}mu=""}var Eu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");j[" "]=r;var Iu,Su=N("Opera"),Cu=N("Trident")||N("MSIE"),Au=N("Edge"),ku=Au||Cu,xu=N("Gecko")&&!(y(mu.toLowerCase(),"webkit")&&!N("Edge"))&&!(N("Trident")||N("MSIE"))&&!N("Edge"),Nu=y(mu.toLowerCase(),"webkit")&&!N("Edge");t:{var Du="",_u=function(){var t=mu;return xu?/rv\:([^\);]+)(\)|;)/.exec(t):Au?/Edge\/([\d\.]+)/.exec(t):Cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Nu?/WebKit\/(\S+)/.exec(t):Su?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(_u&&(Du=_u?_u[1]:""),Cu){var Ou=F();if(null!=Ou&&Ou>parseFloat(Du)){Iu=Ou+"";break t}}Iu=Du}var Pu,Ru={},Lu=ru.document;Pu=Lu&&Cu?F()||("CSS1Compat"==Lu.compatMode?parseInt(Iu,10):5):void 0,H.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Mu=new H(function(){return new G},function(t){t.reset()},100);G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var ju,Uu,Fu=!1,Bu=new function(){this.b=this.a=null},qu=0,Vu=2,Hu=3;Z.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Wu=new H(function(){return new Z},function(t){t.reset()},100);J.prototype.then=function(t,e,n){return ct(this,u(t)?t:null,u(e)?e:null,n)},q(J),(tu=J.prototype).s=function(t,e){return ct(this,null,t,e)},tu.cancel=function(t){this.a==qu&&X(function(){st(this,new yt(t))},this)},tu.wc=function(t){this.a=qu,lt(this,Vu,t)},tu.xc=function(t){this.a=qu,lt(this,Hu,t)},tu.Mb=function(){for(var t;t=pt(this);)mt(this,t,this.a,this.i);this.h=!1};var Ku=Q;p(yt,m),yt.prototype.name="cancel";var Gu=!Cu||9<=+Pu;bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var Qu={};Tt(""),Et.prototype.la=!0,Et.prototype.ja=function(){return this.a},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var zu=/%{(\w+)}/g,Xu=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,$u={};At.prototype.la=!0,At.prototype.ja=function(){return this.a},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Yu=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Ju={};Nt("about:blank"),Dt.prototype.la=!0,Dt.prototype.ja=function(){return this.a},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Zu={};Ot("<!DOCTYPE html>"),Ot(""),Ot("<br>");var tc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},ec={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nc=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,rc=0,ic={};Vt.prototype.oa=!1,Vt.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var oc=Object.freeze||function(t){return t},ac=!Cu||9<=+Pu,sc=Cu&&!B("9"),uc=function(){if(!ru.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return ru.addEventListener("test",r,e),ru.removeEventListener("test",r,e),t}();Wt.prototype.c=function(){this.Ab=!1},p(Kt,Wt);var cc=oc({2:"touch",3:"pen",4:"mouse"});Kt.prototype.c=function(){Kt.ib.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Kt.prototype.g=function(){return this.a};var lc="closure_listenable_"+(1e6*Math.random()|0),hc=0,fc="closure_lm_"+(1e6*Math.random()|0),dc={},pc=0,mc="__closure_events_fn_"+(1e9*Math.random()>>>0);p(le,Vt),le.prototype[lc]=!0,le.prototype.removeEventListener=function(t,e,n,r){ne(this,t,e,n,r)},le.prototype.ta=function(){if(le.ib.ta.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,Qt(n[r]);delete e.a[t],e.b--}}this.Ra=null},ve.prototype.a=null;var gc=0;ve.prototype.reset=function(t,e,n,r,i){"number"==typeof i||gc++,r||au(),this.b=e,delete this.a},be.prototype.toString=function(){return this.name};var vc=new be("SEVERE",1e3),yc=new be("CONFIG",700),bc=new be("FINE",500);ye.prototype.log=function(t,e,n){if(t.value>=we(this).value)for(u(e)&&(e=e()),t=new ve(t,e+"",this.f),n&&(t.a=n),n="log:"+t.b,(t=ru.console)&&t.timeStamp&&t.timeStamp(n),(t=ru.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var wc={},Tc=null;(tu=Ee.prototype).P=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},tu.S=function(){return Ie(this),this.a.concat()},tu.clear=function(){this.b={},this.c=this.a.length=0},tu.get=function(t,e){return Se(this.b,t)?this.b[t]:e},tu.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},tu.forEach=function(t,e){for(var n=this.S(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ec=null,Ic=null;De.prototype.cancel=function(t){if(this.a)this.c instanceof De&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new Ue,Oe(this),_e(this,!1,t))}},De.prototype.m=function(t,e){this.i=!1,_e(this,t,e)},De.prototype.A=function(t){Oe(this),_e(this,!0,t)},De.prototype.then=function(t,e,n){var r,i,o=new J(function(t,e){r=t,i=e});return Re(this,r,function(t){t instanceof Ue?o.cancel():i(t)}),o.then(t,e,n)},q(De),p(je,m),je.prototype.message="Deferred has already fired",je.prototype.name="AlreadyCalledError",p(Ue,m),Ue.prototype.message="Deferred was canceled",Ue.prototype.name="CanceledError",Fe.prototype.c=function(){throw delete Cc[this.a],this.b};var Sc,Cc={};p(Be,function(){this.b=-1});for(var Ac=64,kc=Ac-1,xc=[],Nc=0;Nc<kc;Nc++)xc[Nc]=0;var Dc=k(128,xc);Be.prototype.reset=function(){this.g=this.c=0,this.a=ru.Int32Array?new Int32Array(this.h):x(this.h)};var _c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];p(He,Be);var Oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Pc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;ze.prototype.toString=function(){var t=[],e=this.c;e&&t.push(rn(e,Rc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(rn(e,Rc,!0),"@"),t.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",n+"")),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(rn(n,"/"==n.charAt(0)?Mc:Lc,!0))),(n=""+this.a)&&t.push("?",n),(n=this.h)&&t.push("#",rn(n,Uc)),t.join("")};var Rc=/[#\/\?@]/g,Lc=/[\#\?:]/g,Mc=/[\#\?]/g,jc=/[\#\?@]/g,Uc=/#/g;(tu=an.prototype).clear=function(){this.a=this.c=null,this.b=0},tu.forEach=function(t,e){sn(this),this.a.forEach(function(n,r){vu(n,function(n){t.call(e,n,r,this)},this)},this)},tu.S=function(){sn(this);for(var t=this.a.P(),e=this.a.S(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},tu.P=function(e){sn(this);var n=[];if(t(e))hn(this,e)&&(n=k(n,this.a.get(dn(this,e))));else{e=this.a.P();for(var r=0;r<e.length;r++)n=k(n,e[r])}return n},tu.set=function(t,e){return sn(this),this.c=null,t=dn(this,t),hn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},tu.get=function(t,e){return 0<(t=t?this.P(t):[]).length?t[0]+"":e},tu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.S(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(r+"");r=this.P(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(r[o]+"")),t.push(a)}}return this.c=t.join("&")},mn.prototype.c=null;var Fc;p(vn,mn),vn.prototype.a=function(){var t=yn(this);return t?new ActiveXObject(t):new XMLHttpRequest},vn.prototype.b=function(){var t={};return yn(this)&&(t[0]=!0,t[1]=!0),t},Fc=new vn,p(bn,le);var Bc="",qc=bn.prototype,Vc=Te("goog.net.XhrIo");qc.J=Vc;var Hc=/^https?$/i,Wc=["POST","PUT"];(tu=bn.prototype).Ea=function(){void 0!==nu&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",Ce(this.J,_n(this,this.g)),he(this,"timeout"),this.abort(8))},tu.abort=function(){this.a&&this.b&&(Ce(this.J,_n(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,he(this,"complete"),he(this,"abort"),An(this))},tu.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),An(this,!0)),bn.ib.ta.call(this)},tu.zb=function(){this.oa||(this.G||this.h||this.c?Cn(this):this.fc())},tu.fc=function(){Cn(this)},tu.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case Bc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.J;return t&&t.log(vc,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(t){return Ce(this.J,"Can not get response: "+t.message),null}};var Kc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Gc=0,Qc=1;p(Mn,m),p(jn,mn),jn.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Un;throw Error("Unsupported browser")},jn.prototype.b=function(){return{}},(tu=Un.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},tu.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},tu.abort=function(){this.a.abort()},tu.setRequestHeader=function(){},tu.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},tu.Sb=function(){this.status=200,this.responseText=this.a.responseText,Fn(this,4)},tu.wb=function(){this.status=500,this.responseText="",Fn(this,4)},tu.Ub=function(){this.wb()},tu.Tb=function(){this.status=200,Fn(this,1)},tu.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};var zc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xc="Firefox",$c="Chrome",Yc={Cc:"FirebaseCore-web",Ec:"FirebaseUI-web"};vr.prototype.get=function(){return this.a?this.b:this.c};var Jc,Zc={};try{var tl={};Object.defineProperty(tl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(tl,"abcd",{configurable:!0,enumerable:!0,value:2}),Jc=2==tl.abcd}catch(t){Jc=!1}var el="email",nl="newEmail",rl="requestType",il="email",ol="fromEmail",al="data",sl="operation";p(xr,Error),xr.prototype.B=function(){return{code:this.code,message:this.message}},xr.prototype.toJSON=function(){return this.B()};var ul="auth/",cl={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ll="android",hl="handleCodeInApp",fl="iOS",dl="url",pl="installApp",ml="minimumVersion",gl="packageName",vl="bundleId",yl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),bl=["client_id","response_type","scope","redirect_uri","state"],wl={Dc:{Ma:"locale",za:500,ya:600,Na:"facebook.com",$a:bl},Fc:{Ma:null,za:500,ya:620,Na:"github.com",$a:bl},Gc:{Ma:"hl",za:515,ya:680,Na:"google.com",$a:bl},Mc:{Ma:"lang",za:485,ya:705,Na:"twitter.com",$a:yl}},Tl="idToken",El="providerId";p(jr,Mr),p(Ur,jr),p(Fr,jr),p(Br,jr),p(qr,jr),Hr.prototype.wa=function(t){return Oi(t,Wr(this))},Hr.prototype.b=function(t,e){var n=Wr(this);return n.idToken=e,Pi(t,n)},Hr.prototype.c=function(t,e){return Vr(Ri(t,Wr(this)),e)},Hr.prototype.B=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Kr.prototype.Ba=function(t){return this.qb=L(t),this},p(Gr,Kr),Gr.prototype.sa=function(t){return S(this.a,t)||this.a.push(t),this},Gr.prototype.vb=function(){return x(this.a)},Gr.prototype.credential=function(t,e){if(!t&&!e)throw new xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Hr(this.providerId,{idToken:t||null,accessToken:e||null})},p(Qr,Gr),Tr(Qr,"PROVIDER_ID","facebook.com"),p(Xr,Gr),Tr(Xr,"PROVIDER_ID","github.com"),p(Yr,Gr),Tr(Yr,"PROVIDER_ID","google.com"),p(Zr,Kr),Tr(Zr,"PROVIDER_ID","twitter.com"),ei.prototype.wa=function(t){return Mi(t,Zl,{email:this.a,password:this.f})},ei.prototype.b=function(t,e){return Mi(t,Ql,{idToken:e,email:this.a,password:this.f})},ei.prototype.c=function(t,e){return Vr(this.wa(t),e)},ei.prototype.B=function(){return{email:this.a,password:this.f}},Er(ni,{PROVIDER_ID:"password"}),ri.prototype.wa=function(t){return t.Qa(ii(this))},ri.prototype.b=function(t,e){var n=ii(this);return n.idToken=e,Mi(t,eh,n)},ri.prototype.c=function(t,e){var n=ii(this);return n.operation="REAUTH",t=Mi(t,nh,n),Vr(t,e)},ri.prototype.B=function(){var t={providerId:"phone"};return this.a.Pa&&(t.verificationId=this.a.Pa),this.a.Oa&&(t.verificationCode=this.a.Oa),this.a.Da&&(t.temporaryProof=this.a.Da),this.a.Y&&(t.phoneNumber=this.a.Y),t},oi.prototype.Qa=function(e,n){var r=this.a.c;return et(n.verify()).then(function(i){if(!t(i))throw new xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return xi(r,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Er(oi,{PROVIDER_ID:"phone"}),ci.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}},p(hi,xr),p(fi,xr),fi.prototype.B=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.B();return e&&M(t,e),t},fi.prototype.toJSON=function(){return this.B()},p(pi,mn),pi.prototype.a=function(){return new this.f},pi.prototype.b=function(){return{}};var Il,Sl="idToken",Cl=new vr(3e4,6e4),Al={"Content-Type":"application/x-www-form-urlencoded"},kl=new vr(3e4,6e4),xl={"Content-Type":"application/json"};mi.prototype.m=function(t,e,n,r,i,o){var a="Node"==Zn(),s=tr()?a?new bn(this.o):new bn:new bn(this.f);if(o){s.f=Math.max(0,o);var u=setTimeout(function(){he(s,"timeout")},o)}fe(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(Dn(this))||null}catch(e){t=null}e&&e(t)}),de(s,"ready",function(){u&&clearTimeout(u),Ht(this)}),de(s,"timeout",function(){u&&clearTimeout(u),Ht(this),e&&e(null)}),wn(s,t,n,r,i)};var Nl=Tt("https://apis.google.com/js/client.js?onload=%{onload}"),Dl="__fcb"+Math.floor(1e6*Math.random());mi.prototype.u=function(t,e,n,r,i){var o=this;Il.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},mi.prototype.gb=function(){return Mi(this,zl,{})},mi.prototype.kb=function(t,e){return Mi(this,Gl,{idToken:t,email:e})},mi.prototype.lb=function(t,e){return Mi(this,Ql,{idToken:t,password:e})};var _l={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};(tu=mi.prototype).mb=function(t,e){var n={idToken:t},r=[];return D(_l,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Mi(this,Gl,n)},tu.cb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},M(t,e),Mi(this,ql,t)},tu.bb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},M(t,e),Mi(this,Bl,t)},tu.Qa=function(t){return Mi(this,th,t)},tu.Ta=function(t,e){return Mi(this,Wl,{oobCode:t,newPassword:e})},tu.Ia=function(t){return Mi(this,Rl,{oobCode:t})},tu.Sa=function(t){return Mi(this,Pl,{oobCode:t})};var Ol,Pl={endpoint:"setAccountInfo",D:Li,ga:"email"},Rl={endpoint:"resetPassword",D:Li,O:function(t){if(!t.email||!t.requestType)throw new xr("internal-error")}},Ll={endpoint:"signupNewUser",D:function(t){if(Ei(t),!t.password)throw new xr("weak-password")},O:Ai,T:!0},Ml={endpoint:"createAuthUri"},jl={endpoint:"deleteAccount",ea:["idToken"]},Ul={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(t){if(!a(t.deleteProvider))throw new xr("internal-error")}},Fl={endpoint:"getAccountInfo"},Bl={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new xr("internal-error")},ga:"email"},ql={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new xr("internal-error");Ei(t)},ga:"email"},Vl={nb:!0,endpoint:"getProjectConfig",yb:"GET"},Hl={nb:!0,endpoint:"getRecaptchaParam",yb:"GET",O:function(t){if(!t.recaptchaSiteKey)throw new xr("internal-error")}},Wl={endpoint:"resetPassword",D:Li,ga:"email"},Kl={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},Gl={endpoint:"setAccountInfo",ea:["idToken"],D:Ii,T:!0},Ql={endpoint:"setAccountInfo",ea:["idToken"],D:function(t){if(Ii(t),!t.password)throw new xr("weak-password")},O:Ai,T:!0},zl={endpoint:"signupNewUser",O:Ai,T:!0},Xl={endpoint:"verifyAssertion",D:Di,O:_i,T:!0},$l={endpoint:"verifyAssertion",D:Di,O:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new xr("user-not-found");if(!t[Sl])throw new xr("internal-error")},T:!0},Yl={endpoint:"verifyAssertion",D:function(t){if(Di(t),!t.idToken)throw new xr("internal-error")},O:_i,T:!0},Jl={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new xr("invalid-custom-token")},O:Ai,T:!0},Zl={endpoint:"verifyPassword",D:function(t){if(Ei(t),!t.password)throw new xr("wrong-password")},O:Ai,T:!0},th={endpoint:"verifyPhoneNumber",D:ki,O:Ai},eh={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new xr("internal-error");ki(t)},O:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",di(t);Ai(t)}},nh={Lb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:ki,O:Ai},rh={Ic:{Va:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://securetoken.googleapis.com/v1/token",id:"p"},Kc:{Va:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Lc:{Va:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ab:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Ol=Ui("__EID__")?"__EID__":void 0;var ih=Tt("https://apis.google.com/js/api.js?onload=%{onload}"),oh=new vr(3e4,6e4),ah=new vr(5e3,15e3),sh=null;Wi.prototype.toString=function(){return this.f?Je(this.a,"v",this.f):ln(this.a.a,"v"),this.b?Je(this.a,"eid",this.b):ln(this.a.a,"eid"),this.c.length?Je(this.a,"fw",this.c.join(",")):ln(this.a.a,"fw"),""+this.a},Ki.prototype.toString=function(){var t=en(this.m,"/__/auth/handler");if(Je(t,"apiKey",this.u),Je(t,"appName",this.c),Je(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=eu.app(this.c).auth().$()}catch(t){n=null}e.Ua=n,Je(t,"providerId",this.a.providerId),e=this.a,n=hr(e.qb);for(var r in n)n[r]=""+n[r];r=e.nc,n=L(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Wa&&e.Ua&&!n[e.Wa]&&(n[e.Wa]=e.Ua),P(n)||Je(t,"customParameters",lr(n))}if("function"==typeof this.a.vb&&(e=this.a.vb()).length&&Je(t,"scopes",e.join(",")),this.h?Je(t,"redirectUrl",this.h):ln(t.a,"redirectUrl"),this.g?Je(t,"eventId",this.g):ln(t.a,"eventId"),this.i?Je(t,"v",this.i):ln(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ze(t,a)&&Je(t,a,this.b[a]);return this.f?Je(t,"eid",this.f):ln(t.a,"eid"),(a=Gi(this.c)).length&&Je(t,"fw",a.join(",")),""+t},(tu=Qi.prototype).Ca=function(t,e,n){var r=new xr("popup-closed-by-user"),i=new xr("web-storage-unsupported"),o=this,a=!1;return this.ba().then(function(){Zi(o).then(function(n){n||(t&&Gn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return zn(t)}).then(function(){if(!a)return ge(n).then(function(){e(r)})})},tu.Cb=function(){var t=rr();return!cr(t)&&!pr(t)},tu.xb=function(){return!1},tu.ub=function(t,e,n,r,i,o,a){if(!t)return nt(new xr("popup-blocked"));if(a&&!cr())return this.ba().s(function(e){Gn(t),i(e)}),r(),et();this.a||(this.a=zi($i(this)));var s=this;return this.a.then(function(){var e=s.ba().s(function(e){throw Gn(t),i(e),e});return r(),e}).then(function(){ui(n),a||Vn(Yi(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},tu.Aa=function(t,e,n){this.a||(this.a=zi($i(this)));var r=this;return this.a.then(function(){ui(e),Vn(Yi(r.u,r.f,r.b,t,e,qn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},tu.ba=function(){var t=this;return Xi(this).then(function(){return t.i.Ya}).s(function(){throw t.a=null,new xr("network-request-failed")})},tu.Db=function(){return!0},tu.ua=function(t){this.g.push(t)},tu.Ja=function(t){A(this.g,function(e){return e==t})},(tu=to.prototype).get=function(t){return et(this.a.getItem(t)).then(function(t){return t&&fr(t)})},tu.set=function(t,e){return et(this.a.setItem(t,lr(e)))},tu.X=function(t){return et(this.a.removeItem(t))},tu.ia=function(){},tu.da=function(){},(tu=eo.prototype).get=function(t){return et(this.a[t])},tu.set=function(t,e){return this.a[t]=e,et()},tu.X=function(t){return delete this.a[t],et()},tu.ia=function(){},tu.da=function(){};var uh;(tu=no.prototype).set=function(t,e){var n,r=!1,i=this;return at(io(this).then(function(e){return n=e,e=oo(i,ao(i,n,!0)),so(e.get(t))}).then(function(o){var a=oo(i,ao(i,n,!0));return o?(o.value=e,so(a.put(o))):(i.a++,r=!0,o={},o[i.g]=t,o[i.l]=e,so(a.add(o)))}).then(function(){i.f[t]=e}),function(){r&&i.a--})},tu.get=function(t){var e=this;return io(this).then(function(n){return so(oo(e,ao(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},tu.X=function(t){var e=!1,n=this;return at(io(this).then(function(r){return e=!0,n.a++,so(oo(n,ao(n,r,!0)).delete(t))}).then(function(){delete n.f[t]}),function(){e&&n.a--})},tu.vc=function(){var t=this;return io(this).then(function(e){var n=oo(t,ao(t,e,!1));return n.getAll?so(n.getAll()):new J(function(t,e){var r=[],i=n.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.a){for(r=0;r<e.length;r++)n[e[r][t.g]]=e[r][t.l];r=Hn(t.f,n),t.f=n}return r})},tu.ia=function(t){0==this.c.length&&uo(this),this.c.push(t)},tu.da=function(t){A(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},(tu=co.prototype).get=function(t){var e=this;return et().then(function(){return fr(e.a.getItem(t))})},tu.set=function(t,e){var n=this;return et().then(function(){var r=lr(e);null===r?n.X(t):n.a.setItem(t,r)})},tu.X=function(t){var e=this;return et().then(function(){e.a.removeItem(t)})},tu.ia=function(t){ru.window&&Jt(ru.window,"storage",t)},tu.da=function(t){ru.window&&ne(ru.window,"storage",t)},(tu=ho.prototype).get=function(){return et(null)},tu.set=function(){return et()},tu.X=function(){return et()},tu.ia=function(){},tu.da=function(){},(tu=fo.prototype).get=function(t){var e=this;return et().then(function(){return fr(e.a.getItem(t))})},tu.set=function(t,e){var n=this;return et().then(function(){var r=lr(e);null===r?n.X(t):n.a.setItem(t,r)})},tu.X=function(t){var e=this;return et().then(function(){e.a.removeItem(t)})},tu.ia=function(){},tu.da=function(){};var ch,lh,hh={C:co,jb:fo},fh={C:co,jb:fo},dh={C:to,jb:ho},ph={Hc:"local",NONE:"none",Jc:"session"};vo.prototype.get=function(t,e){return bo(this,t.C).get(wo(this,t,e))},vo.prototype.set=function(t,e,n){var r=wo(this,t,n),i=this,o=bo(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},vo.prototype.m=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=ru.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.c(n))}else if(0==e.indexOf(this.i+this.g)&&this.a[e]){if(void 0!==t.a.a?bo(this,"local").da(this.h):Co(this),this.w)if(n=ru.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?ru.localStorage.setItem(e,r):ru.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===ru.localStorage.getItem(e)||(o.b[e]=ru.localStorage.getItem(e),o.c(e))},Cu&&Pu&&10==Pu&&ru.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else vu(t,f(this.c,this))},vo.prototype.c=function(t){this.a[t]&&vu(this.a[t],function(t){t()})};var mh={name:"authEvent",C:"local"};(tu=Do.prototype).ba=function(){return this.xa?this.xa:this.xa=$n().then(function(){if("function"!=typeof ir("universalLinks.subscribe",ru))throw _o("cordova-universal-links-plugin is not installed");if(void 0===ir("BuildInfo.packageName",ru))throw _o("cordova-plugin-buildinfo is not installed");if("function"!=typeof ir("cordova.plugins.browsertab.openUrl",ru))throw _o("cordova-plugin-browsertab is not installed");if("function"!=typeof ir("cordova.InAppBrowser.open",ru))throw _o("cordova-plugin-inappbrowser is not installed")},function(){throw new xr("cordova-not-ready")})},tu.Ca=function(t,e){return e(new xr("operation-not-supported-in-this-environment")),et()},tu.ub=function(){return nt(new xr("operation-not-supported-in-this-environment"))},tu.Db=function(){return!1},tu.Cb=function(){return!0},tu.xb=function(){return!0},tu.Aa=function(t,e,n){if(this.c)return nt(new xr("redirect-operation-pending"));var r=this,i=ru.document,o=null,a=null,s=null,u=null;return this.c=at(et().then(function(){return ui(e),Mo(r)}).then(function(){return Ro(r,t,e,n)}).then(function(){return new J(function(t,e){a=function(){var e=ir("cordova.plugins.browsertab.close",ru);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ua(a),s=function(){o||(o=ge(r.w).then(function(){e(new xr("redirect-cancelled-by-user"))}))},u=function(){yr()&&s()},i.addEventListener("resume",s,!1),rr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(t){return jo(r).then(function(){throw t})})}),function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},tu.ua=function(t){this.b.push(t),Mo(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new ci("unknown",null,null,null,new xr("no-auth-event")),t(e))})},tu.Ja=function(t){A(this.b,function(e){return e==t})};var gh={name:"pendingRedirect",C:"session"};Ho.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Wo(this.v,this.l,this.u)},Ho.prototype.subscribe=function(t){if(S(this.h,t)||this.h.push(t),!this.f){var e=this;Vo(this.g).then(function(t){t?qo(e.g).then(function(){Ko(e).s(function(t){var n=new ci("unknown",null,null,null,new xr("operation-not-supported-in-this-environment"));zo(t)&&e.m(n)})}):Go(e)}).s(function(){Go(e)})}},Ho.prototype.unsubscribe=function(t){A(this.h,function(e){return e==t})},Ho.prototype.m=function(t){if(!t)throw new xr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ob(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return Yo(this.c),e};var vh=new vr(2e3,1e4),yh=new vr(3e4,6e4);Ho.prototype.aa=function(){return this.c.aa()},Ho.prototype.Aa=function(t,e,n){var r,i=this;return Bo(this.g).then(function(){return i.a.Aa(t,e,n).s(function(t){if(zo(t))throw new xr("operation-not-supported-in-this-environment");return r=t,qo(i.g).then(function(){throw r})}).then(function(){return i.a.Db()?new J(function(){}):qo(i.g).then(function(){return i.aa()}).then(function(){}).s(function(){})})})},Ho.prototype.Ca=function(t,e,n,r){return this.a.Ca(n,function(n){t.fa(e,null,n,r)},vh.get())};var bh={};$o.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$o.prototype.h=function(t,e){if(!t)return nt(new xr("invalid-auth-event"));this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;return"unknown"!=n||i||o?t.a?(ea(this,!0,null,t.a),t=et()):t=e.va(n,r)?Jo(this,t,e):nt(new xr("invalid-auth-event")):(ea(this,!1,null,null),t=et()),t},$o.prototype.aa=function(){var t=this;return new J(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),na(t))})},ra.prototype.h=function(t,e){if(!t)return nt(new xr("invalid-auth-event"));var n=t.b,r=t.c;return t.a?(e.fa(t.b,null,t.a,t.c),t=et()):t=e.va(n,r)?ia(t,e):nt(new xr("invalid-auth-event")),t},oa.prototype.confirm=function(t){return t=ai(this.verificationId,t),this.a(t)},sa.prototype.start=function(){this.a=this.c,ca(this,!0)},ha.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ha.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?nt(new xr("user-token-expired")):t||!this.b||au()>this.c-3e4?this.a?pa(this,{grant_type:"refresh_token",refresh_token:this.a}):et(null):et({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ma.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}},p(ya,Wt),p(ba,le),ba.prototype.na=function(t){this.ha=t,gi(this.c,t)},ba.prototype.$=function(){return this.ha},ba.prototype.Ka=function(){return x(this.R)},ba.prototype.Ga=function(){this.l.b&&(la(this.l),this.l.start())},Tr(ba.prototype,"providerId","firebase"),(tu=ba.prototype).reload=function(){var t=this;return Xa(this,Pa(this).then(function(){return Fa(t).then(function(){return Na(t)}).then(Oa)}))},tu.F=function(t){var e=this;return Xa(this,Pa(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new xr("internal-error");return t.accessToken!=e.pa&&(ka(e,t.accessToken),he(e,new ya("tokenChanged"))),ja(e,"refreshToken",t.refreshToken),t.accessToken}))},tu.getToken=function(t){return Zc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Zc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},tu.gc=function(t){if(!(t=t.users)||!t.length)throw new xr("internal-error");_a(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Va(t),n=0;n<e.length;n++)La(this,e[n]);ja(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},tu.Za=function(t){var e=this,n=null;return Xa(this,t.c(this.c,this.uid).then(function(t){return Ba(e,t),n=Wa(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},tu.hc=function(t){return this.Za(t).then(function(){})},tu.Xa=function(t){var e=this,n=null;return Xa(this,Ha(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=Wa(e,t,"link"),Ka(e,t)}).then(function(){return n}))},tu.Zb=function(t){return this.Xa(t).then(function(t){return t.user})},tu.$b=function(t,e){var n=this;return Xa(this,Ha(this,"phone").then(function(){return aa(Ia(n),t,e,f(n.Xa,n))}))},tu.ic=function(t,e){var n=this;return Xa(this,et().then(function(){return aa(Ia(n),t,e,f(n.Za,n))}),!0)},tu.kb=function(t){var e=this;return Xa(this,this.F().then(function(n){return e.c.kb(n,t)}).then(function(t){return Ba(e,t),e.reload()}))},tu.zc=function(t){var e=this;return Xa(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return Ba(e,t),e.reload()}))},tu.lb=function(t){var e=this;return Xa(this,this.F().then(function(n){return e.c.lb(n,t)}).then(function(t){return Ba(e,t),e.reload()}))},tu.mb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pa(this);var e=this;return Xa(this,this.F().then(function(n){return e.c.mb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ba(e,t),ja(e,"displayName",t.displayName||null),ja(e,"photoURL",t.photoUrl||null),vu(e.providerData,function(t){"password"===t.providerId&&(Tr(t,"displayName",e.displayName),Tr(t,"photoURL",e.photoURL))}),Na(e)}).then(Oa))},tu.yc=function(t){var e=this;return Xa(this,Fa(this).then(function(n){return S(Ra(e),t)?Ni(e.c,n,[t]).then(function(t){var n={};return vu(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),vu(Ra(e),function(t){n[t]||Ma(e,t)}),n[oi.PROVIDER_ID]||Tr(e,"phoneNumber",null),Na(e)}):Na(e).then(function(){throw new xr("no-such-provider")})}))},tu.delete=function(){var t=this;return Xa(this,this.F().then(function(e){return Mi(t.c,jl,{idToken:e})}).then(function(){he(t,new ya("userDeleted"))})).then(function(){for(var e=0;e<t.A.length;e++)t.A[e].cancel("app-deleted");wa(t,null),Ea(t,null),t.A=[],t.m=!0,Aa(t),Tr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},tu.ob=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},tu.fa=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},tu.va=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?f(this.sb,this):"reauthViaPopup"==t&&e==(this.g||null)?f(this.tb,this):"linkViaRedirect"==t&&(this.Z||null)==e?f(this.sb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?f(this.tb,this):null},tu.ac=function(t){var e=this;return Ga(this,"linkViaPopup",t,function(){return Ha(e,t.providerId).then(function(){return Na(e)})},!1)},tu.jc=function(t){return Ga(this,"reauthViaPopup",t,function(){return et()},!0)},tu.bc=function(t){var e=this;return Qa(this,"linkViaRedirect",t,function(){return Ha(e,t.providerId)},!1)},tu.kc=function(t){return Qa(this,"reauthViaRedirect",t,function(){return et()},!0)},tu.sb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Xa(this,this.F().then(function(r){return Pi(n.c,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Wa(n,t,"link"),Ka(n,t)}).then(function(){return r}))},tu.tb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Xa(this,et().then(function(){return Vr(Ri(n.c,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Wa(n,t,"reauthenticate"),Ba(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},tu.bb=function(t){var e=this,n=null;return Xa(this,this.F().then(function(e){return n=e,void 0===t||P(t)?{}:_r(new Dr(t))}).then(function(t){return e.c.bb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},tu.toJSON=function(){return this.B()},tu.B=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};return this.metadata&&M(t,this.metadata.B()),vu(this.providerData,function(e){t.providerData.push(Sr(e))}),t};var wh={name:"redirectUser",C:"session"};ns.prototype.g=function(){var t=this,e=os("local");ls(this,function(){return et().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return rs(t,"local").then(function(){t.c=e})})})};var Th={name:"persistence",C:"session"};ns.prototype.eb=function(t){var e=null,n=this;return go(t),ls(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,rs(n,t)}).then(function(){if(n.c=os(t),e)return n.b.set(n.c,e,n.a)}):et()})},p(hs,le),p(fs,Wt),p(ds,Wt),(tu=hs.prototype).eb=function(t){return t=this.h.eb(t),xs(this,t)},tu.na=function(t){this.V===t||this.l||(this.V=t,gi(this.c,this.V),he(this,new fs(this.$())))},tu.$=function(){return this.V},tu.Ac=function(){var t=ru.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},tu.cc=function(t){this.A.push(t),vi(this.c,eu.SDK_VERSION?nr(eu.SDK_VERSION,this.A):null),he(this,new ds(this.A))},tu.Ka=function(){return x(this.A)},tu.toJSON=function(){return{apiKey:Is(this).options.apiKey,authDomain:Is(this).options.authDomain,appName:Is(this).name,currentUser:Ss(this)&&Ss(this).B()}},tu.ob=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},tu.fa=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},tu.va=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?f(this.Ob,this):null},tu.Ob=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var r=null,i=null,o=Oi(n.c,t).then(function(t){return r=si(t),i=Lr(t),t});return t=n.U.then(function(){return o}).then(function(t){return vs(n,t)}).then(function(){return Ir({user:Ss(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),xs(this,t)},tu.sc=function(t){if(!ar())return nt(new xr("operation-not-supported-in-this-environment"));var e=this,n=Rr(t.providerId),r=dr(),i=null;(!cr()||Jn())&&Is(this).options.authDomain&&t.isOAuthProvider&&(i=Yi(Is(this).options.authDomain,Is(this).options.apiKey,Is(this).name,"signInViaPopup",t,null,r,eu.SDK_VERSION||null));var o=Qn(i,n&&n.za,n&&n.ya);return n=ms(this).then(function(e){return Qo(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new J(function(t,n){e.fa("signInViaPopup",null,new xr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ca(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Gn(o),t?Ir(t):null}).s(function(t){throw o&&Gn(o),t}),xs(this,n)},tu.tc=function(t){if(!ar())return nt(new xr("operation-not-supported-in-this-environment"));var e=this;return xs(this,ms(this).then(function(){return as(e.h)}).then(function(){return e.a.Aa("signInViaRedirect",t)}))},tu.aa=function(){if(!ar())return nt(new xr("operation-not-supported-in-this-environment"));var t=this;return xs(this,ms(this).then(function(){return t.a.aa()}).then(function(t){return t?Ir(t):null}))},tu.hb=function(){var t=this;return xs(this,this.i.then(function(){return Ss(t)?(ys(t,null),us(t.h).then(function(){As(t)})):et()}))},tu.uc=function(){var t=this;return cs(this.h,Is(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Ss(t)&&e){n=Ss(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ua(Ss(t),e),Ss(t).F();(Ss(t)||e)&&(ys(t,e),e&&(Da(e),e.ca=t.G),t.a&&t.a.subscribe(t),As(t))}})},tu.ka=function(t){return ss(this.h,t)},tu.Pb=function(){As(this),this.ka(Ss(this))},tu.Vb=function(){this.hb()},tu.Wb=function(){this.hb()},tu.Xb=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Ss(e))})},tu.Yb=function(t){var e=this;ks(this,function(){t.next(Ss(e))})},tu.ec=function(t,e,n){var r=this;return this.W&&eu.Promise.resolve().then(function(){u(t)?t(Ss(r)):u(t.next)&&t.next(Ss(r))}),this.Gb(t,e,n)},tu.dc=function(t,e,n){var r=this;return this.W&&eu.Promise.resolve().then(function(){r.R=r.getUid(),u(t)?t(Ss(r)):u(t.next)&&t.next(Ss(r))}),this.Hb(t,e,n)},tu.Rb=function(t){var e=this;return xs(this,this.i.then(function(){return Ss(e)?Ss(e).F(t).then(function(t){return{accessToken:t}}):null}))},tu.pc=function(t){var e=this;return this.i.then(function(){return Es(e,Mi(e.c,Jl,{token:t}))}).then(function(t){return t=t.user,ja(t,"isAnonymous",!1),e.ka(t)}).then(function(){return Ss(e)})},tu.qc=function(t,e){var n=this;return this.i.then(function(){return Es(n,Mi(n.c,Zl,{email:t,password:e}))}).then(function(t){return t.user})},tu.Kb=function(t,e){var n=this;return this.i.then(function(){return Es(n,Mi(n.c,Ll,{email:t,password:e}))}).then(function(t){return t.user})},tu.oc=function(t){return this.fb(t).then(function(t){return t.user})},tu.fb=function(t){var e=this;return this.i.then(function(){return Es(e,t.wa(e.c))})},tu.gb=function(){var t=this;return this.i.then(function(){var e=Ss(t);return e&&e.isAnonymous?e:Es(t,t.c.gb()).then(function(e){return e=e.user,ja(e,"isAnonymous",!0),t.ka(e)}).then(function(){return Ss(t)})})},tu.getUid=function(){return Ss(this)&&Ss(this).uid||null},tu.Ib=function(t){this.addAuthTokenListener(t),0<++this.o&&Ss(this)&&Ca(Ss(this))},tu.mc=function(t){var e=this;vu(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&Ss(this)&&Aa(Ss(this)),this.removeAuthTokenListener(t)},tu.addAuthTokenListener=function(t){var e=this;this.m.push(t),xs(this,this.i.then(function(){e.l||S(e.m,t)&&t(Cs(e))}))},tu.removeAuthTokenListener=function(t){A(this.m,function(e){return e==t})},tu.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,Io(t.b,t.a,this.ha)),this.a&&this.a.unsubscribe(this),eu.Promise.resolve()},tu.Nb=function(t){return xs(this,Si(this.c,t))},tu.Bc=function(t){return this.Ia(t).then(function(t){return t.data.email})},tu.Ta=function(t,e){return xs(this,this.c.Ta(t,e).then(function(){}))},tu.Ia=function(t){return xs(this,this.c.Ia(t).then(function(t){return new kr(t)}))},tu.Sa=function(t){return xs(this,this.c.Sa(t).then(function(){}))},tu.cb=function(t,e){var n=this;return xs(this,et().then(function(){return void 0===e||P(e)?{}:_r(new Dr(e))}).then(function(e){return n.c.cb(t,e)}).then(function(){}))},tu.rc=function(t,e){return xs(this,aa(this,t,e,f(this.fb,this)))};var Eh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Ih="callback",Sh="expired-callback",Ch="sitekey",Ah="size";(tu=qs.prototype).xa=function(){var t=this;return this.c?this.c:this.c=Ws(this,et().then(function(){if(sr())return Xn();throw new xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Qs(zs(),t.o())}).then(function(){return Mi(t.u,Hl,{})}).then(function(e){t.a[Ch]=e.recaptchaSiteKey}).s(function(e){throw t.c=null,e}))},tu.render=function(){Ks(this);var t=this;return Ws(this,this.xa().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=Pt(e);e=Lt("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},tu.verify=function(){Ks(this);var t=this;return Ws(this,this.render().then(function(e){return new J(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Hs(t,i),n(e))};t.i.push(i),t.h&&grecaptcha.execute(t.b)}})}))},tu.reset=function(){Ks(this),null!==this.b&&grecaptcha.reset(this.b)},tu.clear=function(){Ks(this),this.m=!0,zs().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=Pt(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var kh=Tt("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=null;p(Xs,qs),$s(hs.prototype,{Sa:{name:"applyActionCode",j:[Ds("code")]},Ia:{name:"checkActionCode",j:[Ds("code")]},Ta:{name:"confirmPasswordReset",j:[Ds("code"),Ds("newPassword")]},Kb:{name:"createUserWithEmailAndPassword",j:[Ds("email"),Ds("password")]},Nb:{name:"fetchProvidersForEmail",j:[Ds("email")]},aa:{name:"getRedirectResult",j:[]},dc:{name:"onAuthStateChanged",j:[Bs(Os(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},ec:{name:"onIdTokenChanged",j:[Bs(Os(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},cb:{name:"sendPasswordResetEmail",j:[Ds("email"),Bs(Os("opt_actionCodeSettings",!0),Rs(null,!0),"opt_actionCodeSettings",!0)]},eb:{name:"setPersistence",j:[Ds("persistence")]},fb:{name:"signInAndRetrieveDataWithCredential",j:[Us()]},gb:{name:"signInAnonymously",j:[]},oc:{name:"signInWithCredential",j:[Us()]},pc:{name:"signInWithCustomToken",j:[Ds("token")]},qc:{name:"signInWithEmailAndPassword",j:[Ds("email"),Ds("password")]},rc:{name:"signInWithPhoneNumber",j:[Ds("phoneNumber"),Fs()]},sc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},tc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ds(null,!0)]},Ac:{name:"useDeviceLanguage",j:[]},Bc:{name:"verifyPasswordResetCode",j:[Ds("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Jb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Ns(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(hs.prototype,{lc:{name:"languageCode",Jb:Bs(Ds(),Rs(),"languageCode")}}),hs.Persistence=ph,hs.Persistence.LOCAL="local",hs.Persistence.SESSION="session",hs.Persistence.NONE="none",$s(ba.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[_s()]},getToken:{name:"getToken",j:[_s()]},Xa:{name:"linkAndRetrieveDataWithCredential",j:[Us()]},Zb:{name:"linkWithCredential",j:[Us()]},$b:{name:"linkWithPhoneNumber",j:[Ds("phoneNumber"),Fs()]},ac:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Za:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Us()]},hc:{name:"reauthenticateWithCredential",j:[Us()]},ic:{name:"reauthenticateWithPhoneNumber",j:[Ds("phoneNumber"),Fs()]},jc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},kc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},bb:{name:"sendEmailVerification",j:[Bs(Os("opt_actionCodeSettings",!0),Rs(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ds(null,!0)]},yc:{name:"unlink",j:[Ds("provider")]},kb:{name:"updateEmail",j:[Ds("email")]},lb:{name:"updatePassword",j:[Ds("password")]},zc:{name:"updatePhoneNumber",j:[Us("phone")]},mb:{name:"updateProfile",j:[Os("profile")]}}),$s(J.prototype,{s:{name:"catch"},then:{name:"then"}}),$s(oa.prototype,{confirm:{name:"confirm",j:[Ds("verificationCode")]}}),Ys(ni,"credential",function(t,e){return new ei(t,e)},[Ds("email"),Ds("password")]),$s(Qr.prototype,{sa:{name:"addScope",j:[Ds("scope")]},Ba:{name:"setCustomParameters",j:[Os("customOAuthParameters")]}}),Ys(Qr,"credential",zr,[Bs(Ds(),Os(),"token")]),$s(Xr.prototype,{sa:{name:"addScope",j:[Ds("scope")]},Ba:{name:"setCustomParameters",j:[Os("customOAuthParameters")]}}),Ys(Xr,"credential",$r,[Bs(Ds(),Os(),"token")]),$s(Yr.prototype,{sa:{name:"addScope",j:[Ds("scope")]},Ba:{name:"setCustomParameters",j:[Os("customOAuthParameters")]}}),Ys(Yr,"credential",Jr,[Bs(Ds(),Bs(Os(),Rs()),"idToken"),Bs(Ds(),Rs(),"accessToken",!0)]),$s(Zr.prototype,{Ba:{name:"setCustomParameters",j:[Os("customOAuthParameters")]}}),Ys(Zr,"credential",ti,[Bs(Ds(),Os(),"token"),Ds("secret",!0)]),$s(Gr.prototype,{sa:{name:"addScope",j:[Ds("scope")]},credential:{name:"credential",j:[Bs(Ds(),Rs(),"idToken",!0),Bs(Ds(),Rs(),"accessToken",!0)]},Ba:{name:"setCustomParameters",j:[Os("customOAuthParameters")]}}),Ys(oi,"credential",ai,[Ds("verificationId"),Ds("verificationCode")]),$s(oi.prototype,{Qa:{name:"verifyPhoneNumber",j:[Ds("phoneNumber"),Fs()]}}),$s(xr.prototype,{toJSON:{name:"toJSON",j:[Ds(null,!0)]}}),$s(fi.prototype,{toJSON:{name:"toJSON",j:[Ds(null,!0)]}}),$s(hi.prototype,{toJSON:{name:"toJSON",j:[Ds(null,!0)]}}),$s(Xs.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===eu||!eu.INTERNAL||!eu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:hs,Error:xr};Ys(t,"EmailAuthProvider",ni,[]),Ys(t,"FacebookAuthProvider",Qr,[]),Ys(t,"GithubAuthProvider",Xr,[]),Ys(t,"GoogleAuthProvider",Yr,[]),Ys(t,"TwitterAuthProvider",Zr,[]),Ys(t,"OAuthProvider",Gr,[Ds("providerId")]),Ys(t,"PhoneAuthProvider",oi,[Ms()]),Ys(t,"RecaptchaVerifier",Xs,[Bs(Ds(),Ls(),"recaptchaContainer"),Os("recaptchaParameters",!0),js()]),eu.INTERNAL.registerService("auth",function(t,e){return t=new hs(t),e({INTERNAL:{getUid:f(t.getUid,t),getToken:f(t.Rb,t),addAuthTokenListener:f(t.Ib,t),removeAuthTokenListener:f(t.mc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),eu.INTERNAL.extendNamespace({User:ba})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n(19))}},[76])}catch(t){throw Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")}try{webpackJsonpFirebase([1],{113:function(t,e,n){n(114)},114:function(t,e,n){"use strict";function r(){return Wt}function i(t){Wt=t}function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Wt<=qt.DEBUG){var i=(new Date).toISOString(),o=n.map(s);console.log.apply(console,["Firestore ("+Ht+") "+i+" ["+t+"]: "+e].concat(o))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wt<=qt.ERROR){var r=(new Date).toISOString(),i=e.map(s);console.error.apply(console,["Firestore ("+Ht+") "+r+": "+t].concat(i))}}function s(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function u(t){var e="FIRESTORE ("+Ht+") INTERNAL ASSERTION FAILED: "+t;throw a(e),Error(e)}function c(t,e){t||u(e)}function l(){return Kt.getPlatform().emptyByteString}function h(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new zt(Qt.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){return void 0!==t?t:e}function p(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=parseInt(n,10);isNaN(r)||e(r,t[n])}}function m(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g(t){c(null!=t&&"object"==typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function v(t){c(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function y(t,e,n){if(e.length!==n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires "+R(n,"argument")+", but was called with "+R(e.length,"argument")+".")}function b(t,e,n){if(e.length<n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires at least "+R(n,"argument")+", but was called with "+R(e.length,"argument")+".")}function w(t,e,n,r){if(e.length<n||e.length>r)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+R(e.length,"argument")+".")}function T(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+R(r,"element")+".")}function E(t,e,n,r){A(t,e,P(n)+" argument",r)}function I(t,e,n,r){void 0!==r&&E(t,e,n,r)}function S(t,e,n,r){A(t,e,n+" option",r)}function C(t,e,n,r){void 0!==r&&S(t,e,n,r)}function A(t,e,n,r){if(typeof r!==e||"object"===e&&!k(r)){var i=x(r);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function k(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function x(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=N(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":u("Unknown wrong type: "+typeof t)}function N(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(""+t.constructor);if(e&&e.length>1)return e[1]}return null}function D(t,e,n){if(void 0===n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+P(e)+" argument, but it was undefined.")}function _(t,e,n){m(e,function(e,r){if(n.indexOf(e)<0)throw new zt(Qt.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function O(t,e,n,r){var i=x(r);return new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+P(n)+" argument to be a "+e+", but it was: "+i)}function P(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function R(t,e){return t+" "+e+(1===t?"":"s")}function L(t,e){return t<e?-1:t>e?1:0}function M(t,e){return null!==t&&void 0!==t?!(!e||!t.equals(e)):t===e}function j(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}function U(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}function F(t){return t+"\0"}function B(){if("undefined"==typeof Uint8Array)throw new zt(Qt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function q(){if(!Kt.getPlatform().base64Available)throw new zt(Qt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function V(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function H(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function W(t){return null===t||void 0===t}function K(t){return Re(t)&&t<=Pe&&t>=Oe}function G(t,e,n){if(n.equals(ye.INSTANCE)){if(e!==Me.EQUAL)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ue(t)}if(n.equals(Ee.NAN)){if(e!==Me.EQUAL)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Fe(t)}return new je(t,e,n)}function Q(t){switch(t){case Qt.OK:return u("Treated status OK as error");case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0;default:return u("Unknown status code: "+t)}}function z(t){var e=en[t];if(void 0!==e)return X(e)}function X(t){switch(t){case en.OK:return Qt.OK;case en.CANCELLED:return Qt.CANCELLED;case en.UNKNOWN:return Qt.UNKNOWN;case en.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case en.INTERNAL:return Qt.INTERNAL;case en.UNAVAILABLE:return Qt.UNAVAILABLE;case en.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case en.NOT_FOUND:return Qt.NOT_FOUND;case en.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case en.ABORTED:return Qt.ABORTED;case en.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case en.DATA_LOSS:return Qt.DATA_LOSS;default:return u("Unknown status code: "+t)}}function $(t){if(void 0===t)return en.OK;switch(t){case Qt.OK:return en.OK;case Qt.CANCELLED:return en.CANCELLED;case Qt.UNKNOWN:return en.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return en.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return en.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return en.INTERNAL;case Qt.UNAVAILABLE:return en.UNAVAILABLE;case Qt.UNAUTHENTICATED:return en.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return en.INVALID_ARGUMENT;case Qt.NOT_FOUND:return en.NOT_FOUND;case Qt.ALREADY_EXISTS:return en.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return en.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return en.FAILED_PRECONDITION;case Qt.ABORTED:return en.ABORTED;case Qt.OUT_OF_RANGE:return en.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return en.UNIMPLEMENTED;case Qt.DATA_LOSS:return en.DATA_LOSS;default:return u("Unknown status code: "+t)}}function Y(t){switch(t){case 200:return Qt.OK;case 400:return Qt.INVALID_ARGUMENT;case 401:return Qt.UNAUTHENTICATED;case 403:return Qt.PERMISSION_DENIED;case 404:return Qt.NOT_FOUND;case 409:return Qt.ABORTED;case 416:return Qt.OUT_OF_RANGE;case 429:return Qt.RESOURCE_EXHAUSTED;case 499:return Qt.CANCELLED;case 500:return Qt.UNKNOWN;case 501:return Qt.UNIMPLEMENTED;case 503:return Qt.UNAVAILABLE;case 504:return Qt.DEADLINE_EXCEEDED;default:return t>=200&&t<300?Qt.OK:t>=400&&t<500?Qt.FAILED_PRECONDITION:t>=500&&t<600?Qt.INTERNAL:Qt.UNKNOWN}}function J(){return fn}function Z(){return dn}function tt(){return pn}function et(){return mn}function nt(t,e){e.length>0&&(t.resumeToken=e)}function rt(t,e){c(!W(t),e+" is missing")}function it(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):u("can't parse "+t)}function ot(t,e,n){return e===n||!e&&n in t}function at(t){if(t.search(Mn)>=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ln.bind.apply(Ln,[void 0].concat(t.split("."))))}catch(e){throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function st(t,e){var n=function(t){switch(t){case jn.Added:return 1;case jn.Modified:case jn.Metadata:return 2;case jn.Removed:return 0;default:return u("Unknown ChangeType: "+t)}};return n(t)-n(e)}function ut(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=lt(e)),e=ct(t.get(n),e);return lt(e)}function ct(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=ur+lr;break;case ur:n+=ur+hr;break;default:n+=o}}return n}function lt(t){return t+ur+cr}function ht(t){var e=t.length;if(c(e>=2,"Invalid path "+t),2===e)return c(t.charAt(0)===ur&&t.charAt(1)===cr,"Non-empty path "+t+" had length 2"),ie.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(ur,o);switch((a<0||a>n)&&u('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case cr:var s=t.substring(o,a),l=void 0;0===i.length?l=s:(i+=s,l=i,i=""),r.push(l);break;case lr:i+=t.substring(o,a),i+="\0";break;case hr:i+=t.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+t+'"')}o=a+2}return new ie(r)}function ft(t,e){c(0===e,"Unexpected upgrade from version "+e),t.createObjectStore(pr.store,{keyPath:pr.keyPath}),t.createObjectStore(mr.store,{keyPath:mr.keyPath}),t.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.documentTargetsIndex,wr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gr.store),t.createObjectStore(yr.store),t.createObjectStore(dr.store),t.createObjectStore(Tr.store)}function dt(t){return new Gn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}function pt(t){return c("string"==typeof t,"Persisting non-string stream token not supported."),t}function mt(t){return yt(t,mr.store)}function gt(t){return yt(t,gr.store)}function vt(t){return yt(t,pr.store)}function yt(t,e){return t instanceof Cr?t.store(e):u("Invalid transaction object provided!")}function bt(t){return Et(t,br.store)}function wt(t){return Et(t,Tr.store)}function Tt(t){return Et(t,wr.store)}function Et(t,e){return t instanceof Cr?t.store(e):u("Invalid transaction object provided!")}function It(t){return t instanceof Cr?t.store(yr.store):u("Invalid transaction object provided!")}function St(t){return t.path.toArray()}function Ct(t){return void 0!==t.documents}function At(t){if(!t)return new ai;switch(t.type){case"google-auth":return new ui(t.client);case"gapi":return new li(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new zt(Qt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function kt(t){return xt(t,["next","error","complete"])}function xt(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}function Nt(t){switch(t){case Kr.Set:case Kr.MergeSet:case Kr.Update:return!0;case Kr.QueryValue:return!1;default:throw u("Unexpected case for UserDataSource: "+t)}}function Dt(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof $t||t instanceof wi||t instanceof fi)}function _t(t,e,n){if(!Dt(n)||!k(n)){var r=x(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ot(t,e){if(e instanceof Ln)return e.t;if("string"==typeof e)return Pt(t,e);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Pt(t,e){try{return at(e).t}catch(e){var n=Rt(e);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Rt(t){return t instanceof Error?t.message:""+t}function Lt(t,e){return void 0===e?{merge:!1}:(_(t,e,["merge"]),C(t,"boolean","merge",e.merge),e)}function Mt(t,e,n){if(e instanceof Di){if(e.firestore!==n)throw new zt(Qt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw O(t,"DocumentReference",1,e)}function jt(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(i){var o=new _i(t,i.doc.key,i.doc,e.fromCache);return c(i.type===jn.Added,"Invalid event type for first snapshot"),c(!n||e.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var i=e.oldDocs;return e.docChanges.map(function(n){var r=new _i(t,n.doc.key,n.doc,e.fromCache),o=-1,a=-1;return n.type!==jn.Added&&(o=i.indexOf(n.doc.key),c(o>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==jn.Removed&&(i=i.add(n.doc),a=i.indexOf(n.doc.key)),{type:Ut(n.type),doc:r,oldIndex:o,newIndex:a}})}function Ut(t){switch(t){case jn.Added:return"added";case jn.Modified:case jn.Metadata:return"modified";case jn.Removed:return"removed";default:return u("Unknown change type: "+t)}}function Ft(t){t.INTERNAL.registerService("firestore",function(t){return new ki(t)},v(Hi))}function Bt(t){Ft(t)}Object.defineProperty(e,"__esModule",{value:!0});var qt,Vt=n(6),Ht=Vt.default.SDK_VERSION;!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(qt=qt||(qt={}));var Wt=qt.ERROR,Kt=function(){function t(){}return t.setPlatform=function(e){t.platform&&u("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||u("Platform not set"),t.platform},t}(),Gt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zt=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Gt(e,t),e}(Error),Xt=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return c(20===e.length,"Invalid auto ID: "+e),e},t}(),$t=function(){function t(t){q(),this.e=t}return t.fromBase64String=function(e){y("Blob.fromBase64String",arguments,1),E("Blob.fromBase64String","string",1,e),q();try{return new t(Kt.getPlatform().atob(e))}catch(t){throw new zt(Qt.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(y("Blob.fromUint8Array",arguments,1),B(),!(e instanceof Uint8Array))throw O("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return y("Blob.toBase64",arguments,0),q(),Kt.getPlatform().btoa(this.e)},t.prototype.toUint8Array=function(){y("Blob.toUint8Array",arguments,0),B();for(var t=new Uint8Array(this.e.length),e=0;e<this.e.length;e++)t[e]=this.e.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.n=function(t){return this.e===t.e},t.prototype.r=function(t){return L(this.e,t.e)},t}(),Yt=h($t,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Jt=function(){function t(t,e){if(y("GeoPoint",arguments,2),E("GeoPoint","number",1,t),E("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new zt(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this.p=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.p},enumerable:!0,configurable:!0}),t.prototype.n=function(t){return this._lat===t._lat&&this.p===t.p},t.prototype.r=function(t){return L(this._lat,t._lat)||L(this.p,t.p)},t}(),Zt=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),te="(default)",ee=function(){function t(t,e){this.projectId=t,this.database=e||te}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===te},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return L(this.projectId,t.projectId)||L(this.database,t.database)},t}(),ne=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&u("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&u("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):u("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,c(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return c(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(re),oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.isValidIdentifier=function(t){return oe.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new zt(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zt(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new zt(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(re),se=function(){function t(e){this.path=e,c(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.equals=function(t){return null!==t&&0===ie.comparator(this.path,t.path)},t.prototype.toString=function(){return""+this.path},t.comparator=function(t,e){return ie.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ie(e.slice()))},t.fromPathString=function(e){return new t(ie.fromString(e))},t.EMPTY=new t(new ie([])),t}(),ue=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.version.equals(e.version)&&this.data.equals(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return se.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},t}(),ce=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.equals=function(t){return t&&t.version.equals(this.version)&&t.key.equals(this.key)},t.compareByKey=function(t,e){return se.comparator(t.key,e.key)},t}(),le=function(){function t(t,e){this.comparator=t,this.root=e||fe.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fe.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fe.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e=this.root,n=null;!e.isEmpty();){var r=this.comparator(t,e.key);if(0===r){if(e.left.isEmpty())return n?n.key:null;for(e=e.left;!e.right.isEmpty();)e=e.right;return e.key}r<0?e=e.left:r>0&&(n=e,e=e.right)}throw u("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(t){return new he(this.root,null,this.comparator,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new he(this.root,t,this.comparator,!1,e)},t.prototype.getReverseIterator=function(t){return new he(this.root,null,this.comparator,!0,t)},t.prototype.getReverseIteratorFrom=function(t,e){return new he(this.root,t,this.comparator,!0,e)},t}(),he=function(){function t(t,e,n,r,i){this.resultGenerator=i||null,this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t,e=this.nodeStack.pop();if(t=this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value},this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value}},t}(),fe=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw u("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),de=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new fe(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();fe.EMPTY=new de;var pe,me=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(pe=pe||(pe={}));var ge,ve=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":""+t},t.prototype.defaultCompareTo=function(t){return c(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),L(this.typeOrder,t.typeOrder)},t}(),ye=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=pe.NullValue,e.internalValue=null,e}return me(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(ve),be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.BooleanValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?L(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(ve),we=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.NumberValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?V(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(ve),Te=function(t){function e(e){return t.call(this,e)||this}return me(e,t),e.prototype.equals=function(t){return t instanceof e&&H(this.internalValue,t.internalValue)},e}(we),Ee=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return me(e,t),e.prototype.equals=function(t){return t instanceof e&&H(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(we),Ie=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.StringValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?L(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(ve),Se=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.TimestampValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue.toDate()},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof Ce?-1:this.defaultCompareTo(t)},e}(ve),Ce=function(t){function e(e){var n=t.call(this)||this;return n.localWriteTime=e,n.typeOrder=pe.TimestampValue,n}return me(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e&&this.localWriteTime.equals(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof Se?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime+">"},e}(ve),Ae=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.BlobValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.n(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.r(t.internalValue):this.defaultCompareTo(t)},e}(ve),ke=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=pe.RefValue,r}return me(e,t),e.prototype.value=function(){return this.key},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.databaseId.equals(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:se.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(ve),xe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.GeoPointValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.n(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.r(t.internalValue):this.defaultCompareTo(t)},e}(ve),Ne=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.ObjectValue,n}return me(e,t),e.prototype.value=function(){var t={};return this.internalValue.inorderTraversal(function(e,n){t[e]=n.value()}),t},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.equals=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.equals(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=L(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return L(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(c(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(c(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){c(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new le(L)),e}(ve),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pe.ArrayValue,n}return me(e,t),e.prototype.value=function(){return this.internalValue.map(function(t){return t.value()})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.equals=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return L(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(ve),_e=Number,Oe=_e.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Pe=_e.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Re=_e.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Le=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[He]:this.memoizedOrderBy=[new Ve(t),He];else{c(null===t||null!==e&&t.equals(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Be.ASCENDING;this.memoizedOrderBy.push(a===Be.ASCENDING?He:We)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){c(null==this.getInequalityFilterField()||!(e instanceof je)||!e.isInequality()||e.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!se.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){c(!se.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";W(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),W(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.equals=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].equals(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].equals(t.filters[e]))return!1;return!!this.path.equals(t.path)&&!(null!==this.startAt?!this.startAt.equals(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.equals(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!W(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof je&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return se.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return se.isDocumentKey(this.path)?this.path.equals(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){c(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Me=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return u("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),je=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){c(this.value instanceof ke,"Comparing on key, but filter value not a RefValue");var e=this.value,n=se.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Me.LESS_THAN:return t<0;case Me.LESS_THAN_OR_EQUAL:return t<=0;case Me.EQUAL:return 0===t;case Me.GREATER_THAN:return t>0;case Me.GREATER_THAN_OR_EQUAL:return t>=0;default:return u("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Me.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+""+this.op+this.value},t.prototype.equals=function(e){return e instanceof t&&this.op.equals(e.op)&&this.field.equals(e.field)&&this.value.equals(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),Ue=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),Fe=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),Be=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),qe=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=""+n[e];return t},t.prototype.sortsBeforeDocument=function(t,e){c(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())c(o instanceof ke,"Bound has a non-key value where the key path is being used."),n=se.comparator(o.key,e.key);else{var a=e.field(i.field);c(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Be.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.equals=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.equals(r)}return!0},t}(),Ve=function(){function t(t,e){this.field=t,void 0===e&&(e=Be.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ue.compareByKey(t,e):ue.compareByField(this.field,t,e);switch(this.dir){case Be.ASCENDING:return n;case Be.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+""+this.dir},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.equals=function(t){return this.dir===t.dir&&this.field.equals(t.field)},t}(),He=new Ve(ae.keyField(),Be.ASCENDING),We=new Ve(ae.keyField(),Be.DESCENDING),Ke=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Ge=function(){function t(t,e){this.seconds=t,this.nanos=e,c(e>=0,"timestamp nanoseconds out of range: "+e),c(e<1e9,"timestamp nanoseconds out of range"+e),c(t>=-62135596800,"timestamp seconds out of range: "+t),c(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=Ke.exec(e);if(c(!!r,"invalid timestamp: "+e),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=parseInt(i,10)}var o=new Date(e);return new t(Math.floor(o.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?L(this.nanos,t.nanos):L(this.seconds,t.seconds)},t.prototype.equals=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),Qe=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ge(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.equals=function(t){return this.timestamp.equals(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ge(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(ge=ge||(ge={}));var ze,Xe=function(){function t(t,e,n,r,i){void 0===r&&(r=Qe.MIN),void 0===i&&(i=l()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.equals=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.equals(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.equals(t.query)},t}(),$e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function t(t){this.fields=t}return t.prototype.equals=function(t){return j(this.fields,t.fields)},t}(),Je=function(){function t(){}return t.prototype.equals=function(e){return e instanceof t},t.instance=new t,t}(),Ze=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.equals=function(t){return this.field.equals(t.field)&&this.transform.equals(t.transform)},t}(),tn=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(ze=ze||(ze={}));var en,nn=function(){function t(t,e){this.updateTime=t,this.exists=e,c(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ue&&t.version.equals(this.updateTime):void 0!==this.exists?this.exists?t instanceof ue:null===t||t instanceof ce:(c(this.isNone,"Precondition should be empty"),!0)},t.prototype.equals=function(t){return M(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),rn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&c(t.key.equals(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ue?t.version:Qe.MIN},t}(),on=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ze.Set,i}return $e(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by SetMutation.");var n=rn.getPostMutationVersion(t);return new ue(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t);return new ue(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.value.equals(t.value)&&this.precondition.equals(t.precondition)},e}(rn),an=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ze.Patch,o}return $e(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t),r=this.patchDocument(t);return new ue(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t),r=this.patchDocument(t);return new ue(this.key,n,r,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.fieldMask.equals(t.fieldMask)&&this.precondition.equals(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ue?t.data:Ne.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(rn),sn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ze.Transform,r.precondition=nn.exists(!0),r}return $e(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.transformObject(r.data,n);return new ue(this.key,r.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.localTransformResults(e),i=this.transformObject(n.data,r);return new ue(this.key,n.version,i,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&j(this.fieldTransforms,t.fieldTransforms)&&this.precondition.equals(t.precondition)},e.prototype.requireDocument=function(t){c(t instanceof ue,"Unknown MaybeDocument type "+t);var e=t;return c(e.key.equals(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t){for(var e=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n].transform;if(!(i instanceof Je))return u("Encountered unknown transform: "+i);e.push(new Ce(t))}return e},e.prototype.transformObject=function(t,e){c(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof Je))return u("Encountered unknown transform: "+i);t=t.set(o,e[n])}return t},e}(rn),un=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ze.Delete,r}return $e(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by DeleteMutation."),new ce(this.key,Qe.MIN)},e.prototype.applyToLocalView=function(t,e){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&c(t.key.equals(this.key),"Can only apply mutation to document with same key"),new ce(this.key,Qe.forDeletedDoc())):t},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.precondition.equals(t.precondition)},e}(rn),cn=function(){function t(t){this.count=t}return t.prototype.equals=function(t){return t&&t.count===this.count},t}();!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(en||(en={}));var ln,hn=function(){function t(t){this.comparator=t,this.data=new le(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),fn=new le(se.comparator),dn=new le(se.comparator),pn=new le(se.comparator),mn=new hn(se.comparator),gn=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new bn,snapshotVersion:Qe.MIN,currentStatusUpdate:ln.MarkNotCurrent,resumeToken:l()}},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(ln=ln||(ln={}));var vn,yn=et(),bn=function(){function t(){this.docs=yn}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.equals=function(t){return null!==t&&this.docs.equals(t.docs)},t}(),wn=function(){function t(){this.addedDocuments=yn,this.removedDocuments=yn}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.equals=function(t){return null!==t&&this.addedDocuments.equals(t.addedDocuments)&&this.removedDocuments.equals(t.removedDocuments)},t}(),Tn=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),En=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(vn=vn||(vn={}));var In=function(){return function(t,e,n,r){void 0===n&&(n=l()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Sn=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=J(),this.frozen=!1,this.pendingTargetResponses=v(n)}return t.prototype.add=function(t){c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof Tn?this.addDocumentChange(t):t instanceof In?this.addTargetChange(t):t instanceof En?this.addExistenceFilterChange(t):u("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return p(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new gn(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:ln.None,snapshotVersion:this.snapshotVersion,mapping:new wn,resumeToken:l()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!f(this.pendingTargetResponses,t)&&f(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++){a=r[n];this.isActiveTarget(a)&&((s=this.ensureTargetChange(a)).mapping.add(t.key),e=!0)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];if(this.isActiveTarget(a)){var s=this.ensureTargetChange(a);s.mapping.delete(t.key),e=!0}}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case vn.NoChange:e.isActiveTarget(n)&&nt(r,t.resumeToken);break;case vn.Added:e.recordTargetResponse(n),f(e.pendingTargetResponses,n)||(r.mapping=new wn,r.currentStatusUpdate=ln.None,delete e.existenceFilters[n]),nt(r,t.resumeToken);break;case vn.Removed:e.recordTargetResponse(n),c(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case vn.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=ln.MarkCurrent,nt(r,t.resumeToken));break;case vn.Reset:e.isActiveTarget(n)&&(r.mapping=new bn,nt(r,t.resumeToken));break;default:u("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}(),Cn=function(){var t={};return t[Be.ASCENDING.name]="ASCENDING",t[Be.DESCENDING.name]="DESCENDING",t}(),An=function(){var t={};return t[Me.LESS_THAN.name]="LESS_THAN",t[Me.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Me.GREATER_THAN.name]="GREATER_THAN",t[Me.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Me.EQUAL.name]="EQUAL",t}(),kn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Qt.UNKNOWN:X(t.code);return new zt(e,t.message||"")},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return Ge.fromISOString(t);c(!!t,"Cannot deserialize null or undefined timestamp.");var e=it(t.seconds||"0"),n=t.nanos||0;return new Ge(e,n)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),$t.fromBase64String(t)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),$t.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return c(!!t,"Trying to deserialize version that isn't set"),Qe.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ie.fromString(t);return c(this.isValidResourceName(e),"Tried to deserialize invalid key "+e),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return c(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),c(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new se(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ie.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ie(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ie(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return c(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof ye)return{nullValue:"NULL_VALUE"};if(t instanceof be)return{booleanValue:t.value()};if(t instanceof Te)return{integerValue:""+t.value()};if(t instanceof Ee){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ie?{stringValue:t.value()}:t instanceof Ne?{mapValue:this.toMapValue(t)}:t instanceof De?{arrayValue:this.toArrayValue(t)}:t instanceof Se?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof xe?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ae?{bytesValue:this.toBytes(t.value())}:t instanceof ke?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:u("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(ot(t,n,"nullValue"))return ye.INSTANCE;if(ot(t,n,"booleanValue"))return be.of(t.booleanValue);if(ot(t,n,"integerValue"))return new Te(it(t.integerValue));if(ot(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ee.NAN;if("Infinity"===t.doubleValue)return Ee.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ee.NEGATIVE_INFINITY}return new Ee(t.doubleValue)}if(ot(t,n,"stringValue"))return new Ie(t.stringValue);if(ot(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(ot(t,n,"arrayValue")){rt(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new De(r.map(function(t){return e.fromValue(t)}))}if(ot(t,n,"timestampValue"))return rt(t.timestampValue,"timestampValue"),new Se(this.fromTimestamp(t.timestampValue));if(ot(t,n,"geoPointValue")){rt(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new xe(new Jt(i,o))}if(ot(t,n,"bytesValue")){rt(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Ae(a)}if(ot(t,n,"referenceValue")){rt(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),c=new ee(s.get(1),s.get(3)),l=new se(this.extractLocalPathFromResourceName(s));return new ke(c,l)}return u("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return c(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new ue(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Ne.EMPTY;return m(n,function(t,n){r=r.set(new ae([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){c(!!t.found,"Tried to deserialize a found document from a missing document."),rt(t.found.name,"doc.found.name"),rt(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ue(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){c(!!t.missing,"Tried to deserialize a missing document from a found document."),c(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ce(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result_type;return ot(t,e,"found")?this.fromFound(t):ot(t,e,"missing")?this.fromMissing(t):u("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case vn.Added:return"ADD";case vn.Current:return"CURRENT";case vn.NoChange:return"NO_CHANGE";case vn.Removed:return"REMOVE";case vn.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof En)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Tn){if(t.newDoc instanceof ue){e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof ce){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof In){var n=void 0;return t.cause&&(n={code:$(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.change_type;if(ot(t,n,"targetChange")){rt(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new In(r,i,o,s||null)}else if(ot(t,n,"documentChange")){rt(t.documentChange,"documentChange"),rt(t.documentChange.document,"documentChange.name"),rt(t.documentChange.document.name,"documentChange.document.name"),rt(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,l=this.fromName(c.document.name),h=this.fromVersion(c.document.updateTime),f=this.fromFields(c.document.fields||{}),d=new ue(l,h,f,{hasLocalMutations:!1}),p=c.targetIds||[],m=c.removedTargetIds||[];e=new Tn(p,m,d.key,d)}else if(ot(t,n,"documentDelete")){rt(t.documentDelete,"documentDelete"),rt(t.documentDelete.document,"documentDelete.document");var g=t.documentDelete,l=this.fromName(g.document),h=g.readTime?this.fromVersion(g.readTime):Qe.forDeletedDoc(),d=new ce(l,h),m=g.removedTargetIds||[];e=new Tn([],m,d.key,d)}else if(ot(t,n,"documentRemove")){rt(t.documentRemove,"documentRemove"),rt(t.documentRemove.document,"documentRemove");var v=t.documentRemove,l=this.fromName(v.document),m=v.removedTargetIds||[];e=new Tn([],m,l,null)}else{if(!ot(t,n,"filter"))return u("Unknown change type "+JSON.stringify(t));rt(t.filter,"filter"),rt(t.filter.targetId,"filter.targetId");var y=t.filter,b=y.count||0,w=new cn(b),T=y.targetId;e=new En(T,w)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?vn.NoChange:"ADD"===t?vn.Added:"REMOVE"===t?vn.Removed:"CURRENT"===t?vn.Current:"RESET"===t?vn.Reset:u("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!ot(t,t.response_type,"targetChange"))return Qe.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qe.MIN:e.readTime?this.fromVersion(e.readTime):Qe.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof on)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof un)e={delete:this.toName(t.key)};else if(t instanceof an)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof sn))return u("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):nn.NONE;if(t.update){rt(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new an(r,i,o,n)}return new on(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new un(r,n)}if(t.transform){var r=this.fromName(t.transform.document),a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new sn(r,a)}return u("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return c(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?nn.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?nn.exists(t.exists):nn.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new tn(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return c(t.transform instanceof Je,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){c("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=ae.fromServerFormat(t.fieldPath);return new Ze(e,Je.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;c(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Le.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(ie.EMPTY_PATH);else{var n=t.path;c(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toLimit(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){c(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=n.limit);var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Le(e,a,o,s,u,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case ge.Listen:return null;case ge.ExistenceFilterMismatch:return"existence-filter-mismatch";case ge.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof je?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):u("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toLimit=function(t){if(!W(t))return t},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new qe(r,n)},t.prototype.toDirection=function(t){return Cn[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Be.ASCENDING;case"DESCENDING":return Be.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return An[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Me.EQUAL;case"GREATER_THAN":return Me.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Me.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Me.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Me.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ae.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Ve(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof je?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new je(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Fe?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ue?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Fe(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ue(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ae.fromServerFormat(t)});return new Ye(e)},t}(),xn=n(115),Nn=function(){function t(t){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){c(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){c(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){c(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),Dn="Connection",_n="gl-js/ fire/"+Ht,On=function(){function t(t){this.databaseId=t.databaseId,this.pool=new xn.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=_n,t["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},t.prototype.invoke=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(s,c){r.pool.getObject(function(l){l.listenOnce(xn.EventType.COMPLETE,function(){try{switch(l.getLastErrorCode()){case xn.ErrorCode.NO_ERROR:var e=l.getResponseJson();o(Dn,"XHR received:",JSON.stringify(e)),s(e);break;case xn.ErrorCode.TIMEOUT:a('RPC "'+t+'" timed out, retrying.'),c(new zt(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case xn.ErrorCode.HTTP_ERROR:var n=l.getStatus();a('RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0?c(new zt(Y(n),"Server responded with status "+l.getStatusText())):(a(Dn,'RPC "'+t+'" failed, retrying.'),c(new zt(Qt.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{o(Dn,'RPC "'+t+'" completed.'),r.pool.releaseObject(l)}});var h=JSON.stringify(e);o(Dn,"XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),l.send(i,"POST",h,f,15)})})},t.prototype.openStream=function(e,n){var r=t.RPC_STREAM_SERVICE_MAPPING[e],i=t.RPC_STREAM_NAME_MAPPING[e];r&&i||u("Unknown RPC name: "+e);var a=[this.baseUrl,"/",r,"/",i,"/channel"],s=Object(xn.createWebChannelTransport)(),l={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(l.initMessageHeaders,n);var h=a.join("");o(Dn,"Creating WebChannel: "+h+" "+l);var f=s.createWebChannel(h,l),d=!1,p=!1,m=new Nn({sendFn:function(t){p?o(Dn,"Not sending because WebChannel is closed:",t):(d||(o(Dn,"Opening WebChannel transport."),f.open(),d=!0),o(Dn,"WebChannel sending:",t),f.send(t))},closeFn:function(){return f.close()}}),g=function(t,e){f.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return g(xn.WebChannel.EventType.OPEN,function(){p||o(Dn,"WebChannel transport opened.")}),g(xn.WebChannel.EventType.CLOSE,function(){p||(p=!0,o(Dn,"WebChannel transport closed"),m.callOnClose())}),g(xn.WebChannel.EventType.ERROR,function(t){p||(p=!0,o(Dn,"WebChannel transport errored:",t),m.callOnClose(new zt(Qt.UNAVAILABLE,"The operation could not be completed")))}),g(xn.WebChannel.EventType.MESSAGE,function(t){if(!p){var e=t.data[0];c(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){o(Dn,"WebChannel received error:",n);var r=n.status,i=z(r),a=n.message;void 0===i&&(i=Qt.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),p=!0,m.callOnClose(new zt(i,a)),f.close()}else o(Dn,"WebChannel received:",e),m.callOnMessage(e)}}),setTimeout(function(){m.callOnOpen()},0),m},t.prototype.makeUrl=function(t){var e=[this.baseUrl,"/","v1beta1"];return e.push("/projects/"),e.push(this.databaseId.projectId),e.push("/databases/"),e.push(this.databaseId.database),e.push("/documents"),e.push(":"),e.push(t),e.join("")},t.RPC_STREAM_SERVICE_MAPPING={Write:"google.firestore.v1beta1.Firestore",Listen:"google.firestore.v1beta1.Firestore"},t.RPC_STREAM_NAME_MAPPING={Write:"Write",Listen:"Listen"},t}(),Pn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new On(t))},t.prototype.newSerializer=function(t){return new kn(t,{useProto3Json:!0})},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();Kt.setPlatform(new Pn);var Rn,Ln=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];T("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(E("FieldPath","string",n,t[n]),0===t[n].length)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t=new ae(t)}return t.documentId=function(){return t.d},t.d=new t(ae.keyField().canonicalString()),t}(),Mn=RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Healthy=1]="Healthy",t[t.Failed=2]="Failed"}(Rn=Rn||(Rn={}));var jn;!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(jn=jn||(jn={}));var Un;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Un=Un||(Un={}));var Fn,Bn=function(){function t(){this.changeMap=new le(se.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==jn.Added&&n.type===jn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===jn.Metadata&&n.type!==jn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===jn.Modified&&n.type===jn.Modified?this.changeMap=this.changeMap.insert(e,{type:jn.Modified,doc:t.doc}):t.type===jn.Modified&&n.type===jn.Added?this.changeMap=this.changeMap.insert(e,{type:jn.Added,doc:t.doc}):t.type===jn.Removed&&n.type===jn.Added?this.changeMap=this.changeMap.remove(e):t.type===jn.Removed&&n.type===jn.Modified?this.changeMap=this.changeMap.insert(e,{type:jn.Removed,doc:n.doc}):t.type===jn.Added&&n.type===jn.Removed?this.changeMap=this.changeMap.insert(e,{type:jn.Modified,doc:t.doc}):u("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),qn=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||se.comparator(e.key,n.key)}:function(t,e){return se.comparator(t.key,e.key)},this.keyedMap=Z(),this.sortedSet=new le(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.prevDoc=function(t){c(this.has(t),"Trying to get a previous document to non-existing key: "+t);var e=this.keyedMap.get(t);return this.sortedSet.getPredecessorKey(e)},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.equals(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(""+e)}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Vn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.equals(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].equals(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){m(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return g(this.inner)},t}(),Hn=function(){return function(){this.listeners=[]}}(),Wn=function(){function t(t){this.syncEngine=t,this.queries=new Vn(function(t){return t.canonicalId()}),this.onlineState=Rn.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Hn,this.queries.set(e,r)),r.listeners.push(t),t.onOnlineStateChanged(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){var e=t.query,n=!1,r=this.queries.get(e);if(r){var i=r.listeners.indexOf(t);i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)}return n?(this.queries.delete(e),this.syncEngine.unlisten(e)):Promise.resolve()},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++)s[a].onViewSnapshot(r);o.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].onOnlineStateChanged(t)})},t}(),Kn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Rn.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(c(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==jn.Metadata&&e.push(i)}t={query:t.query,docs:t.docs,oldDocs:t.oldDocs,docChanges:e,fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:t.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Rn.Failed;return this.options.waitForSyncWhenOnline&&n?(c(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Rn.Failed},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e={query:e.query,docs:e.docs,oldDocs:qn.emptySet(e.docs),docChanges:t.getInitialViewChanges(e),fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:jn.Added,doc:t})}),e},t}(),Gn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,i=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},i).next(function(t){return n.push(t),n})},t}(),Qn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=et()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=et();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),Gn.resolve()}))}),this.potentialGarbage=et(),Gn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=Gn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?Gn.resolve(!0):e()})},n)},t}(),zn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=et(),r=et(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case jn.Added:n=n.add(a.doc.key);break;case jn.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),Xn=function(){function t(){this.refsByKey=new hn($n.compareByKey),this.refsByTarget=new hn($n.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new $n(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new $n(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=se.EMPTY,r=new $n(n,t),i=new $n(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=se.EMPTY,n=new $n(e,t),r=new $n(e,t+1),i=et();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new $n(e,0),r=this.refsByKey.firstAfterOrEqual(n);return Gn.resolve(null!==r&&e.equals(r.key))},t}(),$n=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return se.comparator(t.key,e.key)||L(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return L(t.targetOrBatchId,e.targetOrBatchId)||se.comparator(t.key,e.key)},t}(),Yn=1;!function(t){t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine"}(Fn||(Fn={}));var Jn,Zn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>Yn<<Yn,r=e-n;this.previousId=r>=t?n|this.generatorId:(n|this.generatorId)-(1<<Yn)}return t.prototype.next=function(){return this.previousId+=1<<Yn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(Fn.LocalStore,e)},t.forSyncEngine=function(){return new t(Fn.SyncEngine)},t}(),tr=function(){return function(t){this.key=t}}(),er=function(){return function(t){this.key=t}}(),nr=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=et(),this.mutatedKeys=et(),this.documentSet=new qn(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Bn,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof ue?e:null;if(h&&(c(t.equals(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null),h?(a=a.add(h),o=h.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),l&&h){var f=l.data.equals(h.data);f&&l.hasLocalMutations===h.hasLocalMutations||(f?r.track({type:jn.Metadata,doc:h}):r.track({type:jn.Modified,doc:h}),u&&n.query.docComparator(h,u)>0&&(s=!0))}else!l&&h?r.track({type:jn.Added,doc:h}):l&&!h&&(r.track({type:jn.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:jn.Removed,doc:l})}return c(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;c(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return st(t.type,e.type)||n.query.docComparator(t.doc,e.doc)});var o=this.applyTargetChange(e),a=0===this.limboDocuments.size&&this.current?Un.Synced:Un.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:{query:this.query,docs:t.documentSet,oldDocs:r,docChanges:i,fromCache:a===Un.Local,syncStateChanged:s,hasPendingWrites:!t.mutatedKeys.isEmpty()},limboChanges:o}:{limboChanges:o}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;if(t){var n=t.mapping;switch(n instanceof bn?this.syncedDocuments=n.documents:n instanceof wn&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case ln.MarkCurrent:this.current=!0;break;case ln.MarkNotCurrent:this.current=!1;break;case ln.None:break;default:u("Unknown current status update: "+t.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=et(),this.current&&this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var i=[];return r.forEach(function(t){e.limboDocuments.has(t)||i.push(new er(t))}),this.limboDocuments.forEach(function(t){r.has(t)||i.push(new tr(t))}),i},t}(),rr=function(){return function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}}(),ir=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new Vn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new le(se.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new Xn,this.limboCollector=new Qn,this.mutationUserCallbacks={},this.targetIdGenerator=Zn.forSyncEngine()}return t.prototype.subscribe=function(t,e){c(null!==t&&null!==e,"View and error handlers cannot be null"),c(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),c(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new nr(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);c(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new rr(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return c(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),c(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!W(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),p(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];i&&r.currentStatusUpdate===ln.MarkCurrent&&!t.documentUpdates.get(i)&&t.addDocumentUpdate(new ce(i,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new le(se.comparator);i=i.insert(r,new ce(r,Qe.forDeletedDoc()));var o=new gn(Qe.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[t];return c(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new le(L)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(c(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof tr?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof er?(o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):u("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){o("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Le.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Xe(r,n,ge.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,o);return n.updateTrackedLimbos(s.targetId,a.limboChanges).then(function(){if(a.snapshot){r.push(a.snapshot);var t=zn.fromSnapshot(a.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){c(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),or=-1,ar=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&c(e.key.equals(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.equals(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&c(e.key.equals(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(t)&&(e=r.applyToLocalView(e,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=et(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.equals=function(t){return this.batchId===t.batchId&&j(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),sr=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){c(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=tt(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),ur="",cr="",lr="",hr="",fr=function(){return function(t,e){this.seconds=t,this.nanos=e}}(),dr=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),pr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),mr=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),gr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ut(e)]},t.key=function(t,e,n){return[t,ut(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),vr=function(){return function(t,e){this.path=t,this.readTime=e}}(),yr=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),br=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),wr=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Tr=function(){function t(t,e,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Er=[pr.store,mr.store,gr.store,yr.store,br.store,dr.store,Tr.store,wr.store],Ir=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return c(t.isAvailable(),"IndexedDB not supported in current environment."),o("SimpleDb","Opening database:",e),new Gn(function(i,a){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onerror=function(t){a(t.target.error)},s.onupgradeneeded=function(t){o("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r(n,t.oldVersion)}}).toPromise()},t.delete=function(t){return o("SimpleDb","Removing database:",t),dt(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=new Cr(this.db,t,e),i=n(r).catch(function(t){return r.abort(),Gn.reject(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Sr=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return dt(this.dbCursor.delete())},t}(),Cr=function(){function t(t,e,n){var r=this;this.aborted=!1,this.transaction=t.transaction(n,e),this.completionPromise=new Promise(function(t,e){r.transaction.onabort=r.transaction.oncomplete=function(e){t()},r.transaction.onerror=function(t){e(t.target.error)}})}return t.prototype.abort=function(){this.aborted||(o("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return c(!!e,"Object store not part of transaction: "+t),new Ar(e)},t}(),Ar=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(o("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(o("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dt(n)},t.prototype.get=function(t){var e=this;return dt(this.store.get(t)).next(function(n){return void 0===n&&(n=null),o("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return o("SimpleDb","DELETE",this.store.name,t),dt(this.store.delete(t))},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){o("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new Gn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Sr(i),a=e(i.primaryKey,i.value,o);a instanceof Gn&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Gn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(c(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),kr=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return c(""!==e.uid,"UserID must not be an empty string."),new t(e.isUnauthenticated()?"":e.uid,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,vt(e).get(n.userId)}).next(function(t){return t||(t=new pr(n.userId,or,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return c(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=or,vt(e).put(n.metadata)}):Gn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=or;return mt(t).iterate({reverse:!0},function(t,n,r){var i=t[0];if(t[1]>e&&(e=n.batchId),""===i)r.done();else{var o=U(i);r.skip([o])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return mt(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return Gn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return Gn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return c(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=pt(n),vt(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return Gn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=pt(e),vt(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new ar(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return mt(t).put(a).next(function(){for(var e=0,o=n;e<o.length;e++){var a=o[e],s=(ut(a.key.path),gr.key(r.userId,a.key.path,i));gt(t).put(s,gr.PLACEHOLDER)}return Gn.waitFor([])}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return mt(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(e+1)),i=null;return mt(t).iterate({range:r},function(t,r,o){r.userId===n.userId&&(c(r.batchId>e,"Should have found mutation after "+e),i=n.serializer.fromDbMutationBatch(r)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(or),this.keyForBatchId(Number.POSITIVE_INFINITY));return mt(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(or),this.keyForBatchId(e));return mt(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=gr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gt(t).iterate({range:i},function(r,i,a){var s=r[0],c=r[1],l=r[2],h=ht(c);{if(s===n.userId&&e.path.equals(h)){var f=n.keyForBatchId(l);return mt(t).get(f).next(function(t){null===t&&u("Dangling document-mutation reference found: "+r+" which points to "+f),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;c(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=gr.prefixForPath(this.userId,r),a=(o[1],IDBKeyRange.lowerBound(o)),s=new hn(L);return gt(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=ht(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(mt(t).get(o).next(function(t){null===t&&u("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),Gn.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=mt(t),r=gt(t),i=[],o=this,a=0,s=e;a<s.length;a++)!function(t){var e=IDBKeyRange.only(o.keyForBatchId(t.batchId)),a=0,s=n.iterate({range:e},function(t,e,n){return a++,n.delete()});i.push(s.next(function(){c(1===a,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var h=l[u],f=gr.key(o.userId,h.key.path,t.batchId);i.push(r.delete(f)),null!==o.garbageCollector&&o.garbageCollector.addPotentialGarbageKey(h.key)}}(s[a]);return Gn.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Gn.resolve();var r=IDBKeyRange.lowerBound(gr.prefixForUser(e.userId)),i=[];return gt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=ht(t[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=gr.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return gt(t).iterate({range:o,keysOnly:!0},function(t,e,r){var o=t[0],s=t[1];t[2],o===n.userId&&s===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}(),xr=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Qe.MIN,this.metadata=new Tr(0,0,Qe.MIN.toTimestamp()),this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return wt(t).get(Tr.key).next(function(t){if(null!==t){e.metadata=t;var n=t.lastRemoteSnapshotVersion;e.lastRemoteSnapshotVersion=Qe.fromTimestamp(new Ge(n.seconds,n.nanos))}return Gn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),wt(t).put(Tr.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this,r=e.targetId,i=bt(t).put(this.serializer.toDbTarget(e));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,i.next(function(){return wt(t).put(Tr.key,n.metadata)})):i},t.prototype.removeQueryData=function(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){bt(t).delete(e.targetId)})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return bt(t).iterate({range:i,index:br.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.equals(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=Tt(t);return e.forEach(function(t){var e=ut(t.path);r.push(i.put(new wr(n,e)))}),Gn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=Tt(t);return e.forEach(function(t){var e=ut(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),Gn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Tt(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=Tt(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=ht(t[1]),o=new se(i);c(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):Gn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tt(t),i=et();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=ht(t[1]),o=new se(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){c(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=ut(e.path),r=IDBKeyRange.bound([n],[F(n)],!1,!0),i=0;return Tt(t).iterate({index:wr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}(),Nr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return It(t).put(St(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return It(t).delete(St(e))},t.prototype.getEntry=function(t,e){var n=this;return It(t).get(St(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=Z(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return It(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof ue&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}(),Dr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=se.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Ge(n.seconds,n.nanos);return new ce(e,Qe.fromTimestamp(r))}return u("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ue){var e=this.remoteSerializer.toDocument(t);return new yr(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new fr(r.seconds,r.nanos);return new yr(new vr(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new mr(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Ge.fromEpochMilliseconds(t.localWriteTimeMs);return new ar(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Ge(t.readTime.seconds,t.readTime.nanos),r=Qe.fromTimestamp(n);return e=Ct(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Xe(e,t.targetId,ge.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){c(ge.Listen===t.purpose,"Only queries with purpose "+ge.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new fr(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),c("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var i=t.resumeToken;return new br(t.targetId,t.query.canonicalId(),r,i,0,e)},t}(),_r="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",Or=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Dr(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(c(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Ir.openOrCreate(this.dbName,1,ft).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new zt(Qt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return c(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return kr.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new xr(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new Nr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(o("IndexedDbPersistence","Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Er,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Ir.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[dr.store],function(e){var n=e.store(dr.store);return n.get("owner").next(function(e){if(t.validOwner(e))return o("IndexedDbPersistence","Valid owner already. Failing. Current owner:",e),t.persistenceError=new zt(Qt.FAILED_PRECONDITION,_r),Gn.reject(t.persistenceError);var r=new dr(t.ownerId,Date.now());return o("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[dr.store],function(e){var n=e.store(dr.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(o("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):Gn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(dr.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new zt(Qt.FAILED_PRECONDITION,_r),Gn.reject(e.persistenceError)):Gn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now(),n=e-5e3,r=e;return!(null===t||t.leaseTimestampMs<n||(t.leaseTimestampMs>r?(a("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(dr.store).put("owner",new dr(t.ownerId,Date.now()))}).catch(function(e){a(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return o("IndexedDbPersistence","Zombied ownerID from LocalStorage:",t),t}catch(t){return a("IndexedDbPersistence","Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){a("IndexedDbPersistence","Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return Xt.newId()},t.MAIN_DATABASE="main",t}(),Pr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=J();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ce(e,Qe.forDeletedDoc())),i=i.insert(e,t)}))}),Gn.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return se.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new se(e)).next(function(t){var e=Z();return t instanceof ue&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=et(),o=0,a=e;o<a.length;o++)for(var s=a[o],u=0,c=s.mutations;u<c.length;u++){var l=c[u];n.get(l.key)||(i=i.add(l.key))}var h=[];return i.forEach(function(e){h.push(r.getDocument(t,e).next(function(t){t instanceof ue&&(n=n.insert(t.key,t))}))}),Gn.waitFor(h)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];n=o.applyToLocalView(e,n)}return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof ue?e=e.insert(t.key,t):t instanceof ce?e=e.remove(t.key):u("Unknown MaybeDocument: "+t)}))}),Gn.waitFor(r).next(function(){return e})},t}(),Rr=function(){function t(t){this.remoteDocumentCache=t,this.changes=J()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?Gn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,Gn.waitFor(n)},t.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Lr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new Xn,this.targetIds={},this.targetIdGenerator=Zn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Pr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new Pr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=et(),o=0,a=[r,t];o<a.length;o++)for(var s=a[o],u=0,c=s;u<c.length;u++)for(var l=c[u],h=0,f=l.mutations;h<f.length;h++){var d=f[h];i=i.add(d.key)}return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=Zn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==or?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):Gn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):Gn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=Ge.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=et(),Gn.resolve();var i=new Rr(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return c(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return c(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new Rr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];p(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof bn)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof wn))return u("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.addQueryData(r,o)))}});var a=et();t.documentUpdates.forEach(function(t,s){a=a.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||s.version.equals(Qe.MIN)||s.version.compareTo(r.version)>=0?n.addEntry(s):o("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",s.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var s=e.queryCache.getLastRemoteSnapshotVersion(),l=t.snapshotVersion;l.equals(Qe.MIN)||(c(l.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,l)));var h;return Gn.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return h=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,a.unionWith(h))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=0,o=t;i<o.length;i++)!function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){c(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))}(o[i]);return Gn.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=or),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,Gn.resolve();var o=e.targetIdGenerator.next();return r=new Xe(t,o,ge.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return c(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return c(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):Gn.resolve()}).next(function(){if(g(e.targetIds)){var t=new Rr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return Gn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),Gn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?Gn.resolve(et()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||g(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=Gn.resolve(),o=0,a=e;o<a.length;o++)!function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})}(a[o]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=et(),r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a].key;n=n.add(u)}return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=Gn.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);c(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):c(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),Mr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=or,this.lastStreamToken=l(),this.garbageCollector=null,this.batchesByDocumentKey=new hn($n.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=or),c(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),Gn.resolve()},t.prototype.checkEmpty=function(t){return Gn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return Gn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return Gn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;c(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return c(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),c(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Gn.resolve()},t.prototype.getLastStreamToken=function(t){return Gn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Gn.resolve()},t.prototype.addMutationBatch=function(t,e,n){c(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&c(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new ar(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new $n(s.key,r))}return Gn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Gn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.mutationQueue.length;e=Math.max(e+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(e),i=r<0?0:r;i<n;i++){var o=this.mutationQueue[i];if(!o.isTombstone())return Gn.resolve(o)}return Gn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return Gn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,Gn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new $n(e,0),i=new $n(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){c(e.equals(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Gn.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;se.isDocumentKey(o)||(o=o.child(""));var a=new $n(new se(o),0),s=new hn(L);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),Gn.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;c(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");c(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(p=this.mutationQueue[s]).isTombstone()?s++:(c(p.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(p=this.mutationQueue[s]).isTombstone();s++);var u=s-o;this.mutationQueue.splice(o,u)}else for(var l=o;l<s;l++)this.mutationQueue[l]=this.mutationQueue[l].toTombstone();for(var h=this.batchesByDocumentKey,f=0,d=e;f<d.length;f++)for(var p=d[f],m=p.batchId,g=0,v=p.mutations;g<v.length;g++){var y=v[g].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(y);var b=new $n(y,m);h=h.delete(b)}return this.batchesByDocumentKey=h,Gn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new $n(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Gn.resolve(e.equals(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Gn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return c(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),jr=function(){function t(){this.queries=new Vn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Qe.MIN,this.highestTargetId=0,this.references=new Xn}return t.prototype.start=function(t){return Gn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,Gn.resolve()},t.prototype.addQueryData=function(t,e){this.queries.set(e.query,e);var n=e.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),Gn.resolve()},t.prototype.removeQueryData=function(t,e){return this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),Gn.resolve()},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Gn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),Gn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),Gn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Gn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Gn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),Ur=function(){function t(){this.docs=J()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),Gn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),Gn.resolve()},t.prototype.getEntry=function(t,e){return Gn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=Z(),r=new se(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value;if(!e.path.isPrefixOf(a.path))break;s instanceof ue&&e.matches(s)&&(n=n.insert(s.key,s))}return Gn.resolve(n)},t}(),Fr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new Ur,this.queryCache=new jr,this.started=!1}return t.prototype.start=function(){return c(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},t.prototype.shutdown=function(){return c(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Mr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return o("MemoryPersistence","Starting transaction:",t),e(new Br).toPromise()},t}(),Br=function(){return function(){}}(),qr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return Gn.resolve(et())},t}(),Vr=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),Hr=function(){function t(t,e,n){this.initialDelayMs=t,this.backoffFactor=e,this.maxDelayMs=n,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndWait=function(){var t=new Vr,e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){t.resolve()},e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),t.promise},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Wr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(Jn||(Jn={}));var Kr,Gr=1e3,Qr=6e4,zr=1.5,Xr=function(){function t(t,e,n,r,i){this.queue=t,this.connection=e,this.credentialsProvider=n,this.stream=null,this.listener=null,this.backoff=new Hr(i||Gr,zr,Qr),this.state=Jn.Initial,this.listener=r}return t.prototype.isStarted=function(){return this.state===Jn.Backoff||this.state===Jn.Auth||this.state===Jn.Open},t.prototype.isOpen=function(){return this.state===Jn.Open},t.prototype.start=function(){this.state!==Jn.Error?(c(this.state===Jn.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){this.state=Jn.Stopped,this.listener=null,null!==this.stream&&(this.stream.close(),this.stream=null)},t.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Jn.Initial,this.backoff.reset()},t.prototype.auth=function(){var t=this;c(this.state===Jn.Initial,"Must be in initial state to auth"),this.state=Jn.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.schedule(function(){if(t.state!==Jn.Stopped){var n=new zt(Qt.UNKNOWN,"Fetching auth token failed: "+e.message);return t.handleStreamClose(n)}return Promise.resolve()})})},t.prototype.startStream=function(t){var e=this;if(this.state!==Jn.Stopped){c(this.state===Jn.Auth,"Trying to start stream in a non-auth state");var n=function(t){e.queue.schedule(function(){return e.state!==Jn.Stopped?t():Promise.resolve()})};null!==this.listener&&(this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return c(e.state===Jn.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=Jn.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})}))}},t.prototype.performBackoff=function(){var t=this;c(this.state===Jn.Error,"Should only perform backoff in an error case"),this.state=Jn.Backoff,this.backoff.backoffAndWait().then(function(){t.queue.schedule(function(){return t.state===Jn.Stopped?Promise.resolve():(t.state=Jn.Initial,t.start(),c(t.isStarted(),"PersistentStream should have started"),Promise.resolve())})})},t.prototype.handleStreamClose=function(t){return c(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+t),this.stream=null,this.state=Jn.Error,t&&t.code===Qt.RESOURCE_EXHAUSTED&&(o("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),this.listener.onClose(t)},t}(),$r=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,n,r,i,a,s)||this;return u.databaseInfo=e,u.serializer=o,u}return Wr(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.stream.send(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.stream.send(e)},e}(Xr),Yr=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,n,r,i,a,s)||this;return u.databaseInfo=e,u.serializer=o,u.y=!1,u}return Wr(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.y},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.y=!1,t.prototype.start.call(this)},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(c(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.y){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return c(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.y=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.y,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.stream.send(t)},e.prototype.writeMutations=function(t){var e=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.y,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.stream.send(n)},e}(Xr),Jr=function(){function t(t,e,n,r,i,o){this.databaseInfo=t,this.queue=e,this.connection=n,this.credentials=r,this.serializer=i,this.initialBackoffDelay=o}return t.prototype.newPersistentWriteStream=function(t){return new Yr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.newPersistentWatchStream=function(t){return new $r(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.commit=function(t){var e=this,n={writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeRPC("batchGet",n).then(function(n){var r=J();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);c(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invoke(t,e,r)})},t}(),Zr=function(){function t(t){this.datastore=t,this.readVersions=tt(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ce&&(e=Qe.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.equals(n))throw new zt(Qt.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new zt(Qt.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?nn.updateTime(e):nn.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.equals(Qe.forDeletedDoc()))throw new zt(Qt.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?nn.updateTime(e):nn.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new un(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Qe.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),ti=function(){function t(t,e,n,r,i){this.databaseInfo=t,this.asyncQueue=e,this.localStore=n,this.datastore=r,this.onlineStateHandler=i,this.pendingWrites=[],this.lastBatchSeen=or,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=Rn.Unknown,this.watchStreamFailures=0}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.setOnlineStateToHealthy=function(){this.updateAndBroadcastOnlineState(Rn.Healthy)},t.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(Rn.Unknown)},t.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===Rn.Healthy?this.setOnlineStateToUnknown():++this.watchStreamFailures>=2&&this.updateAndBroadcastOnlineState(Rn.Failed)},t.prototype.updateAndBroadcastOnlineState=function(t){var e=this.watchStreamOnlineState!==t;this.watchStreamOnlineState=t,e&&this.onlineStateHandler(t)},t.prototype.isNetworkEnabled=function(){return c(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return c(null==this.watchStream,"enableNetwork() called with non-null watchStream."),c(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)}),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()&&t.startWatchStream(),t.updateAndBroadcastOnlineState(Rn.Unknown),t.fillWritePipeline()})},t.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(Rn.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},t.prototype.shutdown=function(){return o("RemoteStore","RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},t.prototype.listen=function(t){c(!f(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){c(f(this.listenTargets,t),"unlisten called without assigned target ID!"),this.listenTargets[t],delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendUnwatchRequest(t)},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!g(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){var t=this;return p(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),Promise.resolve()},t.prototype.onWatchStreamClose=function(t){return c(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},t.prototype.onWatchStreamChange=function(t,e){if(this.setOnlineStateToHealthy(),t instanceof In&&t.state===vn.Removed&&t.cause)return this.handleTargetError(t);if(this.accumulatedWatchChanges.push(t),!e.equals(Qe.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(e,n)}return Promise.resolve()},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Sn(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return p(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new se(s.path),l=new ce(u,t);i.addDocumentUpdate(l)}else c(1===r.count,"Single document existence filter with count: "+r.count);else{var h=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof wn?t=o.applyToKeySet(t):(c(o instanceof bn,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new Xe(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var l=new Xe(s,e,ge.ExistenceFilterMismatch);n.sendWatchRequest(l)}});o.push(h)}}}),Promise.all(o).then(function(){return p(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;c(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return f(e.listenTargets,t)?(delete e.listenTargets[t],e.syncEngine.rejectListen(t,n)):Promise.resolve()})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=or,this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){var t=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null===e?Promise.resolve():(t.commit(e),t.fillWritePipeline())}):Promise.resolve()},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){c(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})},t.prototype.onMutationResult=function(t,e){var n=this;c(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=sr.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){var e=this;if(c(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),this.pendingWrites.length>0){c(!!t,"We have pending writes, but the write stream closed without an error");return(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})}return Promise.resolve()},t.prototype.handleHandshakeError=function(t){return Q(t.code)||t.code===Qt.ABORTED?(o("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=l(),this.localStore.setLastStreamToken(l())):Promise.resolve()},t.prototype.handleWriteError=function(t){var e=this;if(Q(t.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,t).then(function(){return e.fillWritePipeline()})}return Promise.resolve()},t.prototype.createTransaction=function(){return new Zr(this.datastore)},t.prototype.handleUserChange=function(t){return o("RemoteStore","RemoteStore changing users: uid=",t.uid),this.disableNetwork(),this.enableNetwork()},t}(),ei=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Vr,r=new Vr,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.schedule(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===Qt.FAILED_PRECONDITION||t.code===Qt.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new qr;var t=Or.buildStoragePrefix(this.databaseInfo),e=new kn(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new Or(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new Qn,this.persistence=new Fr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new Lr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Jr(e.databaseInfo,e.asyncQueue,n,e.credentials,r);return e.remoteStore=new ti(e.databaseInfo,e.asyncQueue,e.localStore,i,function(t){e.eventMgr.onOnlineStateChanged(t)}),e.syncEngine=new ir(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new Wn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.schedule(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,i=new Kn(t,e,n);return this.asyncQueue.schedule(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.schedule(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new Vr;return this.asyncQueue.schedule(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.schedule(function(){return Promise.resolve()}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),ni=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ri=function(){function t(){this.tail=Promise.resolve(),this.delayedOpCount=0,this.operationInProgress=!1}return t.prototype.schedule=function(t,e){var n=this;if(this.failure&&u("AsyncQueue is already failed: "+this.failure.message),(e||0)>0){this.delayedOpCount++;var r=new Vr;return setTimeout(function(){n.scheduleInternal(function(){return t().then(function(t){r.resolve(t)})}),n.delayedOpCount--},e),r.promise}return this.scheduleInternal(t)},t.prototype.scheduleInternal=function(t){var e=this;return this.tail=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){throw e.failure=t,e.operationInProgress=!1,a("INTERNAL UNHANDLED ERROR: ",t.stack||t.message),t}).then(function(){e.operationInProgress=!1})}),this.tail},t.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return c(0===this.delayedOpCount,"draining doesn't handle delayed ops."),this.schedule(function(){return Promise.resolve(void 0)})},t}(),ii=function(){function t(t){this.uid=t}return t.prototype.isUnauthenticated=function(){return null==this.uid},t.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},t.prototype.equals=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),oi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),ai=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(ii.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){c(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),si=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.equals(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new zt(Qt.ABORTED,"getToken aborted due to uid change.");return t?(c("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new oi(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){c(null!=this.tokenListener,"removeUserChangeListener() called twice"),c(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&u("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return c(null===t||"string"==typeof t,"Received invalid UID: "+t),new ii(t)},t}(),ui=function(){function t(t){this.authClient=t}return t.prototype.getToken=function(t){var e=this;return new Promise(function(t,n){e.authClient.getAccessToken(function(e,r){e?n(e):t(new oi(r,ii.GOOGLE_CREDENTIALS))})})},t.prototype.setUserChangeListener=function(t){t(ii.GOOGLE_CREDENTIALS)},t.prototype.removeUserChangeListener=function(){},t}(),ci=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ii.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),li=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new ci(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(ii.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}(),hi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fi=function(){function t(){}return t.delete=function(){return di.instance},t.serverTimestamp=function(){return pi.instance},t}(),di=function(t){function e(){return t.call(this)||this}return hi(e,t),e.instance=new e,e}(fi),pi=function(t){function e(){return t.call(this)||this}return hi(e,t),e.instance=new e,e}(fi),mi=h(fi,"Use FieldValue.<field>() instead."),gi=/^__.*__$/,vi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new an(t,this.data,this.fieldMask,e)):n.push(new on(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new sn(t,this.fieldTransforms)),n},t}(),yi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new an(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new sn(t,this.fieldTransforms)),n},t}();!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(Kr||(Kr={}));var bi=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path+")";return new zt(Qt.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Nt(this.dataSource)&&gi.test(t))throw this.createError("Document fields cannot begin and end with __")},t.prototype.isWrite=function(){return this.dataSource===Kr.Set||this.dataSource===Kr.Update},t}(),wi=function(){return function(t,e){this.databaseId=t,this.key=e}}(),Ti=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new bi(Kr.Set,t,ae.EMPTY_PATH);_t("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new vi(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new bi(Kr.MergeSet,t,ae.EMPTY_PATH);_t("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),i=new Ye(n.fieldMask);return new vi(r,i,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new bi(Kr.Update,t,ae.EMPTY_PATH);_t("Data must be an object, but it was:",r,e);var i=[],o=Ne.EMPTY;m(e,function(e,a){var s=Pt(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof di)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new Ye(i);return new yi(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new bi(Kr.Update,t,ae.EMPTY_PATH),o=[Ot(t,e)],a=[n];if(r.length%2!=0)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(c=0;c<r.length;c+=2)o.push(Ot(t,r[c])),a.push(r[c+1]);for(var s=[],u=Ne.EMPTY,c=0;c<o.length;++c){var l=o[c],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[c],h);if(f instanceof di)s.push(l);else{var d=this.parseData(f,h);null!=d&&(s.push(l),u=u.set(l,d))}}var p=new Ye(s);return new yi(u,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new bi(Kr.QueryValue,t,ae.EMPTY_PATH),r=this.parseData(e,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=Rt(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return e.path&&e.fieldMask.push(e.path),this.parseArray(t,e)}return Dt(t)?(_t("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=ye.INSTANCE),n.push(s),r++}return new De(n)},t.prototype.parseObject=function(t,e){var n=this,r=new le(L);return m(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Ne(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return ye.INSTANCE;if("number"==typeof t)return K(t)?new Te(t):new Ee(t);if("boolean"==typeof t)return be.of(t);if("string"==typeof t)return new Ie(t);if(t instanceof Date)return new Se(Ge.fromDate(t));if(t instanceof Jt)return new xe(t);if(t instanceof $t)return new Ae(t);if(t instanceof wi)return new ke(t.databaseId,t.key);if(t instanceof fi){if(t instanceof di){if(e.dataSource==Kr.MergeSet)return null;throw e.dataSource===Kr.Update?(c(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(t instanceof pi){if(!Nt(e.dataSource))throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new Ze(e.path,Je.instance)),null}return u("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+x(t))},t}(),Ei=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii="firestore.googleapis.com",Si=!0,Ci=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new zt(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ii,this.ssl=Si}else S("settings","string","host",t.host),this.host=t.host,C("settings","boolean","ssl",t.ssl),this.ssl=d(t.ssl,Si);_("settings",t,["host","ssl","credentials"]),C("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.equals=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),Ai=function(){return function(){}}(),ki=function(){function t(e){var n=this;this.INTERNAL={delete:function(){return n.k?n.k.shutdown():Promise.resolve()},disableNetwork:function(){return n.k.disableNetwork()},enableNetwork:function(){return n.k.enableNetwork()}};var r=new Ai;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new si(i)}else{var o=e;if(!o.projectId)throw new zt(Qt.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ee(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new ai}r.settings=new Ci({}),this._=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(y("Firestore.settings",arguments,1),E("Firestore.settings","object",1,t),f(t,"persistence"))throw new zt(Qt.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ci(t);if(this.k&&!this._.settings.equals(e))throw new zt(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._.settings=e,void 0!==e.credentials&&(this._.credentials=At(e.credentials))},t.prototype.enablePersistence=function(){if(this.k)throw new zt(Qt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this.k||this.configureClient(!1),this.k},t.prototype.configureClient=function(t){var e=this;c(!!this._.settings.host,"FirestoreSettings.host cannot be falsey"),c(!this.k,"configureClient() called multiple times");var n=new Zt(this._.databaseId,this._.persistenceKey,this._.settings.host,this._.settings.ssl);return this._dataConverter=new Ti(function(t){if(t instanceof Di){var n=e._.databaseId,r=t.firestore._.databaseId;if(!r.equals(n))throw new zt(Qt.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new wi(e._.databaseId,t.x)}return t}),this.k=new ei(Kt.getPlatform(),n,this._.credentials,new ri),this.k.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!f(e,"projectId")){if(f(e,"firestoreId"))throw new zt(Qt.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new zt(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(f(e,"firestoreOptions"))throw new zt(Qt.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new zt(Qt.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ee(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._.firebaseApp)throw new zt(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(y("Firestore.collection",arguments,1),E("Firestore.collection","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Ri(ie.fromString(t),this)},t.prototype.doc=function(t){if(y("Firestore.doc",arguments,1),E("Firestore.doc","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Di.forPath(ie.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return y("Firestore.runTransaction",arguments,1),E("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new xi(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Ni(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case qt.DEBUG:return"debug";case qt.ERROR:return"error";case qt.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(y("Firestore.setLogLevel",arguments,1),E("Firestore.setLogLevel","string",1,t),t){case"debug":i(qt.DEBUG);break;case"error":i(qt.ERROR);break;case"silent":i(qt.SILENT);break;default:throw new zt(Qt.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),xi=function(){function t(t,e){this.q=t,this.Q=e}return t.prototype.get=function(t){var e=this;y("Transaction.get",arguments,1);var n=Mt("Transaction.get",t,this.q);return this.Q.lookup([n.x]).then(function(t){if(!t||1!==t.length)return u("Mismatch in docs returned from document lookup.");var r=t[0];return r instanceof ce?new _i(e.q,n.x,null,!1):new _i(e.q,n.x,r,!1)})},t.prototype.set=function(t,e,n){w("Transaction.set",arguments,2,3);var r=Mt("Transaction.set",t,this.q),i=(n=Lt("Transaction.set",n)).merge?this.q._dataConverter.parseMergeData("Transaction.set",e):this.q._dataConverter.parseSetData("Transaction.set",e);return this.Q.set(r.x,i),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"==typeof e||e instanceof Ln?(b("Transaction.update",arguments,3),o=Mt("Transaction.update",t,this.q),a=this.q._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):(y("Transaction.update",arguments,2),o=Mt("Transaction.update",t,this.q),a=this.q._dataConverter.parseUpdateData("Transaction.update",e)),this.Q.update(o.x,a),this},t.prototype.delete=function(t){y("Transaction.delete",arguments,1);var e=Mt("Transaction.delete",t,this.q);return this.Q.delete(e.x),this},t}(),Ni=function(){function t(t){this.q=t,this.z=[],this.tt=!1}return t.prototype.set=function(t,e,n){w("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Mt("WriteBatch.set",t,this.q),i=(n=Lt("WriteBatch.set",n)).merge?this.q._dataConverter.parseMergeData("WriteBatch.set",e):this.q._dataConverter.parseSetData("WriteBatch.set",e);return this.z=this.z.concat(i.toMutations(r.x,nn.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"==typeof e||e instanceof Ln?(b("WriteBatch.update",arguments,3),o=Mt("WriteBatch.update",t,this.q),a=this.q._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):(y("WriteBatch.update",arguments,2),o=Mt("WriteBatch.update",t,this.q),a=this.q._dataConverter.parseUpdateData("WriteBatch.update",e)),this.z=this.z.concat(a.toMutations(o.x,nn.exists(!0))),this},t.prototype.delete=function(t){y("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Mt("WriteBatch.delete",t,this.q);return this.z=this.z.concat(new un(e.x,nn.NONE)),this},t.prototype.commit=function(){return this.verifyNotCommitted(),this.tt=!0,this.z.length>0?this.q.ensureClientConfigured().write(this.z):Promise.resolve()},t.prototype.verifyNotCommitted=function(){if(this.tt)throw new zt(Qt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Di=function(){function t(t,e){this.x=t,this.firestore=e,this.k=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new se(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this.x.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ri(this.x.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.x.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(y("DocumentReference.collection",arguments,1),E("DocumentReference.collection","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ie.fromString(t);return new Ri(this.x.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw O("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.x.equals(e.x)},t.prototype.set=function(t,e){w("DocumentReference.set",arguments,1,2);var n=(e=Lt("DocumentReference.set",e)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this.k.write(n.toMutations(this.x,nn.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"==typeof t||t instanceof Ln?(b("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(y("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this.k.write(i.toMutations(this.x,nn.exists(!0)))},t.prototype.delete=function(){return y("DocumentReference.delete",arguments,0),this.k.write([new un(this.x,nn.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];w("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||kt(t[i])||(r=t[i],_("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),C("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return kt(t[i])?n=t[i]:(E("DocumentReference.onSnapshot","function",i,t[i]),I("DocumentReference.onSnapshot","function",i+1,t[i+1]),I("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ni({next:function(t){if(e.next){c(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.x);e.next(new _i(n.firestore,n.x,r,t.fromCache))}},error:r}),o=this.k.listen(Le.atPath(this.x.path),i,t);return function(){i.mute(),n.k.unlisten(o)}},t.prototype.get=function(){var t=this;return y("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new zt(Qt.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),_i=function(){function t(t,e,n,r){this.q=t,this.x=e,this.et=n,this.nt=r}return t.prototype.data=function(){if(y("DocumentSnapshot.data",arguments,0),!this.et)throw new zt(Qt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this.et.data)},t.prototype.get=function(t){if(y("DocumentSnapshot.get",arguments,1),!this.et)throw new zt(Qt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var e=this.et.data.field(Ot("DocumentSnapshot.get",t));return void 0===e?void 0:this.convertValue(e)},Object.defineProperty(t.prototype,"id",{get:function(){return this.x.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Di(this.x,this.q)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.et},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this.et&&this.et.hasLocalMutations,fromCache:this.nt}},enumerable:!0,configurable:!0}),t.prototype.convertObject=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.convertValue(r)}),n},t.prototype.convertValue=function(t){if(t instanceof Ne)return this.convertObject(t);if(t instanceof De)return this.convertArray(t);if(t instanceof ke){var e=t.value(),n=this.q.ensureClientConfigured().databaseId();return t.databaseId.equals(n)||a("Document "+this.x.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new Di(e,this.q)}return t.value()},t.prototype.convertArray=function(t){var e=this;return t.internalValue.map(function(t){return e.convertValue(t)})},t}(),Oi=function(){function t(t,e){this.rt=t,this.firestore=e}return t.prototype.where=function(e,n,r){y("Query.where",arguments,3),E("Query.where","string",2,n),D("Query.where",3,r);var i,o=Ot("Query.where",e);if(o.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this.rt.path.child(new ie([r]));c(a.length%2==0,"Path should be a document key"),i=new ke(this.firestore._databaseId,new se(a))}else{if(!(r instanceof Di))throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+x(r)+".");var s=r;i=new ke(this.firestore._databaseId,s.x)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=G(o,Me.fromString(n),i);return this.validateNewFilter(u),new t(this.rt.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){w("Query.orderBy",arguments,1,2),I("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=Be.ASCENDING;else{if("desc"!==n)throw new zt(Qt.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Be.DESCENDING}if(null!==this.rt.startAt)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.rt.endAt)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Ot("Query.orderBy",e),o=new Ve(i,r);return this.validateNewOrderBy(o),new t(this.rt.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(y("Query.limit",arguments,1),E("Query.limit","number",1,e),e<=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this.rt.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this.rt.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this.rt.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this.rt.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this.rt.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw O("isEqual","Query",1,e);return this.firestore===e.firestore&&this.rt.equals(e.rt)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(D(t,1,e),e instanceof _i){if(n.length>0)throw new zt(Qt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new zt(Qt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i.et,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this.rt.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new ke(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new qe(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this.rt.explicitOrderBy;if(e.length>r.length)throw new zt(Qt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new se(this.rt.path.child(a));i.push(new ke(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new qe(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];w("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||kt(t[i])||(r=t[i],_("Query.onSnapshot",r,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),C("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),C("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),kt(t[i])?n=t[i]:(E("Query.onSnapshot","function",i,t[i]),I("Query.onSnapshot","function",i+1,t[i+1]),I("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ni({next:function(t){e.next&&e.next(new Pi(n.firestore,n.rt,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this.rt,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(){var t=this;return y("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof je&&t.isInequality()){var e=this.rt.getInequalityFilterField();if(null!==e&&!e.equals(t.field))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e+"' and '"+t.field+"'");var n=this.rt.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this.rt.getFirstOrderByField()){var e=this.rt.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.equals(t))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t+"' and so you must also use '"+t+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e+"' instead.")},t}(),Pi=function(){function t(t,e,n){this.q=t,this.it=e,this.ot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.ot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;w("QuerySnapshot.forEach",arguments,1,2),E("QuerySnapshot.forEach","function",1,t),this.ot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Oi(this.it,this.q)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=jt(this.q,this.ot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.convertToDocumentImpl=function(t){return new _i(this.q,t.key,t,this.metadata.fromCache)},t}(),Ri=function(t){function e(e,n){var r=t.call(this,Le.atPath(e),n)||this;if(e.length%2!=1)throw new zt(Qt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return Ei(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.rt.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.rt.path.popLast();return t.isEmpty()?null:new Di(new se(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.rt.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(w("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Xt.newId()),E("CollectionReference.doc","string",1,t),""===t)throw new zt(Qt.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ie.fromString(t);return Di.forPath(this.rt.path.child(e),this.firestore)},e.prototype.add=function(t){y("CollectionReference.add",arguments,1),E("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Oi),Li=h(ki,"Use firebase.firestore() instead."),Mi=h(xi,"Use firebase.firestore().runTransaction() instead."),ji=h(Ni,"Use firebase.firestore().batch() instead."),Ui=h(Di,"Use firebase.firestore().doc() instead."),Fi=h(_i),Bi=h(Oi),qi=h(Pi),Vi=h(Ri,"Use firebase.firestore().collection() instead."),Hi={Firestore:Li,GeoPoint:Jt,Blob:Yt,Transaction:Mi,WriteBatch:ji,DocumentReference:Ui,DocumentSnapshot:Fi,Query:Bi,QuerySnapshot:qi,CollectionReference:Vi,FieldPath:Ln,FieldValue:mi,setLogLevel:ki.setLogLevel};e.registerFirestore=Bt,Bt(Vt.default)},115:function(module,exports,__webpack_require__){(function(){function l(t){return"string"==typeof t}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function n(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?fa:ha).apply(null,arguments)}function ia(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ja(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=t+"")}function ka(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ma(t,e){return t<e?-1:t>e?1:0}function na(t,e){e.unshift(t),ja.call(this,ka.apply(null,e)),e.shift()}function oa(t,e){throw new na("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.v=this.v}function ua(t){t:{for(var e=va,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function wa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function xa(t){return Array.prototype.concat.apply([],arguments)}function ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function y(t){return-1!=x.indexOf(t)}function Ba(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ca(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Ea(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ga(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}function Ia(t,e){var n=Ja;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Oa(){var t=k.document;return t?t.documentMode:void 0}function Ua(t){return Ia(t,function(){for(var e=0,n=la(Pa+"").split("."),r=la(t+"").split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Qa=!0}function ab(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ma){t:{try{Ha(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:bb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function db(t){return!(!t||!t[cb])}function fb(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++eb,this.X=this.ba=!1}function gb(t){t.X=!0,t.listener=null,t.a=null,t.src=null,t.da=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=sa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function kb(t,e,n,r,i){return t=t.a[""+e],e=-1,t&&(e=ib(t,n,r,i)),-1<e?t[e]:null}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}function ob(t,e,r,i,o){if(i&&i.once)return pb(t,e,r,i,o);if(n(e)){for(var a=0;a<e.length;a++)ob(t,e[a],r,i,o);return null}return r=qb(r),db(t)?t.$(e,r,p(i)?!!i.capture:!!i,o):rb(t,e,r,!1,i,o)}function rb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=sb(t);if(s||(t[lb]=s=new hb(t)),(n=s.add(e,n,r,a,o)).a)return n;if(r=tb(),n.a=r,r.src=t,r.listener=n,t.addEventListener)$a||(i=a),void 0===i&&(i=!1),t.addEventListener(""+e,r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ub(""+e),r)}return nb++,n}function tb(){var t=vb,e=Ya?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function pb(t,e,r,i,o){if(n(e)){for(var a=0;a<e.length;a++)pb(t,e[a],r,i,o);return null}return r=qb(r),db(t)?t.Ia(e,r,p(i)?!!i.capture:!!i,o):rb(t,e,r,!0,i,o)}function wb(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)wb(t,e[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=qb(r),db(t)?t.xa(e,r,i,o):t&&(t=sb(t))&&(e=kb(t,e,r,i,o))&&xb(e)}function xb(t){if("number"!=typeof t&&t&&!t.X){var e=t.src;if(db(e))jb(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(ub(n),r),nb--,(n=sb(e))?(jb(n,t),0==n.b&&(n.src=null,e[lb]=null)):gb(t)}}}function ub(t){return t in mb?mb[t]:mb[t]="on"+t}function yb(t,e,n,r){var i=!0;if((t=sb(t))&&(e=t.a[""+e]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.X&&(o=zb(o,r),i=i&&!1!==o)}return i}function zb(t,e){var n=t.listener,r=t.da||t.src;return t.ba&&xb(t),n.call(r,e)}function vb(t,e){if(t.X)return!0;if(!Ya){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new ab(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var o=yb(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.a=r[i],o=yb(r[i],t,!1,e),n=n&&o}return n}return zb(t,new ab(e,this))}function sb(t){return(t=t[lb])instanceof hb?t:null}function qb(t){return da(t)?t:(t[Ab]||(t[Ab]=function(e){return t.handleEvent(e)}),t[Ab])}function B(){w.call(this),this.c=new hb(this),this.P=this,this.J=null}function Bb(t,e,n,r){if(!(e=t.c.a[e+""]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.ba&&jb(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Qa}function Cb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Db(a){if(a+="",Cb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Eb(t){var e=[];return Fb(new Gb,t,e),e.join("")}function Gb(){}function Fb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var i=e;e=i.length,r.push("[");for(var o="",a=0;a<e;a++)r.push(o),Fb(t,i[a],r),o=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){r.push("{"),o="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(a=e[i])&&(r.push(o),Hb(i,r),r.push(":"),Fb(t,a,r),o=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Hb(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?e+"":"null");break;case"boolean":r.push(e+"");break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Hb(t,e){e.push('"',t.replace(Kb,function(t){var e=Ib[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ib[t]=e),e}),'"')}function Lb(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Mb(){this.b=this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Ca;n.Ca=null,t()}},function(t){i.next={Ca:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=(k.Promise+"").indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}C.g(t),C.b<C.f&&(C.b++,t.next=C.a,C.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.jb,this),this.g=t()}function Yb(t){t.Z=!1,t.K&&(t.a.clearTimeout(t.K),t.K=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<+e?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.cb,this),this.a=[]}function ac(t){t.W=Zb(t.b,t.c),t.f.apply(null,t.a)}function D(t){w.call(this),this.b=t,this.a={}}function cc(t){Ba(t.a,function(t,e){this.a.hasOwnProperty(e)&&xb(t)},t),t.a={}}function dc(t,e,n,r,i){this.reset(t,e,n,r,i)}function fc(t){this.f=t,this.b=this.c=this.a=null}function E(t,e){this.name=t,this.value=e}function lc(t){return t.c?t.c:t.a?lc(t.a):(oa("Root logger has no level set."),null)}function F(t,e){t.log(gc,e,void 0)}function G(t,e){t.log(hc,e,void 0)}function oc(t){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var e;if(!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function pc(t,e){t&&t.log(ic,e,void 0)}function H(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug")}function rc(t,e,r,i){if(r)try{var o=JSON.parse(r);if(o)for(var a=0;a<o.length;a++)if(n(o[a])){var s=o[a];if(!(2>s.length)){var u=s[1];if(n(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<u.length;l++)u[l]=""}}}var h=Eb(o)}catch(e){I(t,"Exception parsing expected JS array - probably was not JS"),h=r}else h=null;I(t,"XMLHTTP TEXT ("+e+"): "+h+(i?" "+i:""))}function sc(t,e,n){(t=t.a)&&F(t,(n||"Exception")+e)}function I(t,e){pc(t.a,e)}function tc(t){A.call(this,"serverreachability",t)}function uc(){J.dispatchEvent(new tc(J))}function vc(t){A.call(this,"statevent",t)}function K(){J.dispatchEvent(new vc(J))}function wc(t){A.call(this,"timingevent",t)}function xc(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Ac(){}function Bc(t){var e;return(e=t.a)||(e={},Cc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Ec(){}function Fc(t){return(t=Cc(t))?new ActiveXObject(t):new XMLHttpRequest}function Cc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<4;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r,i){this.m=t,this.b=e,this.f=r,this.S=i||1,this.M=new D(this),this.P=Gc,(t=this.F=new Xb).b=Hc,t.K&&t.Z?(Yb(t),t.start()):t.K&&Yb(t),this.h=null,this.c=!1,this.a=this.B=this.g=this.l=this.I=this.H=this.T=this.o=null,this.C=0,this.i=this.j=null,this.v=-1,this.s=!1,this.N=0,this.G=null,this.J=!1}function Ic(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Lc(t,e,n){t.I=1,t.l=Mc(M(e)),t.B=n,t.J=!0,Nc(t,null)}function Oc(t,e,n,r){t.I=1,t.l=Mc(M(e)),t.B=null,t.J=n,Nc(t,r)}function Nc(e,n){e.H=t(),Pc(e),e.g=M(e.l),Qc(e.g,"t",e.S),e.C=0,e.a=e.m.ra(e.m.fa()?n:null),0<e.N&&(e.G=new $b(r(e.Ra,e,e.a),e.N)),e.M.$(e.a,"readystatechange",e.gb),n=e.h?Ea(e.h):{},e.B?(e.j||(e.j="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.ta(e.g,e.j,e.B,n)):(e.j="GET",e.a.ta(e.g,e.j,null,n)),uc();var i=e.B;if(i){n="",i=i.split("&");for(var o=0;o<i.length;o++){var a=i[o].split("=");if(1<a.length){var s=a[0];a=a[1];var u=s.split("_");n=2<=u.length&&"type"==u[1]?n+(s+"=")+a+"&":n+(s+"=redacted&")}}}else n=null;I(e.b,"XMLHTTP REQ ("+e.f+") [attempt "+e.S+"]: "+e.j+"\n"+e.g+"\n"+n)}function Sc(t,e,n){for(var r=!0;!t.s&&t.C<n.length;){var i=Wc(t,n);if(i==Kc){4==e&&(t.i=4,K(),r=!1),rc(t.b,t.f,null,"[Incomplete Response]");break}if(i==Jc){t.i=4,K(),rc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}rc(t.b,t.f,i,null),Tc(t,i)}4==e&&0==n.length&&(t.i=1,K(),r=!1),t.c=t.c&&r,r||(rc(t.b,t.f,n,"[Invalid Chunked Response]"),Uc(t),Vc(t))}function Wc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Kc:(n=+e.substring(n,r),isNaN(n)?Jc:(r+=1)+n>e.length?Kc:(e=e.substr(r,n),t.C=r+n,e))}function Pc(e){e.T=t()+e.P,Xc(e,e.P)}function Xc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=xc(r(t.eb,t),e)}function Rc(t){t.o&&(k.clearTimeout(t.o),t.o=null)}function Vc(t){t.m.Ka()||t.s||t.m.wa(t)}function Uc(t){Rc(t);var e=t.G;e&&"function"==typeof e.Y&&e.Y(),t.G=null,Yb(t.F),cc(t.M),t.a&&(e=t.a,t.a=null,e.abort(),e.Y())}function Tc(t,e){try{t.m.Na(t,e),uc()}catch(e){sc(t.b,e,"Error in httprequest callback")}}function Yc(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Ca(t)}function Zc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ta(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Da(t);i=(r=Yc(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof O?(n=t.O(),r=t.A()):(n=Da(t),r=Ca(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function ad(t){t.b={},t.a.length=0,t.c=0}function bd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$c(t),!0)}function $c(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],P(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof Q?(this.h=void 0!==e?e:t.h,ed(this,t.f),this.j=t.j,fd(this,t.b),gd(this,t.i),this.a=t.a,hd(this,id(t.c)),this.g=t.g):t&&(n=(t+"").match(cd))?(this.h=!!e,ed(this,n[1]||"",!0),this.j=jd(n[2]||""),fd(this,n[3]||"",!0),gd(this,n[4]),this.a=jd(n[5]||"",!0),hd(this,n[6]||"",!0),this.g=jd(n[7]||"")):(this.h=!!e,this.c=new kd(null,0,this.h))}function M(t){return new Q(t)}function ed(t,e,n){t.f=n?jd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fd(t,e,n){t.b=n?jd(e,!0):e}function gd(t,e){if(e){if(e=+e,isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function hd(t,e,n){e instanceof kd?(t.c=e,qd(t.c,t.h)):(n||(e=ld(e,rd)),t.c=new kd(e,0,t.h))}function R(t,e,n){t.c.set(e,n)}function Qc(t,e,r){n(r)||(r=[r+""]),sd(t.c,e,r)}function Mc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function td(t){return t instanceof Q?M(t):new Q(t,void 0)}function ud(t,e,n,r){var i=new Q(null,void 0);return t&&ed(i,t),e&&fd(i,e),n&&gd(i,n),r&&(i.a=r),i}function jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ld(t,e,n){return l(t)?(t=encodeURI(t).replace(e,vd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}function kd(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function S(t){t.a||(t.a=new O,t.b=0,t.c&&dd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xd(t,e){S(t),e=wd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,bd(t.a,e))}function yd(t,e){return S(t),e=wd(t,e),P(t.a.b,e)}function sd(t,e,n){xd(t,e),0<n.length&&(t.c=null,t.a.set(wd(t,e),ya(n)),t.b+=n.length)}function id(t){var e=new kd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function wd(t,e){return e+="",t.f&&(e=e.toLowerCase()),e}function qd(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xd(this,e),sd(this,n,t))},t)),t.f=e}function zd(){this.a=t()}function Bd(){Ad||(Ad=new zd)}function Cd(){Ad||(Ad=new zd)}function Dd(){}function Fd(){A.call(this,"d")}function Gd(){A.call(this,"c")}function Hd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Id(t){I(t.b,"TestConnection: starting stage 2");var e=t.a.J.a;if(null!=e)I(t.b,"Buffered"),K(),e?(K(),Jd(t.a,t,!1)):(K(),Jd(t.a,t,!0));else{t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,e=Kd(t.a,t.g,t.l),K(),Qc(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.N;n&&r&&R(e,n,r),Oc(t.c,e,!1,t.g)}}function Md(){this.a=this.b=null}function T(t){if(this.a=new O,t)for(var e=(t=Yc(t)).length,n=0;n<e;n++)this.add(t[n])}function Nd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++ea)):e.charAt(0)+t}function Od(t){this.f=t||Pd,this.c=k.pa&&k.pa.La&&k.pa.La()&&k.pa.La().Cb?this.f:1,this.a=null,1<this.c&&(this.a=new T),this.b=null}function Qd(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.c=t.f,t.a=new T,t.b&&(Rd(t,t.b),t.b=null))}function Sd(t){return!!t.b||!!t.a&&t.a.u()>=t.c}function Td(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function Rd(t,e){t.a?t.a.add(e):t.b=e}function Ud(t,e){this.a=t,this.b=e}function Vd(t,e){this.a=t,this.b=e}function Wd(){this.a=new Vd}function Xd(t,e,n){var r=n||"";try{Zc(t,function(t,n){var i=t;p(t)&&(i=Eb(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Yd(t,e){var n=new qc;I(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ia(Zd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ia(Zd,n,r,"TestLoadImage: error",!1,e),r.onabort=ia(Zd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ia(Zd,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function Zd(t,e,n,r,i){try{I(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){sc(t,e)}}function U(t){B.call(this),this.headers=new O,this.G=t||null,this.f=!1,this.F=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=$d,this.C=this.m=!1}function ee(t){return z&&Ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function va(t){return"content-type"==t.toLowerCase()}function ce(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,fe(t),ge(t)}function fe(t){t.H||(t.H=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function he(t){if(t.f&&void 0!==goog)if(t.F[1]&&4==N(t)&&2==t.V())H(t.b,V(t,"Local request error detected and ignored"));else if(t.o&&4==N(t))Zb(t.Ma,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){H(t.b,V(t,"Request complete")),t.f=!1;try{var e=t.V();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=(t.s+"").match(cd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!ae.test(o?o.toLowerCase():"")}r=i}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.V()+"]",fe(t))}finally{ge(t)}}}function ge(t,e){if(t.a){de(t);var n=t.a,r=t.F[0]?aa:null;t.a=null,t.F=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&F(t,"Problem encountered resetting onreadystatechange: "+e.message)}}}function de(t){t.a&&t.C&&(t.a.ontimeout=null),"number"==typeof t.B&&(k.clearTimeout(t.B),t.B=null)}function N(t){return t.a?t.a.readyState:0}function V(t,e){return e+" ["+t.M+" "+t.s+" "+t.V()+"]"}function ie(t){var e="";return Ba(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ie(n),l(t)){if(e=encodeURIComponent(e+""),n=null!=n?"="+encodeURIComponent(n+""):"",e+=n){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ke(t,e,n){this.za=e||0,this.Ba=0,this.h=[],this.l=[],this.a=new qc,this.J=n||new Md,this.ia=this.ya=this.H=this.ja=this.b=this.N=this.j=this.ha=this.f=this.P=this.i=null,this.Va=this.I=0,this.ka=this.C=this.s=this.m=this.o=this.c=null,this.v=this.Aa=this.S=-1,this.ga=this.B=this.G=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.M="",this.g=new Od(t&&t.concurrentRequestLimit),this.la=new Wd,this.F=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ua=t&&t.fastHandshake||!1}function le(e){if(I(e.a,"disconnect()"),me(e),3==e.D){var n=e.I++,r=M(e.H);R(r,"SID",e.M),R(r,"RID",n),R(r,"TYPE","terminate"),ne(e,r),(n=new L(e,e.a,0,n,void 0)).I=2,n.l=Mc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(""+n.l,"")),r||((new Image).src=n.l),n.H=t(),Pc(n)}oe(e)}function me(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),pe(t),t.g.cancel(),t.o&&(k.clearTimeout(t.o),t.o=null)}function qe(t,e){if(1e3==t.h.length){var n="Already have 1000 queued maps upon queueing "+Eb(e),r=t.a.a;r&&F(r,n)}t.h.push(new Ud(t.Va++,e)),3==t.D&&re(t)}function re(t){Sd(t.g)||t.o||(t.o=xc(r(t.Pa,t),0),t.G=0)}function te(t,e){if(e){t.h=t.l.concat(t.h),t.l.length=0;var n=t.I-1}else n=t.I++;e=se(t);var r=M(t.H);R(r,"SID",t.M),R(r,"RID",n),R(r,"AID",t.S),ne(t,r),t.f&&t.i&&je(r,t.f,t.i),n=new L(t,t.a,0,n,t.G+1),null===t.f&&(n.h=t.i),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),Rd(t.g,n),Lc(n,r,e)}function ne(t,e){t.c&&Zc({},function(t,n){R(e,n,t)})}function se(t){var e=Math.min(t.h.length,1e3),n=t.c?r(t.c.Wa,t.c,t):null,i=t.h,o=["count="+e];if(0<e){var a=i[0].a;o.push("ofs="+a)}else a=0;for(var s=0;s<e;s++){var u=i[s].a,c=i[s].b;u-=a;try{Xd(c,o,"req"+u+"_")}catch(t){n&&n(c)}}return n=o.join("&"),t.l=t.l.concat(t.h.splice(0,e)),n}function ue(t){if(!t.b&&!t.m){t.ga=1;var e=t.Oa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function ve(t){return t.b||t.m?((t=t.a.a)&&F(t,"Request already in progress"),!1):!(3<=t.B||(I(t.a,"Going to retry GET"),t.ga++,t.m=xc(r(t.Oa,t),we(t,t.B)),t.B++,0))}function Jd(t,e,n){I(t.a,"Test Connection Finished");var r=e.m;r&&Qd(t.g,r),t.ka=n,t.v=e.f,I(t.a,"connectChannel_()"),t.H=xe(t,t.ja),re(t)}function Ld(t,e){I(t.a,"Test Connection Failed"),t.v=e.f,W(t,2)}function pe(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function we(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.sa()||(I(t.a,"Inactive channel"),n*=2),n*e}function W(t,e){if(I(t.a,"Error code "+e),2==e){var n=null;t.c&&(n=null);var i=r(t.ib,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||ed(n,"https"),Mc(n)),Yd(""+n,i)}else K();I(t.a,"HttpChannel: error - "+e),t.D=0,t.c&&t.c.Da(t,e),oe(t),me(t)}function oe(t){if(t.D=0,t.v=-1,t.c)if(0==t.l.length&&0==t.h.length)t.c.na(t);else{I(t.a,"Number of undelivered maps, pending: "+t.l.length+", outgoing: "+t.h.length);var e=ya(t.l),n=ya(t.h);t.l.length=0,t.h.length=0,t.c.na(t,e,n)}}function xe(t,e){return e=ye(t,null,e),I(t.a,"GetForwardChannelUri: "+e),e}function Kd(t,e,n){return e=ye(t,t.fa()?e:null,n),I(t.a,"GetBackChannelUri: "+e),e}function ye(t,e,n){var r=td(n);if(""!=r.b)e&&fd(r,e+"."+r.b),gd(r,r.i);else{var i,o=k.location;i=e?e+"."+o.hostname:o.hostname,r=ud(o.protocol,i,o.port,n)}return t.ha&&Ba(t.ha,function(t,e){R(r,e,t)}),e=t.j,n=t.N,e&&n&&R(r,e,n),R(r,"VER",t.oa),ne(t,r),r}function ze(){}function Ae(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var i;(i=""==e)||(i=e.length-1,i=0<=i&&e.indexOf("/",i)==i),e+=i?r:"/"+r}}return e}function Be(){if(z&&!(10<=+Va))throw Error("Environmental error: no available transport.")}function X(t,e){B.call(this),this.a=new ke(e,20),this.b=t,this.s=e&&e.testUrl?e.testUrl:Ae(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,this.a.P=e&&e.initMessageHeaders||null,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.f=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(t=this.g,e in t&&delete t[e],(t=this.f)&&G(t,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Ce(this)}function De(t){Fd.call(this),this.data=t}function Ee(){Gd.call(this),this.status=1}function Ce(t){this.a=t}function Ge(){this.b=[],this.a=[]}function He(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ie(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Je);this.a=new Ge,this.b=new T,this.g=null,this.aa()}function Ke(t){if("function"==typeof t.Y)t.Y();else for(var e in t)t[e]=null}function Le(t,e){this.a=t,this.b=e}function Me(t){if(this.a=[],t)t:{if(t instanceof Me){var e=t.O();if(t=t.A(),0>=this.u()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Le(e[r],t[r]));break t}}else e=Da(t),t=Ca(t);for(r=0;r<e.length;r++)Ne(this,e[r],t[r])}}function Ne(t,e,n){var r=t.a;for(r.push(new Le(e,n)),e=r.length-1,n=(t=t.a)[e];0<e&&(r=e-1>>1,t[r].a>n.a);)t[e]=t[r],e=r;t[e]=n}function Oe(){Me.call(this)}function Y(t,e){this.f=new Oe,Ie.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),ea=0,t=Date.now||function(){return+new Date};u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Y=function(){if(!this.i&&(this.i=!0,this.w(),0!=qa)){var t=this[q]||(this[q]=++ea);delete ra[t]}},w.prototype.w=function(){if(this.v)for(;this.v.length;)this.v.shift()()};var sa=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,l(t))return l(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},x;t:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break t}}x=""}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;t:{var Qa="",Ra=function(){var t=x;return Ma?/rv:([^\);]+)(\)|;)/.exec(t):La?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Na?/WebKit\/(\S+)/.exec(t):Ka?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ra&&(Qa=Ra?Ra[1]:""),z){var Ta=Oa();if(null!=Ta&&Ta>parseFloat(Qa)){Pa=Ta+"";break t}}Pa=Qa}var Ja={},Va,Wa=k.document;Va=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;var Xa=Object.freeze||function(t){return t},Ya=!z||9<=+Va,Za=z&&!Ua("9"),$a=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();A.prototype.b=function(){this.Qa=!1},u(ab,A);var bb=Xa({2:"touch",3:"pen",4:"mouse"});ab.prototype.b=function(){ab.L.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Za)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var cb="closure_listenable_"+(1e6*Math.random()|0),eb=0;hb.prototype.add=function(t,e,n,r,i){var o=""+t;(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ib(t,e,r,i);return-1<a?(e=t[a],n||(e.ba=!1)):(e=new fb(e,this.src,o,!!r,i),e.ba=n,t.push(e)),e};var lb="closure_lm_"+(1e6*Math.random()|0),mb={},nb=0,Ab="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[cb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){ob(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){wb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ga(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Bb(a,r,!0,t)&&i}if(a=t.a=n,i=Bb(a,r,!0,t)&&i,i=Bb(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.a=e[o],i=Bb(a,r,!1,t)&&i;return i},g.w=function(){if(B.L.w.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.$=function(t,e,n,r){return this.c.add(t+"",e,!1,n,r)},g.Ia=function(t,e,n,r){return this.c.add(t+"",e,!0,n,r)},g.xa=function(t,e,n,r){var i=this.c;if((t+="")in i.a){var o=i.a[t];-1<(e=ib(o,e,n,r))?(gb(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.a[t],i.b--),i=!0):i=!1}else i=!1;return i};var Ib={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Kb=/\uffff/.test("ï¿¿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Lb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var C=new Lb(function(){return new Nb},function(t){t.reset()},100);Mb.prototype.add=function(t,e){var n=C.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new Mb;u(Xb,B),g=Xb.prototype,g.Z=!1,g.K=null,g.jb=function(){if(this.Z){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.Z&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.Z=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.w=function(){Xb.L.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ea=!1,g.W=null,g.Ya=function(t){this.a=arguments,this.W?this.ea=!0:ac(this)},g.w=function(){$b.L.w.call(this),this.W&&(k.clearTimeout(this.W),this.W=null,this.ea=!1,this.a=[])},g.cb=function(){this.W=null,this.ea&&(this.ea=!1,ac(this))},u(D,w);var bc=[];D.prototype.$=function(t,e,r,i){n(e)||(e&&(bc[0]=""+e),e=bc);for(var o=0;o<e.length;o++){var a=ob(t,e[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},D.prototype.xa=function(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)this.xa(t,e[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=qb(r),i=!!i,(e=db(t)?kb(t.c,e+"",r,i,o):t&&(t=sb(t))?kb(t,e,r,i,o):null)&&(xb(e),delete this.a[e.key]);return this},D.prototype.w=function(){D.L.w.call(this),cc(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),this.b=n,delete this.a},E.prototype.toString=function(){return this.name};var gc=new E("SEVERE",1e3),hc=new E("WARNING",900),ic=new E("INFO",800),jc=new E("CONFIG",700),kc=new E("FINE",500);fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(da(e)&&(e=e()),t=new dc(t,e+"",this.f),n&&(t.a=n),n="log:"+t.b,(t=k.console)&&t.timeStamp&&t.timeStamp(n),(t=k.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var mc={},nc=null,J=new B;u(tc,A),u(vc,A),u(wc,A);var yc={NO_ERROR:0,kb:1,rb:2,qb:3,nb:4,pb:5,sb:6,Sa:7,TIMEOUT:8,vb:9},zc={mb:"complete",zb:"success",Ta:"error",Sa:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",tb:"incrementaldata",wb:"progress",ob:"downloadprogress",Ab:"uploadprogress"};Ac.prototype.a=null;var Dc;u(Ec,Ac),Dc=new Ec;var Gc=45e3,Hc=250,Jc={},Kc={};g=L.prototype,g.setTimeout=function(t){this.P=t},g.gb=function(t){t=t.target;var e=this.G;e&&3==N(t)?(I(this.b,"Throttling readystatechange."),e.Ya()):this.Ra(t)},g.Ra=function(t){try{if(t==this.a){var e=N(this.a),n=this.a.Ga();if(!(3>e||3==e&&!Ka&&!this.a.U())){this.s||4!=e||7==n||uc(),Rc(this);var r=this.a.V();this.v=r;var i=this.a.U();if(i||I(this.b,"No response text for uri "+this.g+" status "+r),this.c=200==r,I(this.b,"XMLHTTP RESP ("+this.f+") [ attempt "+this.S+"]: "+this.j+"\n"+this.g+"\n"+e+" "+r),this.c)this.J?(Sc(this,e,i),Ka&&this.c&&3==e&&(this.M.$(this.F,"tick",this.fb),this.F.start())):(rc(this.b,this.f,i,null),Tc(this,i)),4==e&&Uc(this),this.c&&!this.s&&(4==e?this.m.wa(this):(this.c=!1,Pc(this)));else{if(400==r&&0<i.indexOf("Unknown SID")){this.i=3,K();var o=this.b.a;o&&G(o,"XMLHTTP Unknown SID ("+this.f+")")}else{this.i=0,K();var a=this.b.a;a&&G(a,"XMLHTTP Bad status "+r+" ("+this.f+")")}Uc(this),Vc(this)}}}else{var s=this.b.a;s&&G(s,"Called back with an unexpected xmlhttp")}}catch(t){I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.U()?sc(this.b,t,"ResponseText: "+this.a.U()):sc(this.b,t,"No response text")}},g.fb=function(){var t=N(this.a),e=this.a.U();this.C<e.length&&(Rc(this),Sc(this,t,e),this.c&&4!=t&&Pc(this))},g.cancel=function(){this.s=!0,Uc(this)},g.eb=function(){this.o=null;var e=t();if(0<=e-this.T)this.c&&(e=this.b.a)&&F(e,"Received watchdog timeout even though request loaded successfully"),I(this.b,"TIMEOUT: "+this.g),2!=this.I&&(uc(),K()),Uc(this),this.i=2,Vc(this);else{var n=this.b.a;n&&G(n,"WatchDog timer called too early"),Xc(this,this.T-e)}},g=O.prototype,g.u=function(){return this.c},g.A=function(){$c(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return $c(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var cd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ld(e,md,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ld(e,md,!0),"@"),t.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",n+"")),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ld(n,"/"==n.charAt(0)?nd:od,!0))),(n=""+this.c)&&t.push("?",n),(n=this.g)&&t.push("#",ld(n,pd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?ed(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?fd(e,t.b):n=null!=t.i;var r=t.a;if(n)gd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!=""+t.c,n?hd(e,id(t.c)):n=!!t.g,n&&(e.g=t.g),e};var md=/[#\/\?@]/g,od=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,pd=/#/g;g=kd.prototype,g.u=function(){return S(this),this.b},g.add=function(t,e){S(this),this.c=null,t=wd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ta(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){S(this);for(var t=this.a.A(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))yd(this,t)&&(e=xa(e,this.a.get(wd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=xa(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,t=wd(this,t),yd(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?t[0]+"":e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(r+"");r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(r[o]+"")),t.push(a)}}return this.c=t.join("&")};var Ad=null;zd.prototype.set=function(t){this.a=t},zd.prototype.reset=function(){this.set(t())},zd.prototype.get=function(){return this.a},u(Cd,Bd);var Ed={OPEN:"a",lb:"b",Ta:"c",ub:"d"};u(Fd,A),u(Gd,A),g=Hd.prototype,g.R=null,g.ra=function(t){return this.a.ra(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ka=function(){return!1},g.Na=function(t,e){if(this.f=t.v,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.F&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.N=t:(t=this.b.a)&&G(t,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return sc(this.b,t),void Ld(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ld(this.a,this)}else 1==this.R&&(this.h?K():"11111"==e?(K(),this.h=!0,(!z||10<=+Va)&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0))):(K(),this.h=!1))},g.wa=function(){this.f=this.c.v,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Id(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),K(),Jd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?K():1==this.R&&K(),Ld(this.a,this))},g.fa=function(){return this.a.fa()},g.sa=function(){return this.a.sa()},T.prototype.u=function(){return this.a.u()},T.prototype.add=function(t){this.a.set(Nd(t),t)},T.prototype.contains=function(t){return t=Nd(t),P(this.a.b,t)},T.prototype.A=function(){return this.a.A()};var Pd=10;Od.prototype.cancel=function(){this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.A(),function(t){t.cancel()}),ad(this.a.a))},Vd.prototype.stringify=function(t){return k.JSON.stringify(t,this.a)},Vd.prototype.parse=function(t){return k.JSON.parse(t,this.b)},u(U,B);var $d="";U.prototype.b=oc("goog.net.XhrIo");var ae=/^https?$/i,be=["POST","PUT"];g=U.prototype,g.ta=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+t);e=e?e.toUpperCase():"GET",this.s=t,this.g="",this.j=0,this.M=e,this.H=!1,this.f=!0,this.a=Fc(this.G?this.G:Dc),this.F=Bc(this.G?this.G:Dc),this.a.onreadystatechange=r(this.Ma,this);try{H(this.b,V(this,"Opening Xhr")),this.I=!0,this.a.open(e,t+"",!0),this.I=!1}catch(t){return H(this.b,V(this,"Error opening Xhr: "+t.message)),void ce(this,t)}t=n||"";var o=new O(this.headers);i&&Zc(i,function(t,e){o.set(e,t)}),i=ua(o.O()),n=k.FormData&&t instanceof k.FormData,!(0<=sa(be,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{de(this),0<this.l&&(this.C=ee(this.a),H(this.b,V(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ja,this)):this.B=Zb(this.Ja,this.l,this)),H(this.b,V(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){H(this.b,V(this,"Send error: "+t.message)),ce(this,t)}},g.Ja=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,H(this.b,V(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(H(this.b,V(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ge(this))},g.w=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),ge(this,!0)),U.L.w.call(this)},g.Ma=function(){this.i||(this.I||this.o||this.h?he(this):this.bb())},g.bb=function(){he(this)},g.V=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return H(this.b,"Can not get status: "+t.message),""}},g.U=function(){try{return this.a?this.a.responseText:""}catch(t){return H(this.b,"Can not get responseText: "+t.message),""}},g.Za=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Db(t)}return n}},g.Ga=function(){return this.j},g.$a=function(){return l(this.g)?this.g:this.g+""},g=ke.prototype,g.oa=8,g.D=1,g.Ka=function(){return 0==this.D},g.Pa=function(t){if(this.o=null,I(this.a,"startForwardChannel_"),1==this.D)if(t)(t=this.a.a)&&F(t,"Not supposed to retry the open");else{I(this.a,"open_()"),this.I=Math.floor(1e5*Math.random()),t=this.I++;var e=new L(this,this.a,0,t,void 0),n=this.i;this.P&&(n?(n=Ea(n),Ga(n,this.P)):n=this.P),null===this.f&&(e.h=n);var r=se(this),i=M(this.H);R(i,"RID",t),0<this.za&&R(i,"CVER",this.za),this.F&&this.j&&R(i,"X-HTTP-Session-Id",this.j),ne(this,i),this.f&&n&&je(i,this.f,n),Rd(this.g,e),this.Ua?(R(i,"$req",r),Lc(e,i,null)):Lc(e,i,r),this.D=2}else 3==this.D&&(t?te(this,t):0==this.h.length?I(this.a,"startForwardChannel_ returned: nothing to send"):Sd(this.g)?(t=this.a.a)&&F(t,"startForwardChannel_ returned: connection already in progress"):(te(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Oa=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,0,"rpc",this.ga),null===this.f&&(this.b.h=this.i),this.b.N=0;var t=M(this.ya);R(t,"RID","rpc"),R(t,"SID",this.M),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.S),ne(this,t),R(t,"TYPE","xmlhttp"),this.f&&this.i&&je(t,this.f,this.i),Oc(this.b,t,!0,this.ia),I(this.a,"New Request created")},g.Na=function(t,e){if(0!=this.D&&(this.b==t||Td(this.g,t)))if(this.v=t.v,Td(this.g,t)&&3==this.D){try{var i=this.la.a.parse(e)}catch(t){i=null}if(n(i)&&3==i.length)if(0==(e=i)[0])t:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.H+3e3<t.H))break t;pe(this),this.b.cancel(),this.b=null}else(t=this.a.a)&&G(t,"We do not have a BackChannel established");ve(this),K()}else this.Aa=e[1],0<(t=this.Aa-this.S)&&(e=e[2],I(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=xc(r(this.ab,this),6e3)));else I(this.a,"Bad POST response data returned"),W(this,11)}else if(this.b==t&&pe(this),!/^[\s\xa0]*$/.test(e))for(e=i=this.la.a.parse(e),i=0;i<e.length;i++){var o=e[i];if(this.S=o[0],o=o[1],2==this.D)if("c"==o[0]){this.M=o[1],this.ia=o[2];var a=o[3];null!=a&&(this.oa=a,I(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.Ba=o,I(this.a,"SVER="+this.Ba)),this.F&&(o=t.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&Qd(this.g,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.N=o,R(this.H,this.j,o)):(o=this.a.a)&&G(o,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.D=3,this.c&&this.c.Fa(this),this.ya=Kd(this,this.ia,this.ja),ue(this)}else"stop"!=o[0]&&"close"!=o[0]||W(this,7);else 3==this.D&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?W(this,7):le(this):"noop"!=o[0]&&this.c&&this.c.Ea(this,o),this.B=0)}},g.ab=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,ve(this),K())},g.wa=function(e){if(I(this.a,"Request complete"),this.b==e){pe(this),this.b=null;var n=2}else{if(!Td(this.g,e))return;(n=this.g).b&&n.b==e?n.b=null:n.a&&n.a.contains(e)&&bd(n.a.a,Nd(e)),n=1}if(this.v=e.v,0!=this.D)if(e.c)1==n?(t(),J.dispatchEvent(new wc(J)),re(this),this.l.length=0):ue(this);else{var i=e.i;if(3==i||0==i&&0<this.v)I(this.a,"Not retrying due to error type");else{I(this.a,"Maybe retrying, last error: "+Ic(i,this.v));var o;if((o=1==n)&&(Sd(this.g)||this.o?((e=this.a.a)&&F(e,"Request already in progress"),o=!1):1==this.D||2==this.D||2<=this.G?o=!1:(I(this.a,"Going to retry POST"),this.o=xc(r(this.Pa,this,e),we(this,this.G)),this.G++,o=!0)),o||2==n&&ve(this))return;I(this.a,"Exceeded max number of retries")}switch(I(this.a,"Error: HTTP request failed"),i){case 1:W(this,5);break;case 4:W(this,10);break;case 3:W(this,6);break;default:W(this,2)}}},g.ib=function(t){t?I(this.a,"Successfully pinged google.com"):I(this.a,"Failed to ping google.com"),K()},g.ra=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return t=new U,t.m=this.T,t},g.sa=function(){return!!this.c&&!0},g.fa=function(){return this.T},new Cd,g=ze.prototype,g.Fa=function(){},g.Ea=function(){},g.Da=function(){},g.na=function(){},g.Wa=function(){},Be.prototype.a=function(t,e){return new X(t,e)},u(X,B),X.prototype.j=function(){this.a.c=this.h,this.o&&(this.a.T=!0);var t=this.a,e=this.s,n=this.b,r=this.g||void 0;I(t.a,"connect()"),K(),t.ja=n,t.ha=r||{},t.F&&(I(t.a,"connect() bypassed channel-test."),t.J.b=[],t.J.a=!1),I(t.a,"connectTest_()"),t.C=new Hd(t,t.a),null===t.f&&(t.C.i=t.i),n=e,t.f&&t.i&&(n=je(e,t.f,t.i)),(t=t.C).l=n,e=xe(t.a,t.l),K(),null!=(n=t.a.J.b)?(t.g=n[0],t.R=1,Id(t)):(Qc(e,"MODE","init"),!t.a.F&&t.a.j&&Qc(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,Oc(t.c,e,!1,null),t.R=0)},X.prototype.close=function(){le(this.a)},X.prototype.l=function(t){if(this.m){var e={};e.__data__=Eb(t),qe(this.a,e)}else qe(this.a,t)},X.prototype.w=function(){this.a.c=null,delete this.h,le(this.a),delete this.a,X.L.w.call(this)},u(De,Fd),u(Ee,Gd),u(Ce,ze),Ce.prototype.Fa=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Ce.prototype.Ea=function(t,e){this.a.dispatchEvent(new De(e))},Ce.prototype.Da=function(t,e){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Ee)},Ce.prototype.na=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Fe=ia(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Be);Ge.prototype.u=function(){return this.b.length+this.a.length},Ge.prototype.contains=function(t){return 0<=sa(this.b,t)||0<=sa(this.a,t)},Ge.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ie,w);var Je="[goog.structs.Pool] Min can not be greater than max";g=Ie.prototype,g.ca=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=He(this.a),!this.va(n));)this.aa();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.add(n)),n}},g.hb=function(t){return!!bd(this.b.a,Nd(t))&&(this.ma(t),!0)},g.ma=function(t){bd(this.b.a,Nd(t)),this.va(t)&&this.u()<this.c?this.a.a.push(t):Ke(t)},g.aa=function(){for(var t=this.a;this.u()<this.h;){var e=this.qa();t.a.push(e)}for(;this.u()>this.c&&0<this.a.u();)Ke(He(t))},g.qa=function(){return{}},g.va=function(t){return"function"!=typeof t.Xa||t.Xa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.u=function(){return this.a.u()+this.b.u()},g.w=function(){if(Ie.L.w.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Ke(He(t));delete this.a},Me.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Me.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Me.prototype.u=function(){return this.a.length},u(Oe,Me),u(Y,Ie),g=Y.prototype,g.ca=function(t,e){if(!t)return Y.L.ca.call(this);Ne(this.f,void 0!==e?e:100,t),this.ua()},g.ua=function(){for(var t=this.f;0<t.u();){var e=this.ca();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),r=0,i=(n=n.a).length;for(var a=n[r];r<i>>1;){var s=2*r+1,u=2*r+2;if(s=u<i&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.L.ma.call(this,t),this.ua()},g.aa=function(){Y.L.aa.call(this),this.ua()},g.w=function(){Y.L.w.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Z,Y),Z.prototype.qa=function(){var t=new U,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Z.prototype.va=function(t){return!t.i&&!t.a},Be.prototype.createWebChannel=Be.prototype.a,X.prototype.send=X.prototype.l,X.prototype.open=X.prototype.j,X.prototype.close=X.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,zc.COMPLETE="complete",Dd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",B.prototype.listen=B.prototype.$,Z.prototype.getObject=Z.prototype.ca,Z.prototype.releaseObject=Z.prototype.hb,U.prototype.listenOnce=U.prototype.Ia,U.prototype.getLastError=U.prototype.$a,U.prototype.getLastErrorCode=U.prototype.Ga,U.prototype.getStatus=U.prototype.V,U.prototype.getStatusText=U.prototype.Ha,U.prototype.getResponseJson=U.prototype.Za,U.prototype.getResponseText=U.prototype.U,U.prototype.getResponseText=U.prototype.U,U.prototype.send=U.prototype.ta,module.exports={createWebChannelTransport:Fe,ErrorCode:yc,EventType:zc,WebChannel:Dd,XhrIoPool:Z}}).call("undefined"!=typeof window?window:this)}},[113])}catch(t){throw Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}